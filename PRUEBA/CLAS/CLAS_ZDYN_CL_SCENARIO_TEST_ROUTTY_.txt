INCLUDE zdyn_cl_scenario_test=========ccmac.

class ZDYN_CL_SCENARIO_TEST_ROUTTY definition
  public
  inheriting from ZDYN_CL_SCENARIO_TEST
  create public .

public section.

  methods GET_INVOICE_FROM_ROUTTY_03
    returning
      value(RS_RESULT) type STRING .
  methods GET_INVOICE_FROM_ROUTTY_02
    returning
      value(RS_RESULT) type STRING .
  methods GET_INVOICE_FROM_ROUTTY_01
    returning
      value(RS_RESULT) type STRING .
  methods GET_INVOICE_FROM_ROUTTY_06
    returning
      value(RS_RESULT) type STRING .
  methods GET_INVOICE_FROM_ROUTTY_04
    returning
      value(RS_RESULT) type STRING .
  methods GET_INVOICE_FROM_ROUTTY_05
    returning
      value(RS_RESULT) type STRING .
  methods GET_SC_WBS_ELEM_TO_ROUTTYAP_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_WBS_ELEM_TO_ROUTTYAP_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ORDERS_TO_ROUTTYAP_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ORDERS_TO_ROUTTYAP_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_COMP_CODE_TO_ROUTTYAP_2
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_COMP_CODE_TO_ROUTTYAP_1
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_TAX_CODE_TO_ROUTTYAP_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_TAX_CODE_TO_ROUTTYAP_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_PAY_TERM_TO_ROUTTYAP_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_PAY_TERM_TO_ROUTTYAP_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CURRENCY_TO_ROUTTYAP_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CURRENCY_TO_ROUTTYAP_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_COST_CEN_TO_ROUTTYAP_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_COST_CEN_TO_ROUTTYAP_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_GL_ACC_TO_ROUTTYAP_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_GL_ACC_TO_ROUTTYAP_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CUSTOMER_TO_ROUTTYAP_ND
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_SUPPLIER_TO_ROUTTYAP_ND
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CUSTOMER_TO_ROUTTYAP_07
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CUSTOMER_TO_ROUTTYAP_06
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CUSTOMER_TO_ROUTTYAP_05
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CUSTOMER_TO_ROUTTYAP_03
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CUSTOMER_TO_ROUTTYAP_04
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CUSTOMER_TO_ROUTTYAP_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CUSTOMER_TO_ROUTTYAP_20
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_CUSTOMER_TO_ROUTTYAP_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_SUPPLIER_TO_ROUTTYAP_05
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_SUPPLIER_TO_ROUTTYAP_04
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_SUPPLIER_TO_ROUTTYAP_08
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_SUPPLIER_TO_ROUTTYAP_07
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_SUPPLIER_TO_ROUTTYAP_06
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_SUPPLIER_TO_ROUTTYAP_03
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_SUPPLIER_TO_ROUTTYAP_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_SUPPLIER_TO_ROUTTYAP_20
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_SUPPLIER_TO_ROUTTYAP_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_PO_TO_ROUTTYAP_03
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_PO_TO_ROUTTYAP_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_PO_TO_ROUTTYAP_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ROUTTYAP_IV_TO_PD_06
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ROUTTYAP_IV_TO_PD_05
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ROUTTYAP_IV_TO_PD_04
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ROUTTYAP_IV_TO_PD_03
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ROUTTYAP_IV_TO_PD_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ROUTTYAP_IV_TO_PD_NEG
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ROUTTYAP_IV_TO_PD_08
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ROUTTYAP_IV_TO_PD_07
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_ROUTTYAP_IV_TO_PD_01
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_IV_WITH_DIFF_XSLT_03
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_IV_WITH_DIFF_XSLT_02
    returning
      value(ER_SCENARIO) type ref to DATA .
  methods GET_SC_IV_WITH_DIFF_XSLT_01
    returning
      value(ER_SCENARIO) type ref to DATA .
protected section.
private section.
endclass. "ZDYN_CL_SCENARIO_TEST_ROUTTY definition
class ZDYN_CL_SCENARIO_TEST_ROUTTY implementation.
METHOD get_invoice_from_routty_01.

  CONCATENATE
  '<PurchaseInvoice>'
  '	<PurchaseInvoiceData>'
  '   <PurchaseInvoiceHeader>'
  '     <Supplier>'
  '       <Metadata>'
  '         <Number>43001</Number>'
  '         <SiteCode/>'
  '         <CorporateGroupID>1043</CorporateGroupID>'
  '         <IsMasterdata>true</IsMasterdata>'
  '         <Name1>OMV AG</Name1>'
  '         <Name2/>'
  '         <Address1>Rennbahnstrasse 6</Address1>'
  '         <Address2/>'
  '         <PoBox/>'
  '         <PostalCode>1020</PostalCode>'
  '         <City>Wien</City>'
  '         <State/>'
  '         <Location/>'
  '         <CountryCode>AT</CountryCode>'
  '         <Telephone/>'
  '         <EmailAddress>info@dynatos.be</EmailAddress>'
  '         <PaymentTerms>0001</PaymentTerms>'
  '         <PaymentMethod>AKLOSU</PaymentMethod>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <PartyRegistrationNumbers>'
  '           <PartyRegistrationNumber>'
  '             <Number>ATU99999993</Number>'
  '             <Scheme>123</Scheme>'
  '           </PartyRegistrationNumber>'
  '           <PartyRegistrationNumber>'
  '             <Number>ATU99999993</Number>'
  '             <Scheme>VAT</Scheme>'
  '           </PartyRegistrationNumber>'
  '         </PartyRegistrationNumbers>'
  '         <PartyBankAccounts>'
  '           <PartyBankAccount>'
  '             <BankNumber>19100</BankNumber>'
  '             <AccountNumber>98765454321</AccountNumber>'
  '             <IBAN>AT421910098765454321</IBAN>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '         </PartyBankAccounts>'
  '       </Metadata>'
  '       <Type>'
  '         <Name>Partner</Name>'
  '       </Type>'
  '       <Active>true</Active>'
  '     </Supplier>'
  '     <Buyer>'
  '       <Metadata>'
  '         <Number>1043</Number>'
  '         <SiteCode/>'
  '         <CorporateGroupID>1043</CorporateGroupID>'
  '         <IsMasterdata>true</IsMasterdata>'
  '         <Name1>Dynatos Österreich GmbH</Name1>'
  '         <Name2/>'
  '         <Address1>Heugasse 1</Address1>'
  '         <Address2/>'
  '         <PoBox/>'
  '         <PostalCode>1120</PostalCode>'
  '         <City>Wien</City>'
  '         <State/>'
  '         <Location/>'
  '         <CountryCode>AT</CountryCode>'
  '         <Telephone/>'
  '         <EmailAddress>info@dynatos.be</EmailAddress>'
  '         <PaymentTerms/>'
  '         <PaymentMethod/>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <PartyRegistrationNumbers>'
  '           <PartyRegistrationNumber>'
  '             <Number>ABC123</Number>'
  '             <Scheme>VAT</Scheme>'
  '           </PartyRegistrationNumber>'
  '         </PartyRegistrationNumbers>'
  '         <PartyBankAccounts>'
  '           <PartyBankAccount>'
  '             <BankNumber/>'
  '             <AccountNumber/>'
  '             <IBAN/>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '         </PartyBankAccounts>'
  '       </Metadata>'
  '       <Type>'
  '         <Name>Company</Name>'
  '       </Type>'
  '       <Active>true</Active>'
  '     </Buyer>'
  '     <DocumentSet>'
  '       <Id>45</Id>'
  '       <DocumentId>IV_4500022676</DocumentId>'
  '       <CreateTimeStamp>2022-01-24T18:57:02.897</CreateTimeStamp>'
  '       <UpdateTimeStamp>2022-01-25T09:10:50.647</UpdateTimeStamp>'
  '       <CreatedBy>Dispatcher</CreatedBy>'
  '       <UpdatedBy>AutoUpdate</UpdatedBy>'
  '       <Guid>b3beff90-47ed-450b-a779-d254b63915bd</Guid>'
  '       <Direction>IN</Direction>'
  '       <StatusId>8</StatusId>'
  '       <ChannelId>11</ChannelId>'
  '       <IncomingConnectionId p5:nil="true"'
  '                             xmlns:p5="http://www.w3.org/2001/XMLSchema-instance"/>'
  '       <OriginId p5:nil="true"'
  '                 xmlns:p5="http://www.w3.org/2001/XMLSchema-instance"/>'
  '       <DocumentTypeId p5:nil="true"'
  '                       xmlns:p5="http://www.w3.org/2001/XMLSchema-instance"/>'
  '     </DocumentSet>'
  '     <DocumentReceiver>'
  '       <Id>0</Id>'
  '       <Number>43001</Number>'
  '       <VatNumber>ATU99999993</VatNumber>'
  '       <Name>OMV AG</Name>'
  '       <Street>Rennbahnstrasse 6</Street>'
  '       <PostalCode>1020</PostalCode>'
  '       <City>Wien</City>'
  '       <Country>AT</Country>'
  '       <ExternalUniqueId>1043</ExternalUniqueId>'
  '     </DocumentReceiver>'
  '     <DocumentSupplier>'
  '       <Id>0</Id>'
  '       <Number>1043</Number>'
  '       <Name>Dynatos ?sterreich GmbH</Name>'
  '       <RegistrationNumber1>ABC123</RegistrationNumber1>'
  '       <Street>Heugasse 1</Street>'
  '       <PostalCode>1120</PostalCode>'
  '       <City>Wien</City>'
  '       <Country>AT</Country>'
  '       <CorporateGroupID>1043</CorporateGroupID>'
  '     </DocumentSupplier>'
  '     <DocumentReference>IV_4500022676</DocumentReference>'
  '     <OrderReference>4500022676</OrderReference>'
  '     <ReceiptReference/>'
  '     <DocumentDate>2022-01-24T00:00:00</DocumentDate>'
  '     <DueDate>2022-03-01T00:00:00</DueDate>'
  '     <PaymentReference/>'
  '     <PaymentTerms/>'
  '     <DocumentType>Invoice</DocumentType>'
  '     <DocumentSubType>PO</DocumentSubType>'
  '     <Currency>EUR</Currency>'
  '     <CurrencyRate p4:nil="true"'
  '                   xmlns:p4="http://www.w3.org/2001/XMLSchema-instance"/>'
  '     <TotalNetAmount>8000.00</TotalNetAmount>'
  '     <TotalVatAmount>1520.00</TotalVatAmount>'
  '     <TotalGrossAmount>9520.00</TotalGrossAmount>'
  '     <TotalDiscountAmount>0.00</TotalDiscountAmount>'
  '     <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
  '     <DocumentReceiversName>OMV AG</DocumentReceiversName>'
  '     <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>'
  '     <DocumentReceiversIban>AT421910098765454321</DocumentReceiversIban>'
  '     <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
  '     <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>'
  '     <DocumentSuppliersRegistrationNumber1>ABC123</DocumentSuppliersRegistrationNumber1>'
  '     <NetAmount1>8000.00</NetAmount1>'
  '     <VatAmount1>1520.00</VatAmount1>'
  '     <VatRate1>19.00</VatRate1>'
  '     <VatRate2/>'
  '     <VatRate3/>'
  '     <VatRate4/>'
  '     <VatRate5/>'
  '     <HeaderText1/>'
  '     <HeaderText2/>'
  '     <ReceptionDate>2022-01-24T00:00:00</ReceptionDate>'
  '     <BookingNumber>0</BookingNumber>'
  '     <BookingDate>2022-01-31T00:00:00</BookingDate>'
  '     <BookingYear>2022</BookingYear>'
  '     <BookingMonth>1</BookingMonth>'
  '     <DocumentSetId>45</DocumentSetId>'
  '     <DocumentRawId>124</DocumentRawId>'
  '     <Dimension1/>'
  '     <Dimension2/>'
  '     <Dimension3/>'
  '     <Dimension4/>'
  '     <Dimension5/>'
  '     <Dimension6/>'
  '     <Dimension7/>'
  '     <Dimension8/>'
  '     <VatSystem>S</VatSystem>'
  '     <SupplierNumber>43001</SupplierNumber>'
  '     <SupplierName>OMV AG</SupplierName>'
  '     <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>'
  '     <SupplierIban>AT421910098765454321</SupplierIban>'
  '     <BuyerNumber>1043</BuyerNumber>'
  '     <BuyerName>Dynatos ?sterreich GmbH</BuyerName>'
  '     <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>'
  '   </PurchaseInvoiceHeader>'
  '   <PurchaseInvoiceLines>'
  '     <PurchaseInvoiceLine>'
  '       <LineId>1</LineId>'
  '       <ArticleNumberSupplier/>'
  '       <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
  '       <ArticleDescription>Casings</ArticleDescription>'
  '       <StandardArticleNumber/>'
  '       <Quantity>100.000000</Quantity>'
  '       <UnitCode>PC</UnitCode>'
  '       <Price>80.000000</Price>'
  '       <LineAmount>8000.000000</LineAmount>'
  '       <Status>Matched</Status>'
  '       <PurchaseInvoiceHeaderId>42</PurchaseInvoiceHeaderId>'
  '       <OrderReference>4500022676</OrderReference>'
  '       <OrderLineId>10</OrderLineId>'
  '       <ReceiptReference/>'
  '       <ReceiptLineId/>'
  '       <Dimension1/>'
  '       <Dimension2/>'
  '       <Dimension3/>'
  '       <Dimension4/>'
  '       <Dimension5/>'
  '       <Dimension6/>'
  '       <Dimension7/>'
  '       <Dimension8/>'
  '       <VatRate>19.0000</VatRate>'
  '       <PurchaseOrderLinesId>10769</PurchaseOrderLinesId>'
  '       <EanCode/>'
  '     </PurchaseInvoiceLine>'
  '   </PurchaseInvoiceLines>'
  '   <PurchaseInvoiceCodingLines>'
*  '     <PurchaseInvoiceCodingLine>'
*  '       <GlAccount>892000</GlAccount>'
*  '       <CostCenter>1043</CostCenter>'
*  '       <DebitAmount>8000.00</DebitAmount>'
*  '       <VatAmount>1520.00</VatAmount>'
*  '       <VatCode>VA</VatCode>'
*  '       <VatSystem>S</VatSystem>'
*  '       <Status>POLine</Status>'
*  '       <HeaderId>42</HeaderId>'
*  '       <PurchaseInvoiceLinesId>135</PurchaseInvoiceLinesId>'
*  '     </PurchaseInvoiceCodingLine>'
  '   </PurchaseInvoiceCodingLines>'
  '   <PurchaseInvoiceIntrastatLines/>'
  '   <PurchaseInvoicePaymentScheduleLines/>'
  '   <MatchingExceptions/>'
  '   <ArchiveLinks>'
  '     <Link>SoM67A5qk4TN/cM5G1H8CQ==</Link>'
  '     <Link>UoMnAbGN+5RPnc7UF2zrEg==</Link>'
  '   </ArchiveLinks>'
  '	</PurchaseInvoiceData>'
  '	<PurchaseOrderMasterDataList>'
  '   <PurchaseOrderMasterData>'
  '     <PurchaseOrderHeader>'
  '       <DocumentReference>4500022676</DocumentReference>'
  '       <DocumentDate>2022-01-24T14:22:22</DocumentDate>'
  '       <DocumentType>NB</DocumentType>'
  '       <Currency>EUR</Currency>'
  '       <TotalNetAmount>8000.00</TotalNetAmount>'
  '       <TotalVatAmount>0.00</TotalVatAmount>'
  '       <TotalGrossAmount>8000.00</TotalGrossAmount>'
  '       <TotalDiscountAmount>0.00</TotalDiscountAmount>'
  '       <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
  '       <DocumentReceiversName>OMV AG</DocumentReceiversName>'
  '       <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>'
  '       <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
  '       <DocumentSuppliersName>Dynatos Osterreich</DocumentSuppliersName>'
  '       <DocumentStatus>Open</DocumentStatus>'
  '       <SuppliersName>OMV AG</SuppliersName>'
  '       <SupplierName>OMV AG</SupplierName>'
  '       <SuppliersNumber>43001</SuppliersNumber>'
  '       <SupplierNumber>43001</SupplierNumber>'
  '       <SuppliersRegistrationNumber>ATU99999993</SuppliersRegistrationNumber>'
  '       <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>'
  '       <BuyerName>Dynatos Osterreich</BuyerName>'
  '       <BuyerNumber>1043</BuyerNumber>'
  '       <ReceiversName>Dynatos Osterreich</ReceiversName>'
  '       <ReceiverName>Dynatos Osterreich</ReceiverName>'
  '       <ReceiversNumber>1043</ReceiversNumber>'
  '       <ReceiverNumber>1043</ReceiverNumber>'
  '     </PurchaseOrderHeader>'
  '     <PurchaseOrderLines>'
  '       <PurchaseOrderLine>'
  '         <Id>10769</Id>'
  '         <LineId>10</LineId>'
  '         <ExtraReference>4500022676</ExtraReference>'
  '         <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
  '         <ArticleDescription>Casings</ArticleDescription>'
  '         <Quantity>100.000000</Quantity>'
  '         <UnitCode>PC</UnitCode>'
  '         <Price>80.000000</Price>'
  '         <DiscountAmount>0.000000</DiscountAmount>'
  '         <LineAmount>8000.000000</LineAmount>'
  '         <GlAccount>892000</GlAccount>'
  '         <CostCenter>1043</CostCenter>'
  '         <StartDate p6:nil="true"'
  '                    xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
  '         <EndDate p6:nil="true"'
  '                  xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
  '       </PurchaseOrderLine>'
  '     </PurchaseOrderLines>'
  '   </PurchaseOrderMasterData>'
  '	</PurchaseOrderMasterDataList>'
  '</PurchaseInvoice>'
  INTO rs_result.

ENDMETHOD.
METHOD get_invoice_from_routty_02.

  CONCATENATE
  '<PurchaseInvoice>'
  '	<PurchaseInvoiceData>'
  '   <DocumentSet>'
  '     <Id>69</Id>'
  '     <DocumentId>IV_4500022687_1</DocumentId>'
  '     <Guid>70c725bf-5b48-499a-b5fc-a0308be7eb46</Guid>'
  '     <DocumentTypeId p4:nil="true"'
  '                     xmlns:p4="http://www.w3.org/2001/XMLSchema-instance"/>'
  '   </DocumentSet>'
  '   <PurchaseInvoiceHeader>'
  '     <Supplier>'
  '       <Metadata>'
  '         <Number>43001</Number>'
  '         <SiteCode/>'
  '         <CorporateGroupID>1043</CorporateGroupID>'
  '         <IsMasterdata>true</IsMasterdata>'
  '         <Name1>OMV AG</Name1>'
  '         <Name2/>'
  '         <Address1>Rennbahnstrasse 6</Address1>'
  '         <Address2/>'
  '         <PoBox/>'
  '         <PostalCode>1020</PostalCode>'
  '         <City>Wien</City>'
  '         <State>W</State>'
  '         <Location/>'
  '         <CountryCode>AT</CountryCode>'
  '         <Telephone/>'
  '         <EmailAddress>test@omv.at</EmailAddress>'
  '         <PaymentTerms>0001</PaymentTerms>'
  '         <PaymentMethod>AKLOSU</PaymentMethod>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <PartyRegistrationNumbers>'
  '           <PartyRegistrationNumber>'
  '             <Number>ATU99999993</Number>'
  '             <Scheme>VAT</Scheme>'
  '           </PartyRegistrationNumber>'
  '         </PartyRegistrationNumbers>'
  '         <PartyBankAccounts>'
  '           <PartyBankAccount>'
  '             <BankNumber>19100</BankNumber>'
  '             <AccountNumber>98765454321</AccountNumber>'
  '             <IBAN>AT421910098765454321</IBAN>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '           <PartyBankAccount>'
  '             <BankNumber/>'
  '             <AccountNumber/>'
  '             <IBAN/>'
  '             <BIC/>'
  '             <Currency>   </Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '           <PartyBankAccount>'
  '             <BankNumber>19100</BankNumber>'
  '             <AccountNumber>88877766655</AccountNumber>'
  '             <IBAN>AT981910088877766655</IBAN>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '         </PartyBankAccounts>'
  '       </Metadata>'
  '       <Type>'
  '         <Name>Partner</Name>'
  '       </Type>'
  '       <Active>true</Active>'
  '     </Supplier>'
  '     <Buyer>'
  '       <Metadata>'
  '         <Number>1043</Number>'
  '         <SiteCode/>'
  '         <CorporateGroupID>1043</CorporateGroupID>'
  '         <IsMasterdata>true</IsMasterdata>'
  '         <Name1>Dynatos Österreich</Name1>'
  '         <Name2/>'
  '         <Address1>Heugasse</Address1>'
  '         <Address2/>'
  '         <PoBox/>'
  '         <PostalCode>1120</PostalCode>'
  '         <City>Wien</City>'
  '         <State>W</State>'
  '         <Location/>'
  '         <CountryCode>AT</CountryCode>'
  '         <Telephone/>'
  '         <EmailAddress>info@dynatos.be</EmailAddress>'
  '         <PaymentTerms/>'
  '         <PaymentMethod/>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <PartyRegistrationNumbers>'
  '           <PartyRegistrationNumber>'
  '             <Number>ABC123</Number>'
  '             <Scheme>VAT</Scheme>'
  '           </PartyRegistrationNumber>'
  '         </PartyRegistrationNumbers>'
  '         <PartyBankAccounts>'
  '           <PartyBankAccount>'
  '             <BankNumber/>'
  '             <AccountNumber/>'
  '             <IBAN/>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '         </PartyBankAccounts>'
  '       </Metadata>'
  '       <Type>'
  '         <Name>Company</Name>'
  '       </Type>'
  '       <Active>true</Active>'
  '     </Buyer>'
  '     <DocumentReceiver>'
  '       <Id>0</Id>'
  '       <Number>43001</Number>'
  '       <VatNumber>ATU99999993</VatNumber>'
  '       <Name>OMV AG</Name>'
  '       <Street>Rennbahnstrasse 6</Street>'
  '       <PostalCode>1020</PostalCode>'
  '       <City>Wien</City>'
  '       <Country>AT</Country>'
  '       <ExternalUniqueId>1043</ExternalUniqueId>'
  '     </DocumentReceiver>'
  '     <DocumentSupplier>'
  '       <Id>0</Id>'
  '       <Number>1043</Number>'
  '       <Name>Dynatos Österreich</Name>'
  '       <RegistrationNumber1>ABC123</RegistrationNumber1>'
  '       <Street>Heugasse</Street>'
  '       <PostalCode>1120</PostalCode>'
  '       <City>Wien</City>'
  '       <Country>AT</Country>'
  '       <CorporateGroupID>1043</CorporateGroupID>'
  '     </DocumentSupplier>'
  '     <Id>59</Id>'
  '     <DocumentReference>IV_4500022687_1</DocumentReference>'
  '     <OrderReference>4500022687</OrderReference>'
  '     <ReceiptReference/>'
  '     <DocumentDate>2022-03-09T00:00:00</DocumentDate>'
  '     <PaymentReference/>'
  '     <PaymentTerms/>'
  '     <DocumentType>Invoice</DocumentType>'
  '     <DocumentSubType>PO</DocumentSubType>'
  '     <Currency>EUR</Currency>'
  '     <CurrencyRate p4:nil="true"'
  '                   xmlns:p4="http://www.w3.org/2001/XMLSchema-instance"/>'
  '     <TotalNetAmount>8000.00</TotalNetAmount>'
  '     <TotalVatAmount>1520.00</TotalVatAmount>'
  '     <TotalGrossAmount>9520.00</TotalGrossAmount>'
  '     <TotalDiscountAmount>0.00</TotalDiscountAmount>'
  '     <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
  '     <DocumentReceiversName>OMV AG</DocumentReceiversName>'
  '     <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>'
  '     <DocumentReceiversIban>AT981910088877766655</DocumentReceiversIban>'
  '     <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
  '     <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>'
  '     <DocumentSuppliersRegistrationNumber1>ABC123</DocumentSuppliersRegistrationNumber1>'
  '     <VatRate1>19.00</VatRate1>'
  '     <VatRate2/>'
  '     <VatRate3/>'
  '     <VatRate4/>'
  '     <VatRate5/>'
  '     <HeaderText1/>'
  '     <HeaderText2/>'
  '     <ReceptionDate>2022-03-09T00:00:00</ReceptionDate>'
  '     <BookingNumber>0</BookingNumber>'
  '     <BookingDate>2022-03-31T00:00:00</BookingDate>'
  '     <BookingYear>2022</BookingYear>'
  '     <BookingMonth>3</BookingMonth>'
  '     <DocumentSetId>69</DocumentSetId>'
  '     <DocumentRawId>175</DocumentRawId>'
  '     <Dimension1/>'
  '     <Dimension2/>'
  '     <Dimension3/>'
  '     <Dimension4/>'
  '     <Dimension5/>'
  '     <Dimension6/>'
  '     <Dimension7/>'
  '     <Dimension8/>'
  '     <VatSystem>S</VatSystem>'
  '     <SupplierNumber>43001</SupplierNumber>'
  '     <SupplierName>OMV AG</SupplierName>'
  '     <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>'
  '     <SupplierIban>AT981910088877766655</SupplierIban>'
  '     <BuyerNumber>1043</BuyerNumber>'
  '     <BuyerName>Dynatos ?sterreich GmbH</BuyerName>'
  '     <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>'
  '   </PurchaseInvoiceHeader>'
  '   <PurchaseInvoiceLines>'
  '     <PurchaseInvoiceLine>'
  '       <Id>152</Id>'
  '       <LineId>1</LineId>'
  '       <ArticleNumberSupplier/>'
  '       <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
  '       <ArticleDescription>Casings</ArticleDescription>'
  '       <StandardArticleNumber/>'
  '       <Quantity>100.000000</Quantity>'
  '       <UnitCode>H87</UnitCode>'
  '       <Price>80.000000</Price>'
  '       <LineAmount>8000.000000</LineAmount>'
  '       <Status>Matched</Status>'
  '       <PurchaseInvoiceHeaderId>59</PurchaseInvoiceHeaderId>'
  '       <OrderReference>4500022687</OrderReference>'
  '       <OrderLineId>10</OrderLineId>'
  '       <ReceiptReference/>'
  '       <ReceiptLineId/>'
  '       <Dimension1/>'
  '       <Dimension2/>'
  '       <Dimension3/>'
  '       <Dimension4/>'
  '       <Dimension5/>'
  '       <Dimension6/>'
  '       <Dimension7/>'
  '       <Dimension8/>'
  '       <VatAmount>1520.000000</VatAmount>'
  '       <VatRate>19.0000</VatRate>'
  '       <PurchaseOrderLinesId>10788</PurchaseOrderLinesId>'
  '       <EanCode/>'
  '     </PurchaseInvoiceLine>'
  '   </PurchaseInvoiceLines>'
  '   <PurchaseInvoiceCodingLines>'
  '     <PurchaseInvoiceCodingLine>'
  '       <GlAccount>400000</GlAccount>'
  '       <CostCenter>1043</CostCenter>'
  '       <DebitAmount>8000.00</DebitAmount>'
  '       <VatAmount>1520.00</VatAmount>'
  '       <VatRate>19.000000000000000000</VatRate>'
  '       <VatCode>VA</VatCode>'
  '       <VatSystem>S</VatSystem>'
  '       <Status>POLine</Status>'
  '       <HeaderId>59</HeaderId>'
  '       <PurchaseInvoiceLinesId>152</PurchaseInvoiceLinesId>'
  '     </PurchaseInvoiceCodingLine>'
  '   </PurchaseInvoiceCodingLines>'
  '   <PurchaseInvoiceIntrastatLines/>'
  '   <PurchaseInvoicePaymentScheduleLines/>'
  '   <MatchingExceptions/>'
  '   <ArchiveLinks>'
  '     <Link>0RZwwynT+DXfrfZ0QvurMA==</Link>'
  '   </ArchiveLinks>'
  '   <Attachments>'
  '     <Attachment>'
  '       <Filename>Base_70c725bf-5b48-499a-b5fc-a0308be7eb46.xml</Filename>'
  '       <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>'
  '       <MimeType>text/xml</MimeType>'
  '       <Type>Base Document</Type>'
  '     </Attachment>'
  '     <Attachment>'
  '       <Filename>70c725bf-5b48-499a-b5fc-a0308be7eb46_generated.pdf</Filename>'
  '       <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>'
  '       <MimeType>application/pdf</MimeType>'
  '       <Type>Sales Invoice</Type>'
  '     </Attachment>'
  '     <Attachment>'
  '       <Filename>Converted_70c725bf-5b48-499a-b5fc-a0308be7eb46.xml</Filename>'
  '       <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>'
  '       <MimeType>text/xml</MimeType>'
  '       <Type>Converted Document</Type>'
  '     </Attachment>'
  '   </Attachments>'
  '	</PurchaseInvoiceData>'
  '	<PurchaseOrderMasterDataList>'
  '   <PurchaseOrderMasterData>'
  '     <PurchaseOrderHeader>'
  '       <DocumentReference>4500022687</DocumentReference>'
  '       <ExtraReference/>'
  '       <DocumentDate>2022-03-09T00:00:00</DocumentDate>'
  '       <DocumentType>NB</DocumentType>'
  '       <DocumentSubType/>'
  '       <Currency>EUR</Currency>'
  '       <TotalNetAmount>8000.00</TotalNetAmount>'
  '       <TotalVatAmount>0.00</TotalVatAmount>'
  '       <TotalGrossAmount>8000.00</TotalGrossAmount>'
  '       <TotalDiscountAmount>0.00</TotalDiscountAmount>'
  '       <OrderReference/>'
  '       <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
  '       <DocumentReceiversName>OMV AG</DocumentReceiversName>'
  '       <DocumentReceiversRegistrationNumber1/>'
  '       <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
  '       <DocumentSuppliersName/>'
  '       <HeaderText1/>'
  '       <HeaderText2/>'
  '       <DocumentStatus>Open</DocumentStatus>'
  '       <RequesterId/>'
  '       <SuppliersName>OMV AG</SuppliersName>'
  '       <SupplierName>OMV AG</SupplierName>'
  '       <SuppliersNumber>43001</SuppliersNumber>'
  '       <SupplierNumber>43001</SupplierNumber>'
  '       <SuppliersRegistrationNumber/>'
  '       <SupplierRegistrationNumber/>'
  '       <BuyerName/>'
  '       <BuyerNumber>1043</BuyerNumber>'
  '       <ReceiversName/>'
  '       <ReceiverName/>'
  '       <ReceiversNumber>1043</ReceiversNumber>'
  '       <ReceiverNumber>1043</ReceiverNumber>'
  '     </PurchaseOrderHeader>'
  '     <PurchaseOrderLines>'
  '       <PurchaseOrderLine>'
  '         <Id>10788</Id>'
  '         <LineId>10</LineId>'
  '         <ExtraReference>4500022687</ExtraReference>'
  '         <ArticleNumberSupplier/>'
  '         <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
  '         <ArticleDescription>Casings</ArticleDescription>'
  '         <StandardArticleNumber/>'
  '         <Quantity>100.000000</Quantity>'
  '         <UnitCode>ST</UnitCode>'
  '         <Price>80.000000</Price>'
  '         <DiscountAmount>0.000000</DiscountAmount>'
  '         <LineAmount>8000.000000</LineAmount>'
  '         <Status/>'
  '         <GlAccount/>'
  '         <CostCenter/>'
  '         <VatCode/>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <StartDate p6:nil="true"'
  '                    xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
  '         <EndDate p6:nil="true"'
  '                  xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
  '         <InvoicedQuantity>0.000000</InvoicedQuantity>'
  '         <InvoicedAmount>0.000000</InvoicedAmount>'
  '       </PurchaseOrderLine>'
  '     </PurchaseOrderLines>'
  '   </PurchaseOrderMasterData>'
  '	</PurchaseOrderMasterDataList>'
  '</PurchaseInvoice>'
  INTO rs_result.

ENDMETHOD.
METHOD get_invoice_from_routty_03.

  CONCATENATE
  '<PurchaseInvoice>'
'	<PurchaseInvoiceData>'
'   <DocumentSet>'
'     <Id>69</Id>'
'     <DocumentId>IV_4500022687_1</DocumentId>'
'     <Guid>70c725bf-5b48-499a-b5fc-a0308be7eb46</Guid>'
'     <DocumentTypeId p4:nil="true"'
'                     xmlns:p4="http://www.w3.org/2001/XMLSchema-instance"/>'
'   </DocumentSet>'
'   <PurchaseInvoiceHeader>'
'     <Supplier>'
'       <Metadata>'
'         <Number>43001</Number>'
'         <SiteCode/>'
'         <CorporateGroupID>1043</CorporateGroupID>'
'         <IsMasterdata>true</IsMasterdata>'
'         <Name1>OMV AG</Name1>'
'         <Name2/>'
'         <Address1>Rennbahnstrasse 6</Address1>'
'         <Address2/>'
'         <PoBox/>'
'         <PostalCode>1020</PostalCode>'
'         <City>Wien</City>'
'         <State>W</State>'
'         <Location/>'
'         <CountryCode>AT</CountryCode>'
'         <Telephone/>'
'         <EmailAddress>test@omv.at</EmailAddress>'
'         <PaymentTerms>0001</PaymentTerms>'
'         <PaymentMethod>AKLOSU</PaymentMethod>'
'         <Dimension1/>'
'         <Dimension2/>'
'         <Dimension3/>'
'         <Dimension4/>'
'         <Dimension5/>'
'         <Dimension6/>'
'         <Dimension7/>'
'         <Dimension8/>'
'         <PartyRegistrationNumbers>'
'           <PartyRegistrationNumber>'
'             <Number>ATU99999993</Number>'
'             <Scheme>VAT</Scheme>'
'           </PartyRegistrationNumber>'
'         </PartyRegistrationNumbers>'
'         <PartyBankAccounts>'
'           <PartyBankAccount>'
'             <BankNumber>19100</BankNumber>'
'             <AccountNumber>98765454321</AccountNumber>'
'             <IBAN>AT421910098765454321</IBAN>'
'             <BIC/>'
'             <Currency>EUR</Currency>'
'             <Dimension1/>'
'             <Dimension2/>'
'             <Dimension3/>'
'             <Dimension4/>'
'           </PartyBankAccount>'
'           <PartyBankAccount>'
'             <BankNumber/>'
'             <AccountNumber/>'
'             <IBAN/>'
'             <BIC/>'
'             <Currency>   </Currency>'
'             <Dimension1/>'
'             <Dimension2/>'
'             <Dimension3/>'
'             <Dimension4/>'
'           </PartyBankAccount>'
'           <PartyBankAccount>'
'             <BankNumber>19100</BankNumber>'
'             <AccountNumber>88877766655</AccountNumber>'
'             <IBAN>AT981910088877766655</IBAN>'
'             <BIC/>'
'             <Currency>EUR</Currency>'
'             <Dimension1/>'
'             <Dimension2/>'
'             <Dimension3/>'
'             <Dimension4/>'
'           </PartyBankAccount>'
'         </PartyBankAccounts>'
'       </Metadata>'
'       <Type>'
'         <Name>Partner</Name>'
'       </Type>'
'       <Active>true</Active>'
'     </Supplier>'
'     <Buyer>'
'       <Metadata>'
'         <Number>1043</Number>'
'         <SiteCode/>'
'         <CorporateGroupID>1043</CorporateGroupID>'
'         <IsMasterdata>true</IsMasterdata>'
'         <Name1>Dynatos Österreich</Name1>'
'         <Name2/>'
'         <Address1>Heugasse</Address1>'
'         <Address2/>'
'         <PoBox/>'
'         <PostalCode>1120</PostalCode>'
'         <City>Wien</City>'
'         <State>W</State>'
'         <Location/>'
'         <CountryCode>AT</CountryCode>'
'         <Telephone/>'
'         <EmailAddress>info@dynatos.be</EmailAddress>'
'         <PaymentTerms/>'
'         <PaymentMethod/>'
'         <Dimension1/>'
'         <Dimension2/>'
'         <Dimension3/>'
'         <Dimension4/>'
'         <Dimension5/>'
'         <Dimension6/>'
'         <Dimension7/>'
'         <Dimension8/>'
'         <PartyRegistrationNumbers>'
'           <PartyRegistrationNumber>'
'             <Number>ABC123</Number>'
'             <Scheme>VAT</Scheme>'
'           </PartyRegistrationNumber>'
'         </PartyRegistrationNumbers>'
'         <PartyBankAccounts>'
'           <PartyBankAccount>'
'             <BankNumber/>'
'             <AccountNumber/>'
'             <IBAN/>'
'             <BIC/>'
'             <Currency>EUR</Currency>'
'             <Dimension1/>'
'             <Dimension2/>'
'             <Dimension3/>'
'             <Dimension4/>'
'           </PartyBankAccount>'
'         </PartyBankAccounts>'
'       </Metadata>'
'       <Type>'
'         <Name>Company</Name>'
'       </Type>'
'       <Active>true</Active>'
'     </Buyer>'
'     <DocumentReceiver>'
'       <Id>0</Id>'
'       <Number>43001</Number>'
'       <VatNumber>ATU99999993</VatNumber>'
'       <Name>OMV AG</Name>'
'       <Street>Rennbahnstrasse 6</Street>'
'       <PostalCode>1020</PostalCode>'
'       <City>Wien</City>'
'       <Country>AT</Country>'
'       <ExternalUniqueId>1043</ExternalUniqueId>'
'     </DocumentReceiver>'
'     <DocumentSupplier>'
'       <Id>0</Id>'
'       <Number>1043</Number>'
'       <Name>Dynatos Österreich</Name>'
'       <RegistrationNumber1>ABC123</RegistrationNumber1>'
'       <Street>Heugasse</Street>'
'       <PostalCode>1120</PostalCode>'
'       <City>Wien</City>'
'       <Country>AT</Country>'
'       <CorporateGroupID>1043</CorporateGroupID>'
'     </DocumentSupplier>'
'     <Id>59</Id>'
'     <DocumentReference>IV_4500022687_1</DocumentReference>'
'     <OrderReference>4500022687</OrderReference>'
'     <ReceiptReference/>'
'     <DocumentDate>2022-03-09T00:00:00</DocumentDate>'
'     <PaymentReference/>'
'     <PaymentTerms/>'
'     <DocumentType>Invoice</DocumentType>'
'     <DocumentSubType>GE</DocumentSubType>'
'     <Currency>EUR</Currency>'
'     <CurrencyRate p4:nil="true"'
'                   xmlns:p4="http://www.w3.org/2001/XMLSchema-instance"/>'
'     <TotalNetAmount>8000.00</TotalNetAmount>'
'     <TotalVatAmount>1520.00</TotalVatAmount>'
'     <TotalGrossAmount>9520.00</TotalGrossAmount>'
'     <TotalDiscountAmount>0.00</TotalDiscountAmount>'
'     <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
'     <DocumentReceiversName>OMV AG</DocumentReceiversName>'
'     <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>'
'     <DocumentReceiversIban>AT981910088877766655</DocumentReceiversIban>'
'     <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
'     <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>'
'     <DocumentSuppliersRegistrationNumber1>ABC123</DocumentSuppliersRegistrationNumber1>'
'     <VatRate1>19.00</VatRate1>'
'     <VatRate2/>'
'     <VatRate3/>'
'     <VatRate4/>'
'     <VatRate5/>'
'     <HeaderText1/>'
'     <HeaderText2/>'
'     <ReceptionDate>2022-03-09T00:00:00</ReceptionDate>'
'     <BookingNumber>0</BookingNumber>'
'     <BookingDate>2022-03-31T00:00:00</BookingDate>'
'     <BookingYear>2022</BookingYear>'
'     <BookingMonth>3</BookingMonth>'
'     <DocumentSetId>69</DocumentSetId>'
'     <DocumentRawId>175</DocumentRawId>'
'     <Dimension1/>'
'     <Dimension2/>'
'     <Dimension3/>'
'     <Dimension4/>'
'     <Dimension5/>'
'     <Dimension6/>'
'     <Dimension7/>'
'     <Dimension8/>'
'     <VatSystem>S</VatSystem>'
'     <SupplierNumber>43001</SupplierNumber>'
'     <SupplierName>OMV AG</SupplierName>'
'     <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>'
'     <SupplierIban>AT981910088877766655</SupplierIban>'
'     <BuyerNumber>1043</BuyerNumber>'
'     <BuyerName>Dynatos ?sterreich GmbH</BuyerName>'
'     <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>'
'   </PurchaseInvoiceHeader>'
'   <PurchaseInvoiceLines>'
'     <PurchaseInvoiceLine>'
'       <Id>152</Id>'
'       <LineId>1</LineId>'
'       <ArticleNumberSupplier/>'
'       <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
'       <ArticleDescription>Casings</ArticleDescription>'
'       <StandardArticleNumber/>'
'       <Quantity>100.000000</Quantity>'
'       <UnitCode>H87</UnitCode>'
'       <Price>80.000000</Price>'
'       <LineAmount>8000.000000</LineAmount>'
'       <Status>Matched</Status>'
'       <PurchaseInvoiceHeaderId>59</PurchaseInvoiceHeaderId>'
'       <OrderReference>4500022687</OrderReference>'
'       <OrderLineId>10</OrderLineId>'
'       <ReceiptReference/>'
'       <ReceiptLineId/>'
'       <Dimension1/>'
'       <Dimension2/>'
'       <Dimension3/>'
'       <Dimension4/>'
'       <Dimension5/>'
'       <Dimension6/>'
'       <Dimension7/>'
'       <Dimension8/>'
'       <VatAmount>1520.000000</VatAmount>'
'       <VatRate>19.0000</VatRate>'
'       <PurchaseOrderLinesId>10788</PurchaseOrderLinesId>'
'       <EanCode/>'
'     </PurchaseInvoiceLine>'
'   </PurchaseInvoiceLines>'
'   <PurchaseInvoiceCodingLines>'
'     <PurchaseInvoiceCodingLine>'
'       <GlAccount>400000</GlAccount>'
'       <CostCenter>1043</CostCenter>'
'       <DebitAmount>8000.00</DebitAmount>'
'       <VatAmount>1520.00</VatAmount>'
'       <VatRate>19.000000000000000000</VatRate>'
'       <VatCode>VA</VatCode>'
'       <VatSystem>S</VatSystem>'
'       <Status>POLine</Status>'
'       <HeaderId>59</HeaderId>'
'       <PurchaseInvoiceLinesId>152</PurchaseInvoiceLinesId>'
'     </PurchaseInvoiceCodingLine>'
'   </PurchaseInvoiceCodingLines>'
'   <PurchaseInvoiceIntrastatLines/>'
'   <PurchaseInvoicePaymentScheduleLines/>'
'   <MatchingExceptions/>'
'   <ArchiveLinks>'
'     <Link>0RZwwynT+DXfrfZ0QvurMA==</Link>'
'   </ArchiveLinks>'
'   <Attachments>'
'     <Attachment>'
'       <Filename>Base_70c725bf-5b48-499a-b5fc-a0308be7eb46.xml</Filename>'
'       <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>'
'       <MimeType>text/xml</MimeType>'
'       <Type>Base Document</Type>'
'     </Attachment>'
'     <Attachment>'
'       <Filename>70c725bf-5b48-499a-b5fc-a0308be7eb46_generated.pdf</Filename>'
'       <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>'
'       <MimeType>application/pdf</MimeType>'
'       <Type>Sales Invoice</Type>'
'     </Attachment>'
'     <Attachment>'
'       <Filename>Converted_70c725bf-5b48-499a-b5fc-a0308be7eb46.xml</Filename>'
'       <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>'
'       <MimeType>text/xml</MimeType>'
'       <Type>Converted Document</Type>'
'     </Attachment>'
'   </Attachments>'
'	</PurchaseInvoiceData>'
'	<PurchaseOrderMasterDataList>'
'   <PurchaseOrderMasterData>'
'     <PurchaseOrderHeader>'
'       <DocumentReference>4500022687</DocumentReference>'
'       <ExtraReference/>'
'       <DocumentDate>2022-03-09T00:00:00</DocumentDate>'
'       <DocumentType>NB</DocumentType>'
'       <DocumentSubType/>'
'       <Currency>EUR</Currency>'
'       <TotalNetAmount>8000.00</TotalNetAmount>'
'       <TotalVatAmount>0.00</TotalVatAmount>'
'       <TotalGrossAmount>8000.00</TotalGrossAmount>'
'       <TotalDiscountAmount>0.00</TotalDiscountAmount>'
'       <OrderReference/>'
'       <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
'       <DocumentReceiversName>OMV AG</DocumentReceiversName>'
'       <DocumentReceiversRegistrationNumber1/>'
'       <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
'       <DocumentSuppliersName/>'
'       <HeaderText1/>'
'       <HeaderText2/>'
'       <DocumentStatus>Open</DocumentStatus>'
'       <RequesterId/>'
'       <SuppliersName>OMV AG</SuppliersName>'
'       <SupplierName>OMV AG</SupplierName>'
'       <SuppliersNumber>43001</SuppliersNumber>'
'       <SupplierNumber>43001</SupplierNumber>'
'       <SuppliersRegistrationNumber/>'
'       <SupplierRegistrationNumber/>'
'       <BuyerName/>'
'       <BuyerNumber>1043</BuyerNumber>'
'       <ReceiversName/>'
'       <ReceiverName/>'
'       <ReceiversNumber>1043</ReceiversNumber>'
'       <ReceiverNumber>1043</ReceiverNumber>'
'     </PurchaseOrderHeader>'
'     <PurchaseOrderLines>'
'       <PurchaseOrderLine>'
'         <Id>10788</Id>'
'         <LineId>10</LineId>'
'         <ExtraReference>4500022687</ExtraReference>'
'         <ArticleNumberSupplier/>'
'         <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
'         <ArticleDescription>Casings</ArticleDescription>'
'         <StandardArticleNumber/>'
'         <Quantity>100.000000</Quantity>'
'         <UnitCode>ST</UnitCode>'
'         <Price>80.000000</Price>'
'         <DiscountAmount>0.000000</DiscountAmount>'
'         <LineAmount>8000.000000</LineAmount>'
'         <Status/>'
'         <GlAccount/>'
'         <CostCenter/>'
'         <VatCode/>'
'         <Dimension1/>'
'         <Dimension2/>'
'         <Dimension3/>'
'         <Dimension4/>'
'         <Dimension5/>'
'         <Dimension6/>'
'         <Dimension7/>'
'         <Dimension8/>'
'         <StartDate p6:nil="true"'
'                    xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
'         <EndDate p6:nil="true"'
'                  xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
'         <InvoicedQuantity>0.000000</InvoicedQuantity>'
'         <InvoicedAmount>0.000000</InvoicedAmount>'
'       </PurchaseOrderLine>'
'     </PurchaseOrderLines>'
'   </PurchaseOrderMasterData>'
'	</PurchaseOrderMasterDataList>'
'</PurchaseInvoice>'
  INTO rs_result.

ENDMETHOD.
METHOD get_invoice_from_routty_04.

  CONCATENATE
  '<PurchaseInvoice>'
*  '  <PurchaseInvoiceData>'
  '   <PurchaseInvoiceHeader>'
  '     <Supplier>'
  '       <Metadata>'
  '         <Number>43001</Number>'
  '         <SiteCode/>'
  '         <CorporateGroupID>1043</CorporateGroupID>'
  '         <IsMasterdata>true</IsMasterdata>'
  '         <Name1>OMV AG</Name1>'
  '         <Name2/>'
  '         <Address1>Rennbahnstrasse 6</Address1>'
  '         <Address2/>'
  '         <PoBox/>'
  '         <PostalCode>1020</PostalCode>'
  '         <City>Wien</City>'
  '         <State/>'
  '         <Location/>'
  '         <CountryCode>AT</CountryCode>'
  '         <Telephone/>'
  '         <EmailAddress>info@dynatos.be</EmailAddress>'
  '         <PaymentTerms>0001</PaymentTerms>'
  '         <PaymentMethod>AKLOSU</PaymentMethod>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <PartyRegistrationNumbers>'
  '           <PartyRegistrationNumber>'
  '             <Number>ATU99999993</Number>'
  '             <Scheme>123</Scheme>'
  '           </PartyRegistrationNumber>'
  '           <PartyRegistrationNumber>'
  '             <Number>ATU99999993</Number>'
  '             <Scheme>VAT</Scheme>'
  '           </PartyRegistrationNumber>'
  '         </PartyRegistrationNumbers>'
  '         <PartyBankAccounts>'
  '           <PartyBankAccount>'
  '             <BankNumber>19100</BankNumber>'
  '             <AccountNumber>98765454321</AccountNumber>'
  '             <IBAN>AT421910098765454321</IBAN>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '         </PartyBankAccounts>'
  '       </Metadata>'
  '       <Type>'
  '         <Name>Partner</Name>'
  '       </Type>'
  '       <Active>true</Active>'
  '     </Supplier>'
  '     <Buyer>'
  '       <Metadata>'
  '         <Number>1043</Number>'
  '         <SiteCode/>'
  '         <CorporateGroupID>1043</CorporateGroupID>'
  '         <IsMasterdata>true</IsMasterdata>'
  '         <Name1>Dynatos Österreich GmbH</Name1>'
  '         <Name2/>'
  '         <Address1>Heugasse 1</Address1>'
  '         <Address2/>'
  '         <PoBox/>'
  '         <PostalCode>1120</PostalCode>'
  '         <City>Wien</City>'
  '         <State/>'
  '         <Location/>'
  '         <CountryCode>AT</CountryCode>'
  '         <Telephone/>'
  '         <EmailAddress>info@dynatos.be</EmailAddress>'
  '         <PaymentTerms/>'
  '         <PaymentMethod/>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <PartyRegistrationNumbers>'
  '           <PartyRegistrationNumber>'
  '             <Number>ABC123</Number>'
  '             <Scheme>VAT</Scheme>'
  '           </PartyRegistrationNumber>'
  '         </PartyRegistrationNumbers>'
  '         <PartyBankAccounts>'
  '           <PartyBankAccount>'
  '             <BankNumber/>'
  '             <AccountNumber/>'
  '             <IBAN/>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '         </PartyBankAccounts>'
  '       </Metadata>'
  '       <Type>'
  '         <Name>Company</Name>'
  '       </Type>'
  '       <Active>true</Active>'
  '     </Buyer>'
  '     <DocumentSet>'
  '       <Id>45</Id>'
  '       <DocumentId>IV_4500022676</DocumentId>'
  '       <CreateTimeStamp>2022-01-24T18:57:02.897</CreateTimeStamp>'
  '       <UpdateTimeStamp>2022-01-25T09:10:50.647</UpdateTimeStamp>'
  '       <CreatedBy>Dispatcher</CreatedBy>'
  '       <UpdatedBy>AutoUpdate</UpdatedBy>'
  '       <Guid>b3beff90-47ed-450b-a779-d254b63915bd</Guid>'
  '       <Direction>IN</Direction>'
  '       <StatusId>8</StatusId>'
  '       <ChannelId>11</ChannelId>'
  '       <IncomingConnectionId p5:nil="true"'
  '                             xmlns:p5="http://www.w3.org/2001/XMLSchema-instance"/>'
  '       <OriginId p5:nil="true"'
  '                 xmlns:p5="http://www.w3.org/2001/XMLSchema-instance"/>'
  '       <DocumentTypeId p5:nil="true"'
  '                       xmlns:p5="http://www.w3.org/2001/XMLSchema-instance"/>'
  '     </DocumentSet>'
  '     <DocumentReceiver>'
  '       <Id>0</Id>'
  '       <Number>43001</Number>'
  '       <VatNumber>ATU99999993</VatNumber>'
  '       <Name>OMV AG</Name>'
  '       <Street>Rennbahnstrasse 6</Street>'
  '       <PostalCode>1020</PostalCode>'
  '       <City>Wien</City>'
  '       <Country>AT</Country>'
  '       <ExternalUniqueId>1043</ExternalUniqueId>'
  '     </DocumentReceiver>'
  '     <DocumentSupplier>'
  '       <Id>0</Id>'
  '       <Number>1043</Number>'
  '       <Name>Dynatos ?sterreich GmbH</Name>'
  '       <RegistrationNumber1>ABC123</RegistrationNumber1>'
  '       <Street>Heugasse 1</Street>'
  '       <PostalCode>1120</PostalCode>'
  '       <City>Wien</City>'
  '       <Country>AT</Country>'
  '       <CorporateGroupID>1043</CorporateGroupID>'
  '     </DocumentSupplier>'
  '     <DocumentReference>IV_4500022676</DocumentReference>'
  '     <OrderReference>4500022676</OrderReference>'
  '     <ReceiptReference/>'
  '     <DocumentDate>2022-01-24T00:00:00</DocumentDate>'
  '     <DueDate>2022-03-01T00:00:00</DueDate>'
  '     <PaymentReference/>'
  '     <PaymentTerms/>'
  '     <DocumentType>Invoice</DocumentType>'
  '     <DocumentSubType>PO</DocumentSubType>'
  '     <Currency>EUR</Currency>'
  '     <CurrencyRate p4:nil="true"'
  '                   xmlns:p4="http://www.w3.org/2001/XMLSchema-instance"/>'
  '     <TotalNetAmount>8000.00</TotalNetAmount>'
  '     <TotalVatAmount>1520.00</TotalVatAmount>'
  '     <TotalGrossAmount>9520.00</TotalGrossAmount>'
  '     <TotalDiscountAmount>0.00</TotalDiscountAmount>'
  '     <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
  '     <DocumentReceiversName>OMV AG</DocumentReceiversName>'
  '     <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>'
  '     <DocumentReceiversIban>AT421910098765454321</DocumentReceiversIban>'
  '     <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
  '     <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>'
  '     <DocumentSuppliersRegistrationNumber1>ABC123</DocumentSuppliersRegistrationNumber1>'
  '     <NetAmount1>8000.00</NetAmount1>'
  '     <VatAmount1>1520.00</VatAmount1>'
  '     <VatRate1>19.00</VatRate1>'
  '     <VatRate2/>'
  '     <VatRate3/>'
  '     <VatRate4/>'
  '     <VatRate5/>'
  '     <HeaderText1/>'
  '     <HeaderText2/>'
  '     <ReceptionDate>2022-01-24T00:00:00</ReceptionDate>'
  '     <BookingNumber>0</BookingNumber>'
  '     <BookingDate>2022-01-31T00:00:00</BookingDate>'
  '     <BookingYear>2022</BookingYear>'
  '     <BookingMonth>1</BookingMonth>'
  '     <DocumentSetId>45</DocumentSetId>'
  '     <DocumentRawId>124</DocumentRawId>'
  '     <Dimension1/>'
  '     <Dimension2/>'
  '     <Dimension3/>'
  '     <Dimension4/>'
  '     <Dimension5/>'
  '     <Dimension6/>'
  '     <Dimension7/>'
  '     <Dimension8/>'
  '     <VatSystem>S</VatSystem>'
  '     <SupplierNumber>43001</SupplierNumber>'
  '     <SupplierName>OMV AG</SupplierName>'
  '     <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>'
  '     <SupplierIban>AT421910098765454321</SupplierIban>'
  '     <BuyerNumber>1043</BuyerNumber>'
  '     <BuyerName>Dynatos ?sterreich GmbH</BuyerName>'
  '     <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>'
  '   </PurchaseInvoiceHeader>'
  '   <PurchaseInvoiceLines>'
  '     <PurchaseInvoiceLine>'
  '       <LineId>1</LineId>'
  '       <ArticleNumberSupplier/>'
  '       <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
  '       <ArticleDescription>Casings</ArticleDescription>'
  '       <StandardArticleNumber/>'
  '       <Quantity>100.000000</Quantity>'
  '       <UnitCode>PC</UnitCode>'
  '       <Price>80.000000</Price>'
  '       <LineAmount>8000.000000</LineAmount>'
  '       <Status>Matched</Status>'
  '       <PurchaseInvoiceHeaderId>42</PurchaseInvoiceHeaderId>'
  '       <OrderReference>4500022676</OrderReference>'
  '       <OrderLineId>10</OrderLineId>'
  '       <ReceiptReference/>'
  '       <ReceiptLineId/>'
  '       <Dimension1/>'
  '       <Dimension2/>'
  '       <Dimension3/>'
  '       <Dimension4/>'
  '       <Dimension5/>'
  '       <Dimension6/>'
  '       <Dimension7/>'
  '       <Dimension8/>'
  '       <VatRate>19.0000</VatRate>'
  '       <PurchaseOrderLinesId>10769</PurchaseOrderLinesId>'
  '       <EanCode/>'
  '     </PurchaseInvoiceLine>'
  '   </PurchaseInvoiceLines>'
  '   <PurchaseInvoiceCodingLines>'
*  '     <PurchaseInvoiceCodingLine>'
*  '       <GlAccount>892000</GlAccount>'
*  '       <CostCenter>1043</CostCenter>'
*  '       <DebitAmount>8000.00</DebitAmount>'
*  '       <VatAmount>1520.00</VatAmount>'
*  '       <VatCode>VA</VatCode>'
*  '       <VatSystem>S</VatSystem>'
*  '       <Status>POLine</Status>'
*  '       <HeaderId>42</HeaderId>'
*  '       <PurchaseInvoiceLinesId>135</PurchaseInvoiceLinesId>'
*  '     </PurchaseInvoiceCodingLine>'
  '   </PurchaseInvoiceCodingLines>'
  '   <PurchaseInvoiceIntrastatLines/>'
  '   <PurchaseInvoicePaymentScheduleLines/>'
  '   <MatchingExceptions/>'
  '   <ArchiveLinks>'
  '     <Link>SoM67A5qk4TN/cM5G1H8CQ==</Link>'
  '     <Link>UoMnAbGN+5RPnc7UF2zrEg==</Link>'
  '   </ArchiveLinks>'
*  '  </PurchaseInvoiceData>'
  '	<PurchaseOrderMasterDataList>'
  '   <PurchaseOrderMasterData>'
  '     <PurchaseOrderHeader>'
  '       <DocumentReference>4500022676</DocumentReference>'
  '       <DocumentDate>2022-01-24T14:22:22</DocumentDate>'
  '       <DocumentType>NB</DocumentType>'
  '       <Currency>EUR</Currency>'
  '       <TotalNetAmount>8000.00</TotalNetAmount>'
  '       <TotalVatAmount>0.00</TotalVatAmount>'
  '       <TotalGrossAmount>8000.00</TotalGrossAmount>'
  '       <TotalDiscountAmount>0.00</TotalDiscountAmount>'
  '       <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
  '       <DocumentReceiversName>OMV AG</DocumentReceiversName>'
  '       <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>'
  '       <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
  '       <DocumentSuppliersName>Dynatos Osterreich</DocumentSuppliersName>'
  '       <DocumentStatus>Open</DocumentStatus>'
  '       <SuppliersName>OMV AG</SuppliersName>'
  '       <SupplierName>OMV AG</SupplierName>'
  '       <SuppliersNumber>43001</SuppliersNumber>'
  '       <SupplierNumber>43001</SupplierNumber>'
  '       <SuppliersRegistrationNumber>ATU99999993</SuppliersRegistrationNumber>'
  '       <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>'
  '       <BuyerName>Dynatos Osterreich</BuyerName>'
  '       <BuyerNumber>1043</BuyerNumber>'
  '       <ReceiversName>Dynatos Osterreich</ReceiversName>'
  '       <ReceiverName>Dynatos Osterreich</ReceiverName>'
  '       <ReceiversNumber>1043</ReceiversNumber>'
  '       <ReceiverNumber>1043</ReceiverNumber>'
  '     </PurchaseOrderHeader>'
  '     <PurchaseOrderLines>'
  '       <PurchaseOrderLine>'
  '         <Id>10769</Id>'
  '         <LineId>10</LineId>'
  '         <ExtraReference>4500022676</ExtraReference>'
  '         <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
  '         <ArticleDescription>Casings</ArticleDescription>'
  '         <Quantity>100.000000</Quantity>'
  '         <UnitCode>PC</UnitCode>'
  '         <Price>80.000000</Price>'
  '         <DiscountAmount>0.000000</DiscountAmount>'
  '         <LineAmount>8000.000000</LineAmount>'
  '         <GlAccount>892000</GlAccount>'
  '         <CostCenter>1043</CostCenter>'
  '         <StartDate p6:nil="true"'
  '                    xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
  '         <EndDate p6:nil="true"'
  '                  xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
  '       </PurchaseOrderLine>'
  '     </PurchaseOrderLines>'
  '   </PurchaseOrderMasterData>'
  '	</PurchaseOrderMasterDataList>'
  '</PurchaseInvoice>'
  INTO rs_result.

ENDMETHOD.
METHOD get_invoice_from_routty_05.

  CONCATENATE
  '<PurchaseInvoice>'
  '	<PurchaseInvoiceData>'
  '   <DocumentSet>'
  '     <Id>69</Id>'
  '     <DocumentId>IV_4500022687_1</DocumentId>'
  '     <Guid>70c725bf-5b48-499a-b5fc-a0308be7eb46</Guid>'
  '     <DocumentTypeId p4:nil="true"'
  '                     xmlns:p4="http://www.w3.org/2001/XMLSchema-instance"/>'
  '   </DocumentSet>'
  '   <PurchaseInvoiceHeader>'
  '     <Supplier>'
  '       <Metadata>'
  '         <Number>43001</Number>'
  '         <SiteCode/>'
  '         <CorporateGroupID>1043</CorporateGroupID>'
  '         <IsMasterdata>true</IsMasterdata>'
  '         <Name1>OMV AG</Name1>'
  '         <Name2/>'
  '         <Address1>Rennbahnstrasse 6</Address1>'
  '         <Address2/>'
  '         <PoBox/>'
  '         <PostalCode>1020</PostalCode>'
  '         <City>Wien</City>'
  '         <State>W</State>'
  '         <Location/>'
  '         <CountryCode>AT</CountryCode>'
  '         <Telephone/>'
  '         <EmailAddress>test@omv.at</EmailAddress>'
  '         <PaymentTerms>0001</PaymentTerms>'
  '         <PaymentMethod>AKLOSU</PaymentMethod>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <PartyRegistrationNumbers>'
  '           <PartyRegistrationNumber>'
  '             <Number>ATU99999993</Number>'
  '             <Scheme>VAT</Scheme>'
  '           </PartyRegistrationNumber>'
  '         </PartyRegistrationNumbers>'
  '         <PartyBankAccounts>'
  '           <PartyBankAccount>'
  '             <BankNumber>19100</BankNumber>'
  '             <AccountNumber>98765454321</AccountNumber>'
  '             <IBAN>AT421910098765454321</IBAN>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '           <PartyBankAccount>'
  '             <BankNumber/>'
  '             <AccountNumber/>'
  '             <IBAN/>'
  '             <BIC/>'
  '             <Currency>   </Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '           <PartyBankAccount>'
  '             <BankNumber>19100</BankNumber>'
  '             <AccountNumber>88877766655</AccountNumber>'
  '             <IBAN>AT981910088877766655</IBAN>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '         </PartyBankAccounts>'
  '       </Metadata>'
  '       <Type>'
  '         <Name>Partner</Name>'
  '       </Type>'
  '       <Active>true</Active>'
  '     </Supplier>'
  '     <Buyer>'
  '       <Metadata>'
  '         <Number>1043</Number>'
  '         <SiteCode/>'
  '         <CorporateGroupID>1043</CorporateGroupID>'
  '         <IsMasterdata>true</IsMasterdata>'
  '         <Name1>Dynatos Österreich</Name1>'
  '         <Name2/>'
  '         <Address1>Heugasse</Address1>'
  '         <Address2/>'
  '         <PoBox/>'
  '         <PostalCode>1120</PostalCode>'
  '         <City>Wien</City>'
  '         <State>W</State>'
  '         <Location/>'
  '         <CountryCode>AT</CountryCode>'
  '         <Telephone/>'
  '         <EmailAddress>info@dynatos.be</EmailAddress>'
  '         <PaymentTerms/>'
  '         <PaymentMethod/>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <PartyRegistrationNumbers>'
  '           <PartyRegistrationNumber>'
  '             <Number>ABC123</Number>'
  '             <Scheme>VAT</Scheme>'
  '           </PartyRegistrationNumber>'
  '         </PartyRegistrationNumbers>'
  '         <PartyBankAccounts>'
  '           <PartyBankAccount>'
  '             <BankNumber/>'
  '             <AccountNumber/>'
  '             <IBAN/>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '         </PartyBankAccounts>'
  '       </Metadata>'
  '       <Type>'
  '         <Name>Company</Name>'
  '       </Type>'
  '       <Active>true</Active>'
  '     </Buyer>'
  '     <DocumentReceiver>'
  '       <Id>0</Id>'
  '       <Number>43001</Number>'
  '       <VatNumber>ATU99999993</VatNumber>'
  '       <Name>OMV AG</Name>'
  '       <Street>Rennbahnstrasse 6</Street>'
  '       <PostalCode>1020</PostalCode>'
  '       <City>Wien</City>'
  '       <Country>AT</Country>'
  '       <ExternalUniqueId>1043</ExternalUniqueId>'
  '     </DocumentReceiver>'
  '     <DocumentSupplier>'
  '       <Id>0</Id>'
  '       <Number>1043</Number>'
  '       <Name>Dynatos Österreich</Name>'
  '       <RegistrationNumber1>ABC123</RegistrationNumber1>'
  '       <Street>Heugasse</Street>'
  '       <PostalCode>1120</PostalCode>'
  '       <City>Wien</City>'
  '       <Country>AT</Country>'
  '       <CorporateGroupID>1043</CorporateGroupID>'
  '     </DocumentSupplier>'
  '     <Id>59</Id>'
  '     <DocumentReference>IV_4500022687_1</DocumentReference>'
  '     <OrderReference>4500022687</OrderReference>'
  '     <ReceiptReference/>'
  '     <DocumentDate>2022-03-09T00:00:00</DocumentDate>'
  '     <PaymentReference/>'
  '     <PaymentTerms/>'
  '     <DocumentType>Credit Note</DocumentType>'
  '     <DocumentSubType>PO</DocumentSubType>'
  '     <Currency>EUR</Currency>'
  '     <CurrencyRate p4:nil="true"'
  '                   xmlns:p4="http://www.w3.org/2001/XMLSchema-instance"/>'
  '     <TotalNetAmount>8000.00</TotalNetAmount>'
  '     <TotalVatAmount>1520.00</TotalVatAmount>'
  '     <TotalGrossAmount>9520.00</TotalGrossAmount>'
  '     <TotalDiscountAmount>0.00</TotalDiscountAmount>'
  '     <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
  '     <DocumentReceiversName>OMV AG</DocumentReceiversName>'
  '     <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>'
  '     <DocumentReceiversIban>AT981910088877766655</DocumentReceiversIban>'
  '     <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
  '     <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>'
  '     <DocumentSuppliersRegistrationNumber1>ABC123</DocumentSuppliersRegistrationNumber1>'
  '     <VatRate1>19.00</VatRate1>'
  '     <VatRate2/>'
  '     <VatRate3/>'
  '     <VatRate4/>'
  '     <VatRate5/>'
  '     <HeaderText1/>'
  '     <HeaderText2/>'
  '     <ReceptionDate>2022-03-09T00:00:00</ReceptionDate>'
  '     <BookingNumber>0</BookingNumber>'
  '     <BookingDate>2022-03-31T00:00:00</BookingDate>'
  '     <BookingYear>2022</BookingYear>'
  '     <BookingMonth>3</BookingMonth>'
  '     <DocumentSetId>69</DocumentSetId>'
  '     <DocumentRawId>175</DocumentRawId>'
  '     <Dimension1/>'
  '     <Dimension2/>'
  '     <Dimension3/>'
  '     <Dimension4/>'
  '     <Dimension5/>'
  '     <Dimension6/>'
  '     <Dimension7/>'
  '     <Dimension8/>'
  '     <VatSystem>S</VatSystem>'
  '     <SupplierNumber>43001</SupplierNumber>'
  '     <SupplierName>OMV AG</SupplierName>'
  '     <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>'
  '     <SupplierIban>AT981910088877766655</SupplierIban>'
  '     <BuyerNumber>1043</BuyerNumber>'
  '     <BuyerName>Dynatos ?sterreich GmbH</BuyerName>'
  '     <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>'
  '   </PurchaseInvoiceHeader>'
  '   <PurchaseInvoiceLines>'
  '     <PurchaseInvoiceLine>'
  '       <Id>152</Id>'
  '       <LineId>1</LineId>'
  '       <ArticleNumberSupplier/>'
  '       <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
  '       <ArticleDescription>Casings</ArticleDescription>'
  '       <StandardArticleNumber/>'
  '       <Quantity>100.000000</Quantity>'
  '       <UnitCode>H87</UnitCode>'
  '       <Price>80.000000</Price>'
  '       <LineAmount>8000.000000</LineAmount>'
  '       <Status>Matched</Status>'
  '       <PurchaseInvoiceHeaderId>59</PurchaseInvoiceHeaderId>'
  '       <OrderReference>4500022687</OrderReference>'
  '       <OrderLineId>10</OrderLineId>'
  '       <ReceiptReference/>'
  '       <ReceiptLineId/>'
  '       <Dimension1/>'
  '       <Dimension2/>'
  '       <Dimension3/>'
  '       <Dimension4/>'
  '       <Dimension5/>'
  '       <Dimension6/>'
  '       <Dimension7/>'
  '       <Dimension8/>'
  '       <VatAmount>1520.000000</VatAmount>'
  '       <VatRate>19.0000</VatRate>'
  '       <PurchaseOrderLinesId>10788</PurchaseOrderLinesId>'
  '       <EanCode/>'
  '     </PurchaseInvoiceLine>'
  '   </PurchaseInvoiceLines>'
  '   <PurchaseInvoiceCodingLines>'
  '     <PurchaseInvoiceCodingLine>'
  '       <GlAccount>400000</GlAccount>'
  '       <CostCenter>1043</CostCenter>'
  '       <DebitAmount>8000.00</DebitAmount>'
  '       <VatAmount>1520.00</VatAmount>'
  '       <VatRate>19.000000000000000000</VatRate>'
  '       <VatCode>VA</VatCode>'
  '       <VatSystem>S</VatSystem>'
  '       <Status>POLine</Status>'
  '       <HeaderId>59</HeaderId>'
  '       <PurchaseInvoiceLinesId>152</PurchaseInvoiceLinesId>'
  '     </PurchaseInvoiceCodingLine>'
  '   </PurchaseInvoiceCodingLines>'
  '   <PurchaseInvoiceIntrastatLines/>'
  '   <PurchaseInvoicePaymentScheduleLines/>'
  '   <MatchingExceptions/>'
  '   <ArchiveLinks>'
  '     <Link>0RZwwynT+DXfrfZ0QvurMA==</Link>'
  '   </ArchiveLinks>'
  '   <Attachments>'
  '     <Attachment>'
  '       <Filename>Base_70c725bf-5b48-499a-b5fc-a0308be7eb46.xml</Filename>'
  '       <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>'
  '       <MimeType>text/xml</MimeType>'
  '       <Type>Base Document</Type>'
  '     </Attachment>'
  '     <Attachment>'
  '       <Filename>70c725bf-5b48-499a-b5fc-a0308be7eb46_generated.pdf</Filename>'
  '       <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>'
  '       <MimeType>application/pdf</MimeType>'
  '       <Type>Sales Invoice</Type>'
  '     </Attachment>'
  '     <Attachment>'
  '       <Filename>Converted_70c725bf-5b48-499a-b5fc-a0308be7eb46.xml</Filename>'
  '       <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>'
  '       <MimeType>text/xml</MimeType>'
  '       <Type>Converted Document</Type>'
  '     </Attachment>'
  '   </Attachments>'
  '	</PurchaseInvoiceData>'
  '	<PurchaseOrderMasterDataList>'
  '   <PurchaseOrderMasterData>'
  '     <PurchaseOrderHeader>'
  '       <DocumentReference>4500022687</DocumentReference>'
  '       <ExtraReference/>'
  '       <DocumentDate>2022-03-09T00:00:00</DocumentDate>'
  '       <DocumentType>NB</DocumentType>'
  '       <DocumentSubType/>'
  '       <Currency>EUR</Currency>'
  '       <TotalNetAmount>8000.00</TotalNetAmount>'
  '       <TotalVatAmount>0.00</TotalVatAmount>'
  '       <TotalGrossAmount>8000.00</TotalGrossAmount>'
  '       <TotalDiscountAmount>0.00</TotalDiscountAmount>'
  '       <OrderReference/>'
  '       <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
  '       <DocumentReceiversName>OMV AG</DocumentReceiversName>'
  '       <DocumentReceiversRegistrationNumber1/>'
  '       <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
  '       <DocumentSuppliersName/>'
  '       <HeaderText1/>'
  '       <HeaderText2/>'
  '       <DocumentStatus>Open</DocumentStatus>'
  '       <RequesterId/>'
  '       <SuppliersName>OMV AG</SuppliersName>'
  '       <SupplierName>OMV AG</SupplierName>'
  '       <SuppliersNumber>43001</SuppliersNumber>'
  '       <SupplierNumber>43001</SupplierNumber>'
  '       <SuppliersRegistrationNumber/>'
  '       <SupplierRegistrationNumber/>'
  '       <BuyerName/>'
  '       <BuyerNumber>1043</BuyerNumber>'
  '       <ReceiversName/>'
  '       <ReceiverName/>'
  '       <ReceiversNumber>1043</ReceiversNumber>'
  '       <ReceiverNumber>1043</ReceiverNumber>'
  '     </PurchaseOrderHeader>'
  '     <PurchaseOrderLines>'
  '       <PurchaseOrderLine>'
  '         <Id>10788</Id>'
  '         <LineId>10</LineId>'
  '         <ExtraReference>4500022687</ExtraReference>'
  '         <ArticleNumberSupplier/>'
  '         <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
  '         <ArticleDescription>Casings</ArticleDescription>'
  '         <StandardArticleNumber/>'
  '         <Quantity>100.000000</Quantity>'
  '         <UnitCode>ST</UnitCode>'
  '         <Price>80.000000</Price>'
  '         <DiscountAmount>0.000000</DiscountAmount>'
  '         <LineAmount>8000.000000</LineAmount>'
  '         <Status/>'
  '         <GlAccount/>'
  '         <CostCenter/>'
  '         <VatCode/>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <StartDate p6:nil="true"'
  '                    xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
  '         <EndDate p6:nil="true"'
  '                  xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
  '         <InvoicedQuantity>0.000000</InvoicedQuantity>'
  '         <InvoicedAmount>0.000000</InvoicedAmount>'
  '       </PurchaseOrderLine>'
  '     </PurchaseOrderLines>'
  '   </PurchaseOrderMasterData>'
  '	</PurchaseOrderMasterDataList>'
  '</PurchaseInvoice>'
  INTO rs_result.

ENDMETHOD.
METHOD get_invoice_from_routty_06.

* ReversalDoc field added to test dynamic document structure

  CONCATENATE
  '<PurchaseInvoice>'
  '	<PurchaseInvoiceData>'
  '   <PurchaseInvoiceHeader>'
  '     <Supplier>'
  '       <Metadata>'
  '         <Number>43001</Number>'
  '         <SiteCode/>'
  '         <CorporateGroupID>1043</CorporateGroupID>'
  '         <IsMasterdata>true</IsMasterdata>'
  '         <Name1>OMV AG</Name1>'
  '         <Name2/>'
  '         <Address1>Rennbahnstrasse 6</Address1>'
  '         <Address2/>'
  '         <PoBox/>'
  '         <PostalCode>1020</PostalCode>'
  '         <City>Wien</City>'
  '         <State/>'
  '         <Location/>'
  '         <CountryCode>AT</CountryCode>'
  '         <Telephone/>'
  '         <EmailAddress>info@dynatos.be</EmailAddress>'
  '         <PaymentTerms>0001</PaymentTerms>'
  '         <PaymentMethod>AKLOSU</PaymentMethod>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <PartyRegistrationNumbers>'
  '           <PartyRegistrationNumber>'
  '             <Number>ATU99999993</Number>'
  '             <Scheme>123</Scheme>'
  '           </PartyRegistrationNumber>'
  '           <PartyRegistrationNumber>'
  '             <Number>ATU99999993</Number>'
  '             <Scheme>VAT</Scheme>'
  '           </PartyRegistrationNumber>'
  '         </PartyRegistrationNumbers>'
  '         <PartyBankAccounts>'
  '           <PartyBankAccount>'
  '             <BankNumber>19100</BankNumber>'
  '             <AccountNumber>98765454321</AccountNumber>'
  '             <IBAN>AT421910098765454321</IBAN>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '         </PartyBankAccounts>'
  '       </Metadata>'
  '       <Type>'
  '         <Name>Partner</Name>'
  '       </Type>'
  '       <Active>true</Active>'
  '     </Supplier>'
  '     <Buyer>'
  '       <Metadata>'
  '         <Number>1043</Number>'
  '         <SiteCode/>'
  '         <CorporateGroupID>1043</CorporateGroupID>'
  '         <IsMasterdata>true</IsMasterdata>'
  '         <Name1>Dynatos Österreich GmbH</Name1>'
  '         <Name2/>'
  '         <Address1>Heugasse 1</Address1>'
  '         <Address2/>'
  '         <PoBox/>'
  '         <PostalCode>1120</PostalCode>'
  '         <City>Wien</City>'
  '         <State/>'
  '         <Location/>'
  '         <CountryCode>AT</CountryCode>'
  '         <Telephone/>'
  '         <EmailAddress>info@dynatos.be</EmailAddress>'
  '         <PaymentTerms/>'
  '         <PaymentMethod/>'
  '         <Dimension1/>'
  '         <Dimension2/>'
  '         <Dimension3/>'
  '         <Dimension4/>'
  '         <Dimension5/>'
  '         <Dimension6/>'
  '         <Dimension7/>'
  '         <Dimension8/>'
  '         <PartyRegistrationNumbers>'
  '           <PartyRegistrationNumber>'
  '             <Number>ABC123</Number>'
  '             <Scheme>VAT</Scheme>'
  '           </PartyRegistrationNumber>'
  '         </PartyRegistrationNumbers>'
  '         <PartyBankAccounts>'
  '           <PartyBankAccount>'
  '             <BankNumber/>'
  '             <AccountNumber/>'
  '             <IBAN/>'
  '             <BIC/>'
  '             <Currency>EUR</Currency>'
  '             <Dimension1/>'
  '             <Dimension2/>'
  '             <Dimension3/>'
  '             <Dimension4/>'
  '           </PartyBankAccount>'
  '         </PartyBankAccounts>'
  '       </Metadata>'
  '       <Type>'
  '         <Name>Company</Name>'
  '       </Type>'
  '       <Active>true</Active>'
  '     </Buyer>'
  '     <DocumentSet>'
  '       <Id>45</Id>'
  '       <DocumentId>IV_4500022676</DocumentId>'
  '       <CreateTimeStamp>2022-01-24T18:57:02.897</CreateTimeStamp>'
  '       <UpdateTimeStamp>2022-01-25T09:10:50.647</UpdateTimeStamp>'
  '       <CreatedBy>Dispatcher</CreatedBy>'
  '       <UpdatedBy>AutoUpdate</UpdatedBy>'
  '       <Guid>b3beff90-47ed-450b-a779-d254b63915bd</Guid>'
  '       <Direction>IN</Direction>'
  '       <StatusId>8</StatusId>'
  '       <ChannelId>11</ChannelId>'
  '       <IncomingConnectionId p5:nil="true"'
  '                             xmlns:p5="http://www.w3.org/2001/XMLSchema-instance"/>'
  '       <OriginId p5:nil="true"'
  '                 xmlns:p5="http://www.w3.org/2001/XMLSchema-instance"/>'
  '       <DocumentTypeId p5:nil="true"'
  '                       xmlns:p5="http://www.w3.org/2001/XMLSchema-instance"/>'
  '     </DocumentSet>'
  '     <DocumentReceiver>'
  '       <Id>0</Id>'
  '       <Number>43001</Number>'
  '       <VatNumber>ATU99999993</VatNumber>'
  '       <Name>OMV AG</Name>'
  '       <Street>Rennbahnstrasse 6</Street>'
  '       <PostalCode>1020</PostalCode>'
  '       <City>Wien</City>'
  '       <Country>AT</Country>'
  '       <ExternalUniqueId>1043</ExternalUniqueId>'
  '     </DocumentReceiver>'
  '     <DocumentSupplier>'
  '       <Id>0</Id>'
  '       <Number>1043</Number>'
  '       <Name>Dynatos ?sterreich GmbH</Name>'
  '       <RegistrationNumber1>ABC123</RegistrationNumber1>'
  '       <Street>Heugasse 1</Street>'
  '       <PostalCode>1120</PostalCode>'
  '       <City>Wien</City>'
  '       <Country>AT</Country>'
  '       <CorporateGroupID>1043</CorporateGroupID>'
  '     </DocumentSupplier>'
  '     <DocumentReference>IV_4500022676</DocumentReference>'
  '     <OrderReference>4500022676</OrderReference>'
  '     <ReceiptReference/>'
  '     <DocumentDate>2022-01-24T00:00:00</DocumentDate>'
  '     <DueDate>2022-03-01T00:00:00</DueDate>'
  '     <PaymentReference/>'
  '     <PaymentTerms/>'
  '     <DocumentType>Invoice</DocumentType>'
  '     <DocumentSubType>PO</DocumentSubType>'
  '     <Currency>EUR</Currency>'
  '     <CurrencyRate p4:nil="true"'
  '                   xmlns:p4="http://www.w3.org/2001/XMLSchema-instance"/>'
  '     <TotalNetAmount>8000.00</TotalNetAmount>'
  '     <TotalVatAmount>1520.00</TotalVatAmount>'
  '     <TotalGrossAmount>9520.00</TotalGrossAmount>'
  '     <TotalDiscountAmount>0.00</TotalDiscountAmount>'
  '     <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
  '     <DocumentReceiversName>OMV AG</DocumentReceiversName>'
  '     <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>'
  '     <DocumentReceiversIban>AT421910098765454321</DocumentReceiversIban>'
  '     <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
  '     <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>'
  '     <DocumentSuppliersRegistrationNumber1>ABC123</DocumentSuppliersRegistrationNumber1>'
  '     <NetAmount1>8000.00</NetAmount1>'
  '     <VatAmount1>1520.00</VatAmount1>'
  '     <VatRate1>19.00</VatRate1>'
  '     <VatRate2/>'
  '     <VatRate3/>'
  '     <VatRate4/>'
  '     <VatRate5/>'
  '     <HeaderText1/>'
  '     <HeaderText2/>'
  '     <ReceptionDate>2022-01-24T00:00:00</ReceptionDate>'
  '     <BookingNumber>0</BookingNumber>'
  '     <BookingDate>2022-01-31T00:00:00</BookingDate>'
  '     <BookingYear>2022</BookingYear>'
  '     <BookingMonth>1</BookingMonth>'
  '     <DocumentSetId>45</DocumentSetId>'
  '     <DocumentRawId>124</DocumentRawId>'
  '     <Dimension1/>'
  '     <Dimension2/>'
  '     <Dimension3/>'
  '     <Dimension4/>'
  '     <Dimension5/>'
  '     <Dimension6/>'
  '     <Dimension7/>'
  '     <Dimension8/>'
  '     <VatSystem>S</VatSystem>'
  '     <SupplierNumber>43001</SupplierNumber>'
  '     <SupplierName>OMV AG</SupplierName>'
  '     <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>'
  '     <SupplierIban>AT421910098765454321</SupplierIban>'
  '     <BuyerNumber>1043</BuyerNumber>'
  '     <BuyerName>Dynatos ?sterreich GmbH</BuyerName>'
  '     <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>'
  '     <ReversalDoc>ABC</ReversalDoc>'
  '   </PurchaseInvoiceHeader>'
  '   <PurchaseInvoiceLines>'
  '     <PurchaseInvoiceLine>'
  '       <LineId>1</LineId>'
  '       <ArticleNumberSupplier/>'
  '       <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
  '       <ArticleDescription>Casings</ArticleDescription>'
  '       <StandardArticleNumber/>'
  '       <Quantity>100.000000</Quantity>'
  '       <UnitCode>PC</UnitCode>'
  '       <Price>80.000000</Price>'
  '       <LineAmount>8000.000000</LineAmount>'
  '       <Status>Matched</Status>'
  '       <PurchaseInvoiceHeaderId>42</PurchaseInvoiceHeaderId>'
  '       <OrderReference>4500022676</OrderReference>'
  '       <OrderLineId>10</OrderLineId>'
  '       <ReceiptReference/>'
  '       <ReceiptLineId/>'
  '       <Dimension1/>'
  '       <Dimension2/>'
  '       <Dimension3/>'
  '       <Dimension4/>'
  '       <Dimension5/>'
  '       <Dimension6/>'
  '       <Dimension7/>'
  '       <Dimension8/>'
  '       <VatRate>19.0000</VatRate>'
  '       <PurchaseOrderLinesId>10769</PurchaseOrderLinesId>'
  '       <EanCode/>'
  '     </PurchaseInvoiceLine>'
  '   </PurchaseInvoiceLines>'
  '   <PurchaseInvoiceCodingLines>'
*  '     <PurchaseInvoiceCodingLine>'
*  '       <GlAccount>892000</GlAccount>'
*  '       <CostCenter>1043</CostCenter>'
*  '       <DebitAmount>8000.00</DebitAmount>'
*  '       <VatAmount>1520.00</VatAmount>'
*  '       <VatCode>VA</VatCode>'
*  '       <VatSystem>S</VatSystem>'
*  '       <Status>POLine</Status>'
*  '       <HeaderId>42</HeaderId>'
*  '       <PurchaseInvoiceLinesId>135</PurchaseInvoiceLinesId>'
*  '     </PurchaseInvoiceCodingLine>'
  '   </PurchaseInvoiceCodingLines>'
  '   <PurchaseInvoiceIntrastatLines/>'
  '   <PurchaseInvoicePaymentScheduleLines/>'
  '   <MatchingExceptions/>'
  '   <ArchiveLinks>'
  '     <Link>SoM67A5qk4TN/cM5G1H8CQ==</Link>'
  '     <Link>UoMnAbGN+5RPnc7UF2zrEg==</Link>'
  '   </ArchiveLinks>'
  '	</PurchaseInvoiceData>'
  '	<PurchaseOrderMasterDataList>'
  '   <PurchaseOrderMasterData>'
  '     <PurchaseOrderHeader>'
  '       <DocumentReference>4500022676</DocumentReference>'
  '       <DocumentDate>2022-01-24T14:22:22</DocumentDate>'
  '       <DocumentType>NB</DocumentType>'
  '       <Currency>EUR</Currency>'
  '       <TotalNetAmount>8000.00</TotalNetAmount>'
  '       <TotalVatAmount>0.00</TotalVatAmount>'
  '       <TotalGrossAmount>8000.00</TotalGrossAmount>'
  '       <TotalDiscountAmount>0.00</TotalDiscountAmount>'
  '       <DocumentReceiversNumber>43001</DocumentReceiversNumber>'
  '       <DocumentReceiversName>OMV AG</DocumentReceiversName>'
  '       <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>'
  '       <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>'
  '       <DocumentSuppliersName>Dynatos Osterreich</DocumentSuppliersName>'
  '       <DocumentStatus>Open</DocumentStatus>'
  '       <SuppliersName>OMV AG</SuppliersName>'
  '       <SupplierName>OMV AG</SupplierName>'
  '       <SuppliersNumber>43001</SuppliersNumber>'
  '       <SupplierNumber>43001</SupplierNumber>'
  '       <SuppliersRegistrationNumber>ATU99999993</SuppliersRegistrationNumber>'
  '       <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>'
  '       <BuyerName>Dynatos Osterreich</BuyerName>'
  '       <BuyerNumber>1043</BuyerNumber>'
  '       <ReceiversName>Dynatos Osterreich</ReceiversName>'
  '       <ReceiverName>Dynatos Osterreich</ReceiverName>'
  '       <ReceiversNumber>1043</ReceiversNumber>'
  '       <ReceiverNumber>1043</ReceiverNumber>'
  '     </PurchaseOrderHeader>'
  '     <PurchaseOrderLines>'
  '       <PurchaseOrderLine>'
  '         <Id>10769</Id>'
  '         <LineId>10</LineId>'
  '         <ExtraReference>4500022676</ExtraReference>'
  '         <ArticleNumberBuyer>100-100</ArticleNumberBuyer>'
  '         <ArticleDescription>Casings</ArticleDescription>'
  '         <Quantity>100.000000</Quantity>'
  '         <UnitCode>PC</UnitCode>'
  '         <Price>80.000000</Price>'
  '         <DiscountAmount>0.000000</DiscountAmount>'
  '         <LineAmount>8000.000000</LineAmount>'
  '         <GlAccount>892000</GlAccount>'
  '         <CostCenter>1043</CostCenter>'
  '         <StartDate p6:nil="true"'
  '                    xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
  '         <EndDate p6:nil="true"'
  '                  xmlns:p6="http://www.w3.org/2001/XMLSchema-instance"/>'
  '       </PurchaseOrderLine>'
  '     </PurchaseOrderLines>'
  '   </PurchaseOrderMasterData>'
  '	</PurchaseOrderMasterDataList>'
  '</PurchaseInvoice>'
  INTO rs_result.

ENDMETHOD.
METHOD get_sc_comp_code_to_routtyap_1.

**************************************************************************************************
* Scenario: Company Code is transferred from SAP to Routty
* Version: 01

**************************************************************************************************

  DATA: lr_companycode_detail  TYPE REF TO data,
        lr_companycode_address TYPE REF TO data,
        lr_return              TYPE REF TO data,
        lr_sel_opt             TYPE REF TO data,
        lr_company_codes       TYPE REF TO data,

        lt_scenario            LIKE mst_scenario-scenario,
        lst_val                LIKE LINE OF lt_scenario,
        ls_value               LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_bapi_cc_getdetail_data( IMPORTING er_companycode_detail  = lr_companycode_detail
                                           er_companycode_address = lr_companycode_address
                                           er_return              = lr_return ).

  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_opt ).
  create_get_company_codes( IMPORTING er_company_codes = lr_company_codes ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_COMPANY_CODES' '' ''.
  add_method_ref lt_scenario 2 'GET_COMPANY_CODES' 'IT_SEL_OPT'       lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_COMPANY_CODES' 'ET_COMPANY_CODES' lr_company_codes.

  add_method     lt_scenario 3 'BAPI_COMPANYCODE_GETDETAIL' '' ''.
  add_method     lt_scenario 3 'BAPI_COMPANYCODE_GETDETAIL' 'IC_COMPANYCODE_ID'        '1043'.
  add_method_ref lt_scenario 3 'BAPI_COMPANYCODE_GETDETAIL' 'EST_COMPANYCODE_DETAIL'   lr_companycode_detail.
  add_method_ref lt_scenario 3 'BAPI_COMPANYCODE_GETDETAIL' 'EST_COMPANYCODE_ADDRESS'  lr_companycode_address.
  add_method_ref lt_scenario 3 'BAPI_COMPANYCODE_GETDETAIL' 'EST_RETURN'               lr_return.

  add_method lt_scenario 4 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 4 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730185'.
  add_method lt_scenario 4 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'info@dynatos.be'.

  add_method lt_scenario 5 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 5 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 5 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 5 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 6 'CALL_HTTP' '' ''.
  add_method lt_scenario 6 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>1043</Number>#     <CorporateGroupID>1043</CorporateGroupID>#      <Name1>Dynatos Österreich</Name1'
    '>#      <Address1>Heugasse</Address1>#      <Address2/>#      <PoBox/>#      <PostalCode>1120</PostalCode>#      <City>Wien</City>#<State>W</State>#      <Location/>#      <CountryCode>AT</CountryCode>#      <Telephone/>#      <Ema'
    'ilAddress>info@dynatos.be</EmailAddress>#      <PaymentTerms/>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#  <Dimension4/>#      <Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#'
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>ABC123</Number>#       <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#   <PartyBankAccounts>#        <PartyBankAccount>#'
    '<BankNumber/>#          <AccountNumber/>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#     <Dimension2/>#          <Dimension3/>#   <Dimension4/>#        </PartyBankAccount># </PartyBankAccou'
    'nts>#    </Metadata>#    <Type>#     <Name>Company</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>1043</Number>#     <CorporateGroupID>1043</CorporateGroupID>#      <Name1>Dynatos Österreich</Name1'
    '>#      <Address1>Heugasse</Address1>#    <PostalCode>1120</PostalCode>#      <City>Wien</City>#<State>W</State># <CountryCode>AT</CountryCode># <Ema'
    'ilAddress>info@dynatos.be</EmailAddress>#'
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>ABC123</Number>#       <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#   <PartyBankAccounts>#        <PartyBankAccount>#'
    '<Currency>EUR</Currency>#          </PartyBankAccount># </PartyBankAccou'
    'nts>#    </Metadata>#    <Type>#     <Name>Company</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 6 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 6 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 6 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 6 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 6 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_comp_code_to_routtyap_2.

**************************************************************************************************
* Scenario: Two Company Codes are transferred from SAP to Routty
* Version: 01

**************************************************************************************************

  DATA: lr_companycode_detail_1  TYPE REF TO data,
        lr_companycode_address_1 TYPE REF TO data,
        lr_companycode_detail_2  TYPE REF TO data,
        lr_companycode_address_2 TYPE REF TO data,

        lr_return                TYPE REF TO data,
        lr_sel_opt               TYPE REF TO data,
        lr_company_codes         TYPE REF TO data,

        lt_scenario              LIKE mst_scenario-scenario,
        lst_val                  LIKE LINE OF lt_scenario,
        ls_value                 LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_bapi_cc_getdetail_data( EXPORTING ic_comp_code           = '1043'
                                 IMPORTING er_companycode_detail  = lr_companycode_detail_1
                                           er_companycode_address = lr_companycode_address_1
                                           er_return              = lr_return ).

  create_bapi_cc_getdetail_data( EXPORTING ic_comp_code           = '1049'
                                 IMPORTING er_companycode_detail  = lr_companycode_detail_2
                                           er_companycode_address = lr_companycode_address_2 ).

  create_company_codes_02( IMPORTING er_sel_opt = lr_sel_opt ).
  create_get_company_codes_02( IMPORTING er_company_codes = lr_company_codes ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method     lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method     lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_COMPANY_CODES' '' ''.
  add_method_ref lt_scenario 2 'GET_COMPANY_CODES' 'IT_SEL_OPT'       lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_COMPANY_CODES' 'ET_COMPANY_CODES' lr_company_codes.

  add_method     lt_scenario 3 'BAPI_COMPANYCODE_GETDETAIL' '' ''.
  add_method     lt_scenario 3 'BAPI_COMPANYCODE_GETDETAIL' 'IC_COMPANYCODE_ID'        '1043'.
  add_method_ref lt_scenario 3 'BAPI_COMPANYCODE_GETDETAIL' 'EST_COMPANYCODE_DETAIL'   lr_companycode_detail_1.
  add_method_ref lt_scenario 3 'BAPI_COMPANYCODE_GETDETAIL' 'EST_COMPANYCODE_ADDRESS'  lr_companycode_address_1.
  add_method_ref lt_scenario 3 'BAPI_COMPANYCODE_GETDETAIL' 'EST_RETURN'               lr_return.

  add_method     lt_scenario 4 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method     lt_scenario 4 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730185'.
  add_method     lt_scenario 4 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'info@dynatos.be'.

  add_method     lt_scenario 5 'BAPI_COMPANYCODE_GETDETAIL' '' ''.
  add_method     lt_scenario 5 'BAPI_COMPANYCODE_GETDETAIL' 'IC_COMPANYCODE_ID'        '1049'.
  add_method_ref lt_scenario 5 'BAPI_COMPANYCODE_GETDETAIL' 'EST_COMPANYCODE_DETAIL'   lr_companycode_detail_2.
  add_method_ref lt_scenario 5 'BAPI_COMPANYCODE_GETDETAIL' 'EST_COMPANYCODE_ADDRESS'  lr_companycode_address_2.
  add_method_ref lt_scenario 5 'BAPI_COMPANYCODE_GETDETAIL' 'EST_RETURN'               lr_return.

  add_method     lt_scenario 6 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method     lt_scenario 6 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730175'.
  add_method     lt_scenario 6 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'info_02@dynatos.be'.

  add_method     lt_scenario 7 'CREATE_REL_URL' '' ''.
  add_method     lt_scenario 7 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method     lt_scenario 7 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method     lt_scenario 7 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 8 'CALL_HTTP' '' ''.
  add_method lt_scenario 8 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>1043</Number>#      <CorporateGroupID>1043</CorporateGroupID>#     <Name1>Dynatos Österreich</N'
    'ame1>#    <Address1>Heugasse</Address1>#      <Address2/>#      <PoBox/>#      <PostalCode>1120</PostalCode>#      <City>Wien</City>#<State>W</State>#      <Location/>#      <CountryCode>AT</CountryCode>#      <Telephone/>#    '
    '<EmailAddress>info@dynatos.be</EmailAddress>#      <PaymentTerms/>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#  <Dimension4/>#      <Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#'
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>ABC123</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAcco'
   'unt>#          <BankNumber/>#          <AccountNumber/>#          <IBAN/>#          <BIC/># <Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#        <Dimension4/>#        </PartyBankAccount>#      </'
   'PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Company</Name>#  <Type/>  </Type>#    <Active>true</Active>#  </Party>#  <Party>#    <Metadata>#      <Number>1049</Number>#      <CorporateGroupID>1049</CorporateGroupID>#'
   '<Name1>Dynatos Deutschland GmbH</Name1>#     <Address1>Zeil</Address1>#      <Address2/>#      <PoBox/>#      <PostalCode>60311</PostalCode>#      <City>Frankfurt</City>#      <State>06<'
   '/State>#      <Location/>#      <CountryCode>DE</CountryCode>#      <Telephone/>#      <EmailAddress>info_02@dynatos.be</EmailAddress>#      <PaymentTerms/>#      <PaymentMethod/>#      <Dimension1/>#<Dimension2/>#      <Dimension3/>#      <Dimen'
   'sion4/>#      <Dimension5/>#      <Dimension6/>#<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>DE345740205</Number>#<Scheme>VAT</Scheme>#        </PartyRegistrationNu'
   'mber>#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#   <BankNumber/>#          <AccountNumber/>#    <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#'
   '<Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Company</Name>#   <Type/> </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
     INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>1043</Number>#      <CorporateGroupID>1043</CorporateGroupID>#     <Name1>Dynatos Österreich</N'
    'ame1>#    <Address1>Heugasse</Address1># <PostalCode>1120</PostalCode>#      <City>Wien</City>#<State>W</State># <CountryCode>AT</CountryCode>#      '
    '<EmailAddress>info@dynatos.be</EmailAddress>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>ABC123</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAcco'
    'unt># <Currency>EUR</Currency># </PartyBankAccount>#      </Par'
    'tyBankAccounts>#    </Metadata>#    <Type>#      <Name>Company</Name># </Type>#    <Active>true</Active>#  </Party>#  <Party>#    <Metadata>#      <Number>1049</Number>#      <CorporateGroupID>1049</CorporateGroupID>#'
    '<Name1>Dynatos Deutschland GmbH</Name1>#     <Address1>Zeil</Address1>#      <PostalCode>60311</PostalCode>#      <City>Frankfurt</City>#      <State>06<'
    '/State>#      <CountryCode>DE</CountryCode>#  <EmailAddress>info_02@dynatos.be</EmailAddress>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>DE345740205</Number>#<Scheme>VAT</Scheme>#        </PartyRegistrationNu'
    'mber>#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#<Currency>EUR</Currency>#          '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Company</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 8 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_COST_CEN_TO_ROUTTYAP_01.

**************************************************************************************************
* Scenario: Cost Center is transferred from SAP to Routty
* Version: 01, one company code, one cost center

**************************************************************************************************

  DATA: lr_sel_opt      TYPE REF TO data,
        lr_sel_langu    TYPE REF TO data,
        lr_cost_centers TYPE REF TO data,

        lt_scenario     LIKE mst_scenario-scenario,
        lst_val         LIKE LINE OF lt_scenario,
        ls_value        LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_cost_centers_01( IMPORTING er_sel_opt       = lr_sel_opt
                                        er_cost_centers  = lr_cost_centers ).
  create_langu( IMPORTING er_sel_langu = lr_sel_langu ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CONTROLLING_AREA' '' ''.
  add_method     lt_scenario 2 'GET_CONTROLLING_AREA' 'IC_COMP_CODE' '1043'.
  add_method     lt_scenario 2 'GET_CONTROLLING_AREA' 'EC_CTRL_AREA' '1000'.

  add_method     lt_scenario 3 'GET_COST_CENTERS' '' ''.
  add_method     lt_scenario 0 'GET_COST_CENTERS' 'IC_COMP_CODE'    '1043'.
  add_method     lt_scenario 0 'GET_COST_CENTERS' 'IC_CTRL_AREA'    '1000'.
  add_method_ref lt_scenario 0 'GET_COST_CENTERS' 'IT_SEL_OPT'      lr_sel_opt.
  add_method_ref lt_scenario 0 'GET_COST_CENTERS' 'IT_SEL_LANGU'    lr_sel_langu.
  add_method_ref lt_scenario 0 'GET_COST_CENTERS' 'ET_COST_CENTERS' lr_cost_centers.

  add_method lt_scenario 4 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 4 'CREATE_REL_URL' 'PATH' '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 4 'CREATE_REL_URL' 'URL' '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 5 'CALL_HTTP' '' ''.
  add_method lt_scenario 5 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="CostCenter"><Value>1043</Value><Description>Test Cost Center</Description><CorporateGroupID>1043</CorporateGroupID></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 5 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 5 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 5 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 5 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 5 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_COST_CEN_TO_ROUTTYAP_02.

**************************************************************************************************
* Scenario: Cost Center is transferred from SAP to Routty
* Version: 01, two company codes, two cost centers

**************************************************************************************************

  DATA: lr_sel_opt         TYPE REF TO data,
        lr_cost_centers_01 TYPE REF TO data,
        lr_cost_centers_02 TYPE REF TO data,
        lr_sel_langu       TYPE REF TO data,

        lt_scenario     LIKE mst_scenario-scenario,
        lst_val         LIKE LINE OF lt_scenario,
        ls_value        LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_cost_centers_01( IMPORTING er_sel_opt       = lr_sel_opt
                                        er_cost_centers  = lr_cost_centers_01 ).
  create_get_cost_centers_02( IMPORTING er_sel_opt       = lr_sel_opt
                                        er_cost_centers  = lr_cost_centers_02 ).
  create_langu( IMPORTING er_sel_langu = lr_sel_langu ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CONTROLLING_AREA' '' ''.
  add_method     lt_scenario 2 'GET_CONTROLLING_AREA' 'IC_COMP_CODE' '1043'.
  add_method     lt_scenario 2 'GET_CONTROLLING_AREA' 'EC_CTRL_AREA' '1000'.

  add_method     lt_scenario 3 'GET_COST_CENTERS' '' ''.
  add_method     lt_scenario 0 'GET_COST_CENTERS' 'IC_COMP_CODE'    '1043'.
  add_method     lt_scenario 0 'GET_COST_CENTERS' 'IC_CTRL_AREA'    '1000'.
  add_method_ref lt_scenario 0 'GET_COST_CENTERS' 'IT_SEL_OPT'      lr_sel_opt.
  add_method_ref lt_scenario 0 'GET_COST_CENTERS' 'IT_SEL_LANGU'    lr_sel_langu.
  add_method_ref lt_scenario 0 'GET_COST_CENTERS' 'ET_COST_CENTERS' lr_cost_centers_01.

  add_method     lt_scenario 4 'GET_CONTROLLING_AREA' '' ''.
  add_method     lt_scenario 4 'GET_CONTROLLING_AREA' 'IC_COMP_CODE' '1049'.
  add_method     lt_scenario 4 'GET_CONTROLLING_AREA' 'EC_CTRL_AREA' '1002'.

  add_method     lt_scenario 5 'GET_COST_CENTERS' '' ''.
  add_method     lt_scenario 0 'GET_COST_CENTERS' 'IC_COMP_CODE'    '1049'.
  add_method     lt_scenario 0 'GET_COST_CENTERS' 'IC_CTRL_AREA'    '1002'.
  add_method_ref lt_scenario 0 'GET_COST_CENTERS' 'IT_SEL_OPT'      lr_sel_opt.
  add_method_ref lt_scenario 0 'GET_COST_CENTERS' 'IT_SEL_LANGU'    lr_sel_langu.
  add_method_ref lt_scenario 0 'GET_COST_CENTERS' 'ET_COST_CENTERS' lr_cost_centers_02.

  add_method lt_scenario 6 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 6 'CREATE_REL_URL' 'PATH' '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'URL' '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 7 'CALL_HTTP' '' ''.
  add_method lt_scenario 7 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="CostCenter"><Value>1043</Value><Description>Test Cost Center</Description><CorporateGroupID>1043</CorporateGroupID></AccountingMasterData>'
  '<AccountingMasterData type="CostCenter"><Value>2000</Value><Description>Test Cost Center 2</Description><CorporateGroupID>1049</CorporateGroupID></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 7 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 7 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 7 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 7 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 7 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_CURRENCY_TO_ROUTTYAP_01.

**************************************************************************************************
* Scenario: Currency is transferred from SAP to Routty
* Version: 01, one company code

**************************************************************************************************

  DATA: lr_sel_opt    TYPE REF TO data,
        lr_sel_langu  TYPE REF TO data,
        lr_texts      TYPE REF TO data,

        lt_scenario   LIKE mst_scenario-scenario,
        lst_val       LIKE LINE OF lt_scenario,
        ls_value      LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_currency_texts( IMPORTING er_sel_opt         = lr_sel_opt
                                       er_currency_texts  = lr_texts ).
  create_langu( IMPORTING er_sel_langu = lr_sel_langu ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CURRENCY_TEXTS' '' ''.
  add_method_ref lt_scenario 2 'GET_CURRENCY_TEXTS' 'IT_SEL_OPT'    lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CURRENCY_TEXTS' 'IT_SEL_LANGU'  lr_sel_langu.
  add_method_ref lt_scenario 2 'GET_CURRENCY_TEXTS' 'ET_TEXTS'      lr_texts.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH' '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL' '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList><AccountingMasterData type="Currency"><Value>EUR</Value><Description>Euro test</Description><CorporateGroupID>1043</CorporateGroupID></Accoun'
  'tingMasterData></AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_CURRENCY_TO_ROUTTYAP_02.

**************************************************************************************************
* Scenario: Currency is transferred from SAP to Routty
* Version: 01, two company codes

**************************************************************************************************

  DATA: lr_sel_opt    TYPE REF TO data,
        lr_sel_langu  TYPE REF TO data,
        lr_texts      TYPE REF TO data,

        lt_scenario   LIKE mst_scenario-scenario,
        lst_val       LIKE LINE OF lt_scenario,
        ls_value      LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_currency_texts( IMPORTING er_sel_opt         = lr_sel_opt
                                       er_currency_texts  = lr_texts ).
  create_langu( IMPORTING er_sel_langu = lr_sel_langu ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CURRENCY_TEXTS' '' ''.
  add_method_ref lt_scenario 2 'GET_CURRENCY_TEXTS' 'IT_SEL_OPT'    lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CURRENCY_TEXTS' 'IT_SEL_LANGU'  lr_sel_langu.
  add_method_ref lt_scenario 2 'GET_CURRENCY_TEXTS' 'ET_TEXTS'      lr_texts.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH' '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL' '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="Currency"><Value>EUR</Value><Description>Euro test</Description><CorporateGroupID>1043</CorporateGroupID></AccountingMasterData>'
  '<AccountingMasterData type="Currency"><Value>EUR</Value><Description>Euro test</Description><CorporateGroupID>1049</CorporateGroupID></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_customer_to_routtyap_01.

**************************************************************************************************
* Scenario: Customer is transferred from SAP to Routty
* Version: 01, one company code, one customer

**************************************************************************************************

  DATA: lr_banks          TYPE REF TO data,
        lr_customers      TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_customers( IMPORTING er_sel_opt   = lr_sel_opt
                                  er_customers = lr_customers ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).

  create_get_customer_banks_01( IMPORTING er_banks = lr_banks ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CUSTOMERS' '' ''.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'ET_CUSTOMERS' lr_customers.

  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000022000'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'ID_DATE'       '19990101'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 4 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 4 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000022000'.
  add_method_ref lt_scenario 4 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks.

  add_method lt_scenario 5 'GET_IBAN' '' ''.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKL' '25012345'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKN' '21346541'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 5 'GET_IBAN' 'EC_IBAN'  ''.

  add_method lt_scenario 6 'GET_SWIFT' '' ''.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKL' '25012345'.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 6 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006841'.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@ides.com'.

  add_method lt_scenario 8 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 8 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 8 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 8 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 9 'CALL_HTTP' '' ''.
  add_method lt_scenario 9 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#     <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <Address2/>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  <Type/>   </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#     <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <Currency>EUR</Currency>#         '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 9 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 9 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 9 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 9 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 9 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_customer_to_routtyap_02.

**************************************************************************************************
* Scenario: Customer is transferred from SAP to Routty
* Version: 02, two company codes, one customer

**************************************************************************************************

  DATA: lr_banks          TYPE REF TO data,
        lr_customers      TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_customers( EXPORTING ii_num_of_comp_codes = 2
                                  ii_num_of_customers  = 1
                        IMPORTING er_sel_opt           = lr_sel_opt
                                  er_customers         = lr_customers ).
  create_company_codes_02( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_customer_banks_01( IMPORTING er_banks = lr_banks ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CUSTOMERS' '' ''.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'ET_CUSTOMERS' lr_customers.

* customer for CC 1043
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000022000'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'ID_DATE'       '19990101'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 4 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 4 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000022000'.
  add_method_ref lt_scenario 4 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks.

  add_method lt_scenario 5 'GET_IBAN' '' ''.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKL' '25012345'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKN' '21346541'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 5 'GET_IBAN' 'EC_IBAN'  ''.

  add_method lt_scenario 6 'GET_SWIFT' '' ''.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKL' '25012345'.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 6 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006841'.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@ides.com'.

* customer for CC 1043
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000022000'.
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' 'ID_DATE'       '19990101'.
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 9 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 9 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000022000'.
  add_method_ref lt_scenario 9 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks.

  add_method lt_scenario 10 'GET_IBAN' '' ''.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKL' '25012345'.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKN' '21346541'.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 10 'GET_IBAN' 'EC_IBAN'  ''.

  add_method lt_scenario 11 'GET_SWIFT' '' ''.
  add_method lt_scenario 11 'GET_SWIFT' 'IC_BANKL' '25012345'.
  add_method lt_scenario 11 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 11 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006842'.
  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test2@ides.com'. " second difference

* common part
  add_method lt_scenario 13 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 13 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 14 'CALL_HTTP' '' ''.
  add_method lt_scenario 14 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
  '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
  ' <Address1>31, rue des Erables</Address1>#      <Address2/>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
  'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
  '<Dimension5/>#      <Dimension6/>#      '
  '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
  'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimensi'
  'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  <Type/> </Type>#    <Active>true</Active>#  </Party>'

  '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1049</CorporateGroupID>#      <Name1>IDES France SA 2</Name1>#'
  ' <Address1>31, rue des Erables</Address1>#      <Address2/>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
  'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test2@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
  '<Dimension5/>#      <Dimension6/>#      '
  '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
  'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimensi'
  'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  <Type/>  </Type>#    <Active>true</Active>#  </Party>'
  '</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <Currency>EUR</Currency>#          '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  </Type>#    <Active>true</Active>#  </Party>'

    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1049</CorporateGroupID>#      <Name1>IDES France SA 2</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test2@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <Currency>EUR</Currency>#          '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  </Type>#    <Active>true</Active>#  </Party>'
    '</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 14 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_customer_to_routtyap_03.

**************************************************************************************************
* Scenario: Customer is transferred from SAP to Routty
* Version: 03, one company code, two customers

**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_customers      TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_customers( EXPORTING ii_num_of_comp_codes = 1
                                  ii_num_of_customers  = 2
                        IMPORTING er_sel_opt           = lr_sel_opt
                                  er_customers         = lr_customers ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_customer_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_customer_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CUSTOMERS' '' ''.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'ET_CUSTOMERS' lr_customers.

* customer 22000
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000022000'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'ID_DATE'       '19990101'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 4 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 4 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000022000'.
  add_method_ref lt_scenario 4 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks_01.

  add_method lt_scenario 5 'GET_IBAN' '' ''.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKL' '25012345'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKN' '21346541'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 5 'GET_IBAN' 'EC_IBAN'  ''.

  add_method lt_scenario 6 'GET_SWIFT' '' ''.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKL' '25012345'.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 6 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006841'.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@ides.com'.

* customer 33000
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000033000'.
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' 'ID_DATE'       '19990101'.
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 9 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 9 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000033000'.
  add_method_ref lt_scenario 9 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks_02.

  add_method lt_scenario 10 'GET_IBAN' '' ''.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKL' '55555'.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKN' '12345678901'.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 10 'GET_IBAN' 'EC_IBAN'  'DE005555512345678901'.

  add_method lt_scenario 11 'GET_SWIFT' '' ''.
  add_method lt_scenario 11 'GET_SWIFT' 'IC_BANKL' '55555'.
  add_method lt_scenario 11 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 11 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006843'.
  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test2@ides.com'.

* common part
  add_method lt_scenario 13 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 13 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 14 'CALL_HTTP' '' ''.
  add_method lt_scenario 14 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <Address2/>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  <Type/> </Type>#    <Active>true</Active>#  </Party>'

    '<Party>#    <Metadata>#      <Number>33000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA 3</Name1>#'
    ' <Address1>33, rue des Erables</Address1>#      <Address2/>#      <PoBox>1033</PoBox>#      <PostalCode>33333</PostalCode>#      <City>Paris 3</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>03 49 74 45 45-</Telephone>#      <EmailAddress>test2@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612693</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#    <IBAN>DE005555512345678901</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1'
    '/>#     <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>'
    '</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#       <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#        '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <Currency>EUR</Currency># '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  </Type>#    <Active>true</Active>#  </Party>'

    '<Party>#    <Metadata>#      <Number>33000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA 3</Name1>#'
    ' <Address1>33, rue des Erables</Address1>#      <PoBox>1033</PoBox>#      <PostalCode>33333</PostalCode>#      <City>Paris 3</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>03 49 74 45 45-</Telephone>#      <EmailAddress>test2@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612693</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#    <IBAN>DE005555512345678901</IBAN>#         <Currency>EUR</Currency>#'
    ' </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party></PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 14 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_customer_to_routtyap_04.

**************************************************************************************************
* Scenario: Customer is transferred from SAP to Routty
* Version: 04, one company code, two customers
*             bulk size = 1, so each customer will be sent in a separat API call
**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_customers      TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.

**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_customers( EXPORTING ii_num_of_comp_codes = 1
                                  ii_num_of_customers  = 2
                        IMPORTING er_sel_opt           = lr_sel_opt
                                  er_customers         = lr_customers ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_customer_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_customer_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CUSTOMERS' '' ''.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'ET_CUSTOMERS' lr_customers.

* customer 22000
  add_method     lt_scenario 3 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 3 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000022000'.
  add_method_ref lt_scenario 3 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks_01.

  add_method lt_scenario 4 'GET_IBAN' '' ''.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKL' '25012345'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKN' '21346541'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 4 'GET_IBAN' 'EC_IBAN'  ''.

  add_method lt_scenario 5 'GET_SWIFT' '' ''.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKL' '25012345'.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 5 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006841'.
  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@ides.com'.

  add_method lt_scenario 7 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 7 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 7 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 7 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 8 'CALL_HTTP' '' ''.
  add_method lt_scenario 8 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <Address2/>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>'
    '</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
  '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
  ' <Address1>31, rue des Erables</Address1>#     <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#     <CountryCode>FR</CountryCode>#      <'
  'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#  '
  '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
  'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#         <Currency>EUR</Currency>#'
  '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>'
  '</PartyList>'
    INTO ls_value.
  ENDIF.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 8 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

* customer 33000
  add_method     lt_scenario 9 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 9 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000033000'.
  add_method_ref lt_scenario 9 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks_02.

  add_method lt_scenario 10 'GET_IBAN' '' ''.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKL' '55555'.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKN' '12345678901'.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 10 'GET_IBAN' 'EC_IBAN'  'DE005555512345678901'.

  add_method lt_scenario 11 'GET_SWIFT' '' ''.
  add_method lt_scenario 11 'GET_SWIFT' 'IC_BANKL' '55555'.
  add_method lt_scenario 11 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 11 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006843'.
  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test2@ides.com'.


  add_method lt_scenario 13 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 13 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 14 'CALL_HTTP' '' ''.
  add_method lt_scenario 14 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>33000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#     <Name1>IDES France SA 3</Name1>#'
    ' <Address1>33, rue des Erables</Address1>#      <Address2/>#      <PoBox>1033</PoBox>#      <PostalCode>33333</PostalCode>#      <City>Paris 3</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>03 49 74 45 45-</Telephone>#      <EmailAddress>test2@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612693</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#    <IBAN>DE005555512345678901</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1'
    '/>#     <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>'
    '</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>33000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#     <Name1>IDES France SA 3</Name1>#'
    ' <Address1>33, rue des Erables</Address1>#     <PoBox>1033</PoBox>#      <PostalCode>33333</PostalCode>#      <City>Paris 3</City>#      <State>75</State># <CountryCode>FR</CountryCode>#      <'
    'Telephone>03 49 74 45 45-</Telephone>#      <EmailAddress>test2@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms># '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612693</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#    <IBAN>DE005555512345678901</IBAN>#     <Currency>EUR</Currency># '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#</Type>#    <Active>true</Active>#  </Party>'
    '</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 14 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_customer_to_routtyap_05.

**************************************************************************************************
* Scenario: Customer is transferred from SAP to Routty
* Version: 05, one company code, two customers
* one is blocked, full update with inactive customers skipped

**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_customers      TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.
  FIELD-SYMBOLS: <t_customers> TYPE zdyn_lstr_cmd,
                 <st_customer> LIKE LINE OF <t_customers>.

**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_customers( EXPORTING ii_num_of_comp_codes = 1
                                  ii_num_of_customers  = 2
                        IMPORTING er_sel_opt           = lr_sel_opt
                                  er_customers         = lr_customers ).
  ASSIGN lr_customers->* TO <t_customers>.
* Let customer 33000 be blocked for posting
  READ TABLE <t_customers> WITH KEY kunnr = '0000033000' ASSIGNING <st_customer>.
  <st_customer>-sperr = abap_true.

  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_customer_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_customer_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CUSTOMERS' '' ''.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'ET_CUSTOMERS' lr_customers.

* customer 22000
  add_method     lt_scenario 3 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 3 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000022000'.
  add_method_ref lt_scenario 3 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks_01.

  add_method lt_scenario 4 'GET_IBAN' '' ''.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKL' '25012345'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKN' '21346541'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 4 'GET_IBAN' 'EC_IBAN'  ''.

  add_method lt_scenario 5 'GET_SWIFT' '' ''.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKL' '25012345'.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 5 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006841'.
  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@ides.com'.

* common part
  add_method lt_scenario 7 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 7 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 7 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 7 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 8 'CALL_HTTP' '' ''.
  add_method lt_scenario 8 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <Address2/>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  <Type/> </Type>#    <Active>true</Active>#  </Party>'
    '</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#       <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#        '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <Currency>EUR</Currency># '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  </Type>#  <Active>true</Active>#   </Party>'
    '</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 8 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_CUSTOMER_TO_ROUTTYAP_06.

**************************************************************************************************
* Scenario: Customer is transferred from SAP to Routty
* Version: 06, one company code, two customers
* one is blocked, full update with inactive customers taken

**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_customers      TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.
  FIELD-SYMBOLS: <t_customers> TYPE zdyn_lstr_cmd,
                 <st_customer> LIKE LINE OF <t_customers>.

**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_customers( EXPORTING ii_num_of_comp_codes = 1
                                  ii_num_of_customers  = 2
                        IMPORTING er_sel_opt           = lr_sel_opt
                                  er_customers         = lr_customers ).
  ASSIGN lr_customers->* TO <t_customers>.
* Let customer 33000 be blocked for posting
  READ TABLE <t_customers> WITH KEY kunnr = '0000033000' ASSIGNING <st_customer>.
  <st_customer>-sperr = abap_true.

  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_customer_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_customer_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CUSTOMERS' '' ''.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'ET_CUSTOMERS' lr_customers.

* customer 22000
  add_method     lt_scenario 3 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 3 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000022000'.
  add_method_ref lt_scenario 3 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks_01.

  add_method lt_scenario 4 'GET_IBAN' '' ''.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKL' '25012345'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKN' '21346541'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 4 'GET_IBAN' 'EC_IBAN'  ''.

  add_method lt_scenario 5 'GET_SWIFT' '' ''.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKL' '25012345'.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 5 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006841'.
  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@ides.com'.

* customer 33000
  add_method     lt_scenario 7 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 7 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000033000'.
  add_method_ref lt_scenario 7 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks_02.

  add_method lt_scenario 8 'GET_IBAN' '' ''.
  add_method lt_scenario 8 'GET_IBAN' 'IC_BANKL' '55555'.
  add_method lt_scenario 8 'GET_IBAN' 'IC_BANKN' '12345678901'.
  add_method lt_scenario 8 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 8 'GET_IBAN' 'EC_IBAN'  'DE005555512345678901'.

  add_method lt_scenario 9 'GET_SWIFT' '' ''.
  add_method lt_scenario 9 'GET_SWIFT' 'IC_BANKL' '55555'.
  add_method lt_scenario 9 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 9 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 10 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 10 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006843'.
  add_method lt_scenario 10 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test2@ides.com'.

* common part
  add_method lt_scenario 11 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 11 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 11 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 11 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 12 'CALL_HTTP' '' ''.
  add_method lt_scenario 12 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <Address2/>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  <Type/> </Type>#    <Active>true</Active>#  </Party>'

    '<Party>#    <Metadata>#      <Number>33000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA 3</Name1>#'
    ' <Address1>33, rue des Erables</Address1>#      <Address2/>#      <PoBox>1033</PoBox>#      <PostalCode>33333</PostalCode>#      <City>Paris 3</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>03 49 74 45 45-</Telephone>#      <EmailAddress>test2@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612693</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#    <IBAN>DE005555512345678901</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1'
    '/>#     <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># <Type/>  </Type>#    <Active>false</Active>#  </Party>'
    '</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#       <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#        '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <Currency>EUR</Currency># '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  </Type>#    <Active>true</Active>#  </Party>'

    '<Party>#    <Metadata>#      <Number>33000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA 3</Name1>#'
    ' <Address1>33, rue des Erables</Address1>#      <PoBox>1033</PoBox>#      <PostalCode>33333</PostalCode>#      <City>Paris 3</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>03 49 74 45 45-</Telephone>#      <EmailAddress>test2@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612693</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#    <IBAN>DE005555512345678901</IBAN>#         <Currency>EUR</Currency>#'
    ' </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># </Type>#  <Active>false</Active> </Party></PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 12 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 12 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 12 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 12 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 12 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_customer_to_routtyap_07.

**************************************************************************************************
* Scenario: Customer is transferred from SAP to Routty
* Version: 07, one company code, two customers
* one is blocked, incremental (modification date provided), inactive customers taken

**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_customers      TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.
  FIELD-SYMBOLS: <t_customers> TYPE zdyn_lstr_cmd,
                 <st_customer> LIKE LINE OF <t_customers>.

**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_customers( EXPORTING ii_num_of_comp_codes = 1
                                  ii_num_of_customers  = 2
                        IMPORTING er_sel_opt           = lr_sel_opt
                                  er_customers         = lr_customers ).
  ASSIGN lr_customers->* TO <t_customers>.
* Let customer 33000 be blocked for posting
  READ TABLE <t_customers> WITH KEY kunnr = '0000033000' ASSIGNING <st_customer>.
  <st_customer>-sperr = abap_true.

  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_customer_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_customer_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CUSTOMERS' '' ''.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'ET_CUSTOMERS' lr_customers.

* customer 22000
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'    '0000022000'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'IC_OBJECT_CLASS' 'DEBI'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'ID_DATE'         '19990101'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 4 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 4 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000022000'.
  add_method_ref lt_scenario 4 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks_01.

  add_method lt_scenario 5 'GET_IBAN' '' ''.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKL' '25012345'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKN' '21346541'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 5 'GET_IBAN' 'EC_IBAN'  ''.

  add_method lt_scenario 6 'GET_SWIFT' '' ''.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKL' '25012345'.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 6 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006841'.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@ides.com'.

* customer 33000
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'    '0000033000'.
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' 'IC_OBJECT_CLASS' 'DEBI'.
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' 'ID_DATE'         '19990101'.
  add_method lt_scenario 8 'IS_OBJECT_MODIFIED' 'RB_RESULT'       'X'.

  add_method     lt_scenario 9 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 9 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000033000'.
  add_method_ref lt_scenario 9 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks_02.

  add_method lt_scenario 10 'GET_IBAN' '' ''.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKL' '55555'.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKN' '12345678901'.
  add_method lt_scenario 10 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 10 'GET_IBAN' 'EC_IBAN'  'DE005555512345678901'.

  add_method lt_scenario 11 'GET_SWIFT' '' ''.
  add_method lt_scenario 11 'GET_SWIFT' 'IC_BANKL' '55555'.
  add_method lt_scenario 11 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 11 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006843'.
  add_method lt_scenario 12 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test2@ides.com'.

* common part
  add_method lt_scenario 13 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 13 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 14 'CALL_HTTP' '' ''.
  add_method lt_scenario 14 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <Address2/>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  <Type/> </Type>#    <Active>true</Active>#  </Party>'

    '<Party>#    <Metadata>#      <Number>33000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA 3</Name1>#'
    ' <Address1>33, rue des Erables</Address1>#      <Address2/>#      <PoBox>1033</PoBox>#      <PostalCode>33333</PostalCode>#      <City>Paris 3</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>03 49 74 45 45-</Telephone>#      <EmailAddress>test2@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612693</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#    <IBAN>DE005555512345678901</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1'
    '/>#     <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># <Type/>  </Type>#    <Active>false</Active>#  </Party>'
    '</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>'
    '<Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#       <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#        '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <Currency>EUR</Currency># '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  </Type>#    <Active>true</Active>#  </Party>'

    '<Party>#    <Metadata>#      <Number>33000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA 3</Name1>#'
    ' <Address1>33, rue des Erables</Address1>#      <PoBox>1033</PoBox>#      <PostalCode>33333</PostalCode>#      <City>Paris 3</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>03 49 74 45 45-</Telephone>#      <EmailAddress>test2@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612693</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#    <IBAN>DE005555512345678901</IBAN>#         <Currency>EUR</Currency>#'
    ' </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># </Type># <Active>false</Active> </Party></PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 14 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_CUSTOMER_TO_ROUTTYAP_20.

**************************************************************************************************
* Scenario: Customer is transferred from SAP to Routty
* Version: 01, one company code, one customer, error returned

**************************************************************************************************

  DATA: lr_banks          TYPE REF TO data,
        lr_customers      TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_customers( IMPORTING er_sel_opt   = lr_sel_opt
                                  er_customers = lr_customers ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).

  create_get_customer_banks_01( IMPORTING er_banks = lr_banks ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CUSTOMERS' '' ''.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'ET_CUSTOMERS' lr_customers.

  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000022000'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'ID_DATE'       '19990101'.
  add_method lt_scenario 3 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 4 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 4 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000022000'.
  add_method_ref lt_scenario 4 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks.

  add_method lt_scenario 5 'GET_IBAN' '' ''.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKL' '25012345'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKN' '21346541'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 5 'GET_IBAN' 'EC_IBAN'  ''.

  add_method lt_scenario 6 'GET_SWIFT' '' ''.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKL' '25012345'.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 6 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006841'.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@ides.com'.

  add_method lt_scenario 8 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 8 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 8 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 8 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 9 'CALL_HTTP' '' ''.
  add_method lt_scenario 9 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#     <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <Address2/>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  <Type/>   </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#     <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <Currency>EUR</Currency>#         '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name>#  </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 9 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 9 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 9 'CALL_HTTP' 'EI_RETURN_CODE' '400'.
  add_method lt_scenario 9 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 9 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Very bad","Success":false}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_customer_to_routtyap_nd.

**************************************************************************************************
* Scenario: Customer is transferred from SAP to Routty
* Version: 01

**************************************************************************************************

  DATA: lr_banks     TYPE REF TO data,
        lr_customers TYPE REF TO data,
        lr_sel_opt   TYPE REF TO data,

        lt_scenario  LIKE mst_scenario-scenario,
        lst_val      LIKE LINE OF lt_scenario,
        ls_value     LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_customers( IMPORTING er_sel_opt   = lr_sel_opt
                                  er_customers = lr_customers ).

  create_get_customer_banks_01( IMPORTING er_banks = lr_banks ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_CUSTOMERS' '' ''.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_CUSTOMERS' 'ET_CUSTOMERS' lr_customers.

  add_method     lt_scenario 3 'GET_CUSTOMER_BANKS' '' ''.
  add_method     lt_scenario 3 'GET_CUSTOMER_BANKS' 'IC_CUSTOMER' '0000022000'.
  add_method_ref lt_scenario 3 'GET_CUSTOMER_BANKS' 'ET_BANKS'    lr_banks.

  add_method lt_scenario 4 'GET_IBAN' '' ''.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKL' '25012345'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKN' '21346541'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 4 'GET_IBAN' 'EC_IBAN'  ''.

  add_method lt_scenario 5 'GET_SWIFT' '' ''.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKL' '25012345'.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 5 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000006841'.
  add_method lt_scenario 6 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@ides.com'.

  add_method lt_scenario 7 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 7 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 7 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 7 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 8 'CALL_HTTP' '' ''.
  add_method lt_scenario 8 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#      <Address2/>#      <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <Location/>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#      <PaymentMethod/>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#      '
    '<Dimension5/>#      <Dimension6/>#      '
    '<Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber>#          <IBAN/>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#          <Dimensi'
    'on2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>22000</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <Name1>IDES France SA</Name1>#'
    ' <Address1>31, rue des Erables</Address1>#     <PoBox>1030</PoBox>#      <PostalCode>75015</PostalCode>#      <City>Paris</City>#      <State>75</State>#      <CountryCode>FR</CountryCode>#      <'
    'Telephone>01 49 74 45 45-</Telephone>#      <EmailAddress>test@ides.com</EmailAddress>#      <PaymentTerms>ZB01</PaymentTerms>#       '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#          <Number>FR93341612695</Number># <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>#      </PartyRegistrationNumbers>#      <Pa'
    'rtyBankAccounts>#        <PartyBankAccount>#    <BankNumber>25012345</BankNumber>#          <AccountNumber>21346541</AccountNumber># <Currency>EUR</Currency># '
    '</PartyBankAccount>#      </PartyBankAccounts>#    </Metadata>#    <Type>#      <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 8 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_GL_ACC_TO_ROUTTYAP_01.

**************************************************************************************************
* Scenario: GL Account is transferred from SAP to Routty
* Version: 01, one company codes, one GL account

**************************************************************************************************

  DATA: lr_sel_opt        TYPE REF TO data,
        lr_gl_accounts    TYPE REF TO data,
        lr_sel_langu      TYPE REF TO data,
        lr_details        TYPE REF TO data,
        lr_sel_comp_codes type ref to data,

        lt_scenario    LIKE mst_scenario-scenario,
        lst_val        LIKE LINE OF lt_scenario,
        ls_value       LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_gl_accounts( IMPORTING er_sel_opt     = lr_sel_opt
                                    er_gl_accounts = lr_gl_accounts ).
  create_get_gl_acc_details_01( IMPORTING er_details = lr_details ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_langu( IMPORTING er_sel_langu = lr_sel_langu ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_GL_ACCOUNTS' '' ''.
  add_method_ref lt_scenario 2 'GET_GL_ACCOUNTS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_GL_ACCOUNTS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_GL_ACCOUNTS' 'ET_GL_ACCOUNTS'     lr_gl_accounts.

  add_method     lt_scenario 3 'GET_GL_ACCOUNT_DETAILS' '' ''.
  add_method     lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'IC_CHART_OF_ACCOUNTS' 'INT'.
  add_method     lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'IC_GL_ACCOUNT'        '0000400000'.
  add_method_ref lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'IT_SEL_LANGU'         lr_sel_langu.
  add_method_ref lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'EST_DETAILS'          lr_details.

  add_method lt_scenario 4 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 4 'CREATE_REL_URL' 'PATH' '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 4 'CREATE_REL_URL' 'URL' '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 5 'CALL_HTTP' '' ''.
  add_method lt_scenario 5 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="GlAccount"><Value>400000</Value><Description>Consumption,raw material 1</Description><CorporateGroupID>1043</CorporateGroupID></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 5 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 5 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 5 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 5 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 5 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_gl_acc_to_routtyap_02.

**************************************************************************************************
* Scenario: GL Account is transferred from SAP to Routty
* Version: 01, one company codes, one GL account

**************************************************************************************************

  DATA: lr_sel_opt        TYPE REF TO data,
        lr_gl_accounts    TYPE REF TO data,
        lr_details_01     TYPE REF TO data,
        lr_details_02     TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,
        lr_sel_langu      TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_gl_accounts( EXPORTING ii_num_of_comp_codes  = 2
                          IMPORTING er_sel_opt            = lr_sel_opt
                                    er_gl_accounts        = lr_gl_accounts ).
  create_get_gl_acc_details_01( IMPORTING er_details = lr_details_01 ).
  create_get_gl_acc_details_02( IMPORTING er_details = lr_details_02 ).
  create_company_codes_02( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_langu( IMPORTING er_sel_langu = lr_sel_langu ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_GL_ACCOUNTS' '' ''.
  add_method_ref lt_scenario 2 'GET_GL_ACCOUNTS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_GL_ACCOUNTS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_GL_ACCOUNTS' 'ET_GL_ACCOUNTS'     lr_gl_accounts.

  add_method     lt_scenario 3 'GET_GL_ACCOUNT_DETAILS' '' ''.
  add_method     lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'IC_CHART_OF_ACCOUNTS' 'INT'.
  add_method     lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'IC_GL_ACCOUNT'        '0000400000'.
  add_method_ref lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'IT_SEL_LANGU'         lr_sel_langu.
  add_method_ref lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'EST_DETAILS'          lr_details_01.

  add_method     lt_scenario 4 'GET_GL_ACCOUNT_DETAILS' '' ''.
  add_method     lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'IC_CHART_OF_ACCOUNTS' 'INT'.
  add_method     lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'IC_GL_ACCOUNT'        '0000400000'.
  add_method_ref lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'IT_SEL_LANGU'         lr_sel_langu.
  add_method_ref lt_scenario 0 'GET_GL_ACCOUNT_DETAILS' 'EST_DETAILS'          lr_details_02.

  add_method lt_scenario 5 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 5 'CREATE_REL_URL' 'PATH' '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 5 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 5 'CREATE_REL_URL' 'URL' '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 6 'CALL_HTTP' '' ''.
  add_method lt_scenario 6 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="GlAccount"><Value>400000</Value><Description>Consumption,raw material 1</Description><CorporateGroupID>1043</CorporateGroupID></AccountingMasterData>'
  '<AccountingMasterData type="GlAccount"><Value>400000</Value><Description>Consumption,raw material 2</Description><CorporateGroupID>1049</CorporateGroupID></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 6 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 6 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 6 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 6 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 6 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_iv_with_diff_xslt_01.

**************************************************************************************************
* Scenario: MM Invoice is transferred from Routty to PD
*           PD, standard XSLT used
* Version: 01

**************************************************************************************************

  DATA: lt_scenario    LIKE mst_scenario-scenario,
        lst_val        LIKE LINE OF lt_scenario,
        ls_value       LIKE lst_val-value.

**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'TRANSFORM_IV_TO_PD_DOCUMENT' '' ''.
  add_method lt_scenario 1 'TRANSFORM_IV_TO_PD_DOCUMENT' 'IC_XSLT' 'ZDYN_ROUTTY_IV_TO_PD'.
  add_method lt_scenario 1 'TRANSFORM_IV_TO_PD_DOCUMENT' 'EB_OK' abap_true.

* Only attachment XSLT is called if it is the standard one, it is used to take the data as well

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_IV_WITH_DIFF_XSLT_02.

**************************************************************************************************
* Scenario: MM Invoice is transferred from Routty to PD
*           PD, main XSLT replaced
* Version: 01

**************************************************************************************************

  DATA: lt_scenario    LIKE mst_scenario-scenario,
        lst_val        LIKE LINE OF lt_scenario,
        ls_value       LIKE lst_val-value.

**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

* Attachment XSLT and data XSLT are called
  add_method lt_scenario 1 'TRANSFORM_IV_TO_PD_DOCUMENT' '' ''.
  add_method lt_scenario 1 'TRANSFORM_IV_TO_PD_DOCUMENT' 'IC_XSLT' 'TEST_XSLT_01'.
  add_method lt_scenario 1 'TRANSFORM_IV_TO_PD_DOCUMENT' 'EB_OK' abap_true.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_IV_WITH_DIFF_XSLT_03.

**************************************************************************************************
* Scenario: MM Invoice is transferred from Routty to PD
*           PD, main and attachment XSLT replaced
* Version: 01

**************************************************************************************************

  DATA: lt_scenario    LIKE mst_scenario-scenario,
        lst_val        LIKE LINE OF lt_scenario,
        ls_value       LIKE lst_val-value.

**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'TRANSFORM_IV_TO_PD_DOCUMENT' '' ''.
  add_method lt_scenario 1 'TRANSFORM_IV_TO_PD_DOCUMENT' 'IC_XSLT' 'TEST_XSLT_02'.
  add_method lt_scenario 1 'TRANSFORM_IV_TO_PD_DOCUMENT' 'EB_OK' abap_true.

  add_method lt_scenario 2 'TRANSFORM_IV_TO_PD_DOCUMENT' '' ''.
  add_method lt_scenario 2 'TRANSFORM_IV_TO_PD_DOCUMENT' 'IC_XSLT' 'TEST_XSLT_01'.
  add_method lt_scenario 2 'TRANSFORM_IV_TO_PD_DOCUMENT' 'EB_OK' abap_true.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_ORDERS_TO_ROUTTYAP_01.

**************************************************************************************************
* Scenario: Order is transferred from SAP to Routty
* Version: 01, one company code, one order

**************************************************************************************************

  DATA: lr_sel_opt        TYPE REF TO data,
        lr_orders         TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_orders( IMPORTING er_sel_opt = lr_sel_opt
                               er_orders  = lr_orders ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_ORDERS' '' ''.
  add_method_ref lt_scenario 1 'GET_ORDERS' 'IT_SEL_COMP_CODES' lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_ORDERS' 'IT_SEL_OPT'        lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_ORDERS' 'ET_ORDERS'         lr_orders.

  add_method lt_scenario 2 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 2 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 2 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="Dimension1"><Value>000000101111</Value><Description>Sample Order For Development Orders</Description><CorporateGroupID>1043</CorporateGroupID></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_ORDERS_TO_ROUTTYAP_02.

**************************************************************************************************
* Scenario: Order is transferred from SAP to Routty
* Version: 01, two company codes, two orders

**************************************************************************************************

  DATA: lr_sel_opt        TYPE REF TO data,
        lr_orders         TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_orders( EXPORTING ii_num_of_comp_codes = 2
                     IMPORTING er_sel_opt           = lr_sel_opt
                               er_orders            = lr_orders ).
  create_company_codes_02( IMPORTING er_sel_opt = lr_sel_comp_codes ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_ORDERS' '' ''.
  add_method_ref lt_scenario 1 'GET_ORDERS' 'IT_SEL_COMP_CODES' lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_ORDERS' 'IT_SEL_OPT'        lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_ORDERS' 'ET_ORDERS'         lr_orders.

  add_method lt_scenario 2 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 2 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 2 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="Dimension1"><Value>000000101111</Value><Description>Sample Order For Development Orders</Description><CorporateGroupID>1043</CorporateGroupID></AccountingMasterData>'
  '<AccountingMasterData type="Dimension1"><Value>000000101112</Value><Description>Sample Order For Development Orders 2</Description><CorporateGroupID>1049</CorporateGroupID></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_pay_term_to_routtyap_01.

**************************************************************************************************
* Scenario: Payment Term is transferred from SAP to Routty
* Version: 01

**************************************************************************************************

  DATA: lr_sel_opt   TYPE REF TO data,
        lr_sel_langu TYPE REF TO data,
        lr_terms     TYPE REF TO data,
        lr_texts     TYPE REF TO data,

        lt_scenario  LIKE mst_scenario-scenario,
        lst_val      LIKE LINE OF lt_scenario,
        ls_value     LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_payment_terms( IMPORTING er_sel_opt = lr_sel_opt
                                      er_terms   = lr_terms ).
  create_fi_print_zterm( IMPORTING er_texts = lr_texts ).
  create_langu( IMPORTING er_sel_langu = lr_sel_langu ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_PAYMENT_TERMS' '' ''.
  add_method_ref lt_scenario 2 'GET_PAYMENT_TERMS' 'IT_SEL_OPT' lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_PAYMENT_TERMS' 'ET_TERMS'   lr_terms.

  add_method     lt_scenario 3 'FI_PRINT_ZTERM' '' ''.
  add_method     lt_scenario 0 'FI_PRINT_ZTERM' 'IC_ZTERM'      '0001'.
  add_method_ref lt_scenario 0 'FI_PRINT_ZTERM' 'IT_SEL_LANGU'  lr_sel_langu.
  add_method_ref lt_scenario 0 'FI_PRINT_ZTERM' 'ET_TEXTS'      lr_texts.

  add_method lt_scenario 4 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 4 'CREATE_REL_URL' 'PATH' '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 4 'CREATE_REL_URL' 'URL' '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 5 'CALL_HTTP' '' ''.
  add_method lt_scenario 5 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList><AccountingMasterData type="PaymentTerms"><Value>0001</Value><Description>Test payment term</Description><CorporateGroupID>104'
  '3</CorporateGroupID></AccountingMasterData></AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 5 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 5 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 5 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 5 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 5 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_PAY_TERM_TO_ROUTTYAP_02.

**************************************************************************************************
* Scenario: Payment Term is transferred from SAP to Routty
* Version: 01

**************************************************************************************************

  DATA: lr_sel_opt   TYPE REF TO data,
        lr_sel_langu TYPE REF TO data,
        lr_terms     TYPE REF TO data,
        lr_texts     TYPE REF TO data,

        lt_scenario LIKE mst_scenario-scenario,
        lst_val     LIKE LINE OF lt_scenario,
        ls_value    LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_payment_terms( IMPORTING er_sel_opt = lr_sel_opt
                                      er_terms   = lr_terms ).
  create_fi_print_zterm( IMPORTING er_texts = lr_texts ).
  create_langu( IMPORTING er_sel_langu = lr_sel_langu ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_PAYMENT_TERMS' '' ''.
  add_method_ref lt_scenario 2 'GET_PAYMENT_TERMS' 'IT_SEL_OPT' lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_PAYMENT_TERMS' 'ET_TERMS'   lr_terms.

  add_method     lt_scenario 3 'FI_PRINT_ZTERM' '' ''.
  add_method     lt_scenario 0 'FI_PRINT_ZTERM' 'IC_ZTERM'      '0001'.
  add_method_ref lt_scenario 0 'FI_PRINT_ZTERM' 'IT_SEL_LANGU'  lr_sel_langu.
  add_method_ref lt_scenario 0 'FI_PRINT_ZTERM' 'ET_TEXTS'      lr_texts.

  add_method lt_scenario 4 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 4 'CREATE_REL_URL' 'PATH' '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 4 'CREATE_REL_URL' 'URL' '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 5 'CALL_HTTP' '' ''.
  add_method lt_scenario 5 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="PaymentTerms"><Value>0001</Value><Description>Test payment term</Description><CorporateGroupID>1043</CorporateGroupID></AccountingMasterData>'
  '<AccountingMasterData type="PaymentTerms"><Value>0001</Value><Description>Test payment term</Description><CorporateGroupID>1049</CorporateGroupID></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 5 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 5 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 5 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 5 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 5 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_PO_TO_ROUTTYAP_01.

**************************************************************************************************
* Scenario: Purchase Order with Goods Receipt is transferred from SAP to Routty
* Version: 01

**************************************************************************************************

  DATA: lr_po_header              TYPE REF TO data,
        lr_po_items               TYPE REF TO data,
        lr_po_item_history        TYPE REF TO data,
        lr_po_item_history_totals TYPE REF TO data,

        lt_scenario               LIKE mst_scenario-scenario,
        lst_val                   LIKE LINE OF lt_scenario,
        ls_value                  LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_bapi_po_getdetail_data( IMPORTING er_po_header              = lr_po_header
                                           er_po_items               = lr_po_items
                                           er_po_item_history        = lr_po_item_history
                                           er_po_item_history_totals = lr_po_item_history_totals ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' '' ''.
  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' 'IC_PO_NUMBER'           '4500022685'.
  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' 'IB_ITEMS'               'X'.
  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' 'IB_HISTORY'             'X'.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ES_HEADER'              lr_po_header.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ET_ITEMS'               lr_po_items.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ET_ITEM_HISTORY'        lr_po_item_history.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ET_ITEM_HISTORY_TOTALS' lr_po_item_history_totals.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/masterdata/goodsreceiptmasterdata'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/masterdata/goodsreceiptmasterdata'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<GoodsReceiptMasterDataList>#  <GoodsReceiptMasterData>#    <GoodsReceiptHeader>#      <DocumentReference>5000001706</DocumentReference>#      <ExtraReference/>#      <DocumentDate>2022-02-25</DocumentDate>#'
  '<DocumentType>101</DocumentType>#      <DocumentSubType/>#      <OrderReference>4500022685</OrderReference>#      <HeaderText1/>#      <HeaderText2/>#      <DocumentStatus>Open</DocumentStatus>#  <SupplierName>OMV AG</SupplierName>#      <Supplie'
  'rNumber>43001</SupplierNumber>#      <BuyerName/>#      <BuyerNumber>1043</BuyerNumber>#    </GoodsReceiptHeader>#    <GoodsReceiptLines>#      <GoodsReceiptLine>#        <LineId>0001</LineId>#   <OrderReference>4500022685</OrderReference>#     <'
  'OrderLineId>10</OrderLineId>#        <ExtraReference>5000001706</ExtraReference>#        <ArticleNumberSupplier/>#        <ArticleNumberBuyer>100-100</ArticleNumberBuyer>#        <ArticleDescription>Casings</ArticleDescription>#        <StandardA'
  'rticleNumber/>#        <Quantity>100.000</Quantity>#        <UnitCode>ST</UnitCode>#        <Status/>#      </GoodsReceiptLine>#    </GoodsReceiptLines>#  </GoodsReceiptMasterData>#</GoodsReceiptMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/masterdata/goodsreceiptmasterdata'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed GoodsReceiptMasterdata","Success":true}'.

  add_method lt_scenario 5 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 5 'CREATE_REL_URL' 'PATH'     '/api/masterdata/purchaseordermasterdata'.
  add_method lt_scenario 5 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 5 'CREATE_REL_URL' 'URL'      '/api/masterdata/purchaseordermasterdata'.

  add_method lt_scenario 6 'CALL_HTTP' '' ''.
  add_method lt_scenario 6 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<PurchaseOrderMasterDataList>#  <PurchaseOrderMasterData># <PurchaseOrderHeader>#      <DocumentReference>4500022685</DocumentReference>#      <ExtraReference/>#      <DocumentDate>2022-02-25</DocumentDate'
  '>#     <DocumentType>NB</DocumentType>#      <DocumentSubType/>#      <Currency>EUR</Currency>#      <TotalNetAmount>8000.00</TotalNetAmount>#      <TotalVatAmount>0</TotalVatAmount>#      <TotalGrossAmount>8000.00</TotalGrossAmount>#      <TotalDis'
  'countAmount>0</TotalDiscountAmount>#      <OrderReference/>#      <HeaderText1/>#      <HeaderText2/>#     <StartDate/>#      <EndDate/>#      <DocumentStatus>Open</DocumentStatus>#      <RequesterId/>#      <SupplierName>OMV AG</SupplierName'
  '>#      <SupplierNumber>43001</SupplierNumber>#      <SupplierRegistrationNumber/>#      <BuyerName/>#      <BuyerNumber>1043</BuyerNumber>#    </PurchaseOrderHeader>#    <PurchaseOrderLines>#      <PurchaseOrderLine>#        <LineId>10</LineId'
  '>#        <ExtraReference>4500022685</ExtraReference>#        <ArticleNumberSupplier/>#        <ArticleNumberBuyer>100-100</ArticleNumberBuyer>#        <ArticleDescription>Casings</ArticleDescription>#        <StandardArticleNumber/>#        <Quanti'
  'ty>100.000</Quantity>#        <UnitCode>ST</UnitCode>#        <Price>80.00</Price>#        <DiscountAmount>0</DiscountAmount>#        <DiscountRate/>#        <LineAmount>8000.00</LineAmount>#        <Status/>#<GlAccount/>#        <CostCenter/'
  '>#        <VatCode/>#        <Dimension1/>#        <Dimension2/>#      <Dimension3/>#        <Dimension4/>#<Dimension5/>#        <Dimension6/>#        <Dimension7/>#        <Dimension8/>#        <InvoicedQuantity>0</InvoicedQuantity>#        <Invoic'
  'edAmount>0</InvoicedAmount>#      </PurchaseOrderLine># </PurchaseOrderLines>#  </PurchaseOrderMasterData>#</PurchaseOrderMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 6 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 6 'CALL_HTTP' 'IS_URL'         '/api/masterdata/purchaseordermasterdata'.
  add_method lt_scenario 6 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 6 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 6 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed PurchaseOrderMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_PO_TO_ROUTTYAP_02.

**************************************************************************************************
* Scenario: Purchase Order without Goods Receipt is transferred from SAP to Routty
* Version: 02

**************************************************************************************************

  DATA: lr_po_header              TYPE REF TO data,
        lr_po_items               TYPE REF TO data,
        lr_po_item_history        TYPE REF TO data,
        lr_po_item_history_totals TYPE REF TO data,

        lt_scenario               LIKE mst_scenario-scenario,
        lst_val                   LIKE LINE OF lt_scenario,
        ls_value                  LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_bapi_po_getdetail_data( IMPORTING er_po_header              = lr_po_header
                                           er_po_items               = lr_po_items
                                           er_po_item_history        = lr_po_item_history
                                           er_po_item_history_totals = lr_po_item_history_totals ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' '' ''.
  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' 'IC_PO_NUMBER'           '4500022685'.
  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' 'IB_ITEMS'               'X'.
  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' 'IB_HISTORY'             'X'.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ES_HEADER'              lr_po_header.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ET_ITEMS'               lr_po_items.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ET_ITEM_HISTORY'        lr_po_item_history.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ET_ITEM_HISTORY_TOTALS' lr_po_item_history_totals.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/masterdata/purchaseordermasterdata'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/masterdata/purchaseordermasterdata'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<PurchaseOrderMasterDataList>#  <PurchaseOrderMasterData># <PurchaseOrderHeader>#      <DocumentReference>4500022685</DocumentReference>#      <ExtraReference/>#      <DocumentDate>2022-02-25</DocumentDate'
  '>#     <DocumentType>NB</DocumentType>#      <DocumentSubType/>#      <Currency>EUR</Currency>#      <TotalNetAmount>8000.00</TotalNetAmount>#      <TotalVatAmount>0</TotalVatAmount>#      <TotalGrossAmount>8000.00</TotalGrossAmount>#      <TotalDis'
  'countAmount>0</TotalDiscountAmount>#      <OrderReference/>#      <HeaderText1/>#      <HeaderText2/>#     <StartDate/>#      <EndDate/>#      <DocumentStatus>Open</DocumentStatus>#      <RequesterId/>#      <SupplierName>OMV AG</SupplierName'
  '>#      <SupplierNumber>43001</SupplierNumber>#      <SupplierRegistrationNumber/>#      <BuyerName/>#      <BuyerNumber>1043</BuyerNumber>#    </PurchaseOrderHeader>#    <PurchaseOrderLines>#      <PurchaseOrderLine>#        <LineId>10</LineId'
  '>#        <ExtraReference>4500022685</ExtraReference>#        <ArticleNumberSupplier/>#        <ArticleNumberBuyer>100-100</ArticleNumberBuyer>#        <ArticleDescription>Casings</ArticleDescription>#        <StandardArticleNumber/>#        <Quanti'
  'ty>100.000</Quantity>#        <UnitCode>ST</UnitCode>#        <Price>80.00</Price>#        <DiscountAmount>0</DiscountAmount>#        <DiscountRate/>#        <LineAmount>8000.00</LineAmount>#        <Status/>#<GlAccount/>#        <CostCenter/'
  '>#        <VatCode/>#        <Dimension1/>#        <Dimension2/>#      <Dimension3/>#        <Dimension4/>#<Dimension5/>#        <Dimension6/>#        <Dimension7/>#        <Dimension8/>#        <InvoicedQuantity>0</InvoicedQuantity>#        <Invoic'
  'edAmount>0</InvoicedAmount>#      </PurchaseOrderLine># </PurchaseOrderLines>#  </PurchaseOrderMasterData>#</PurchaseOrderMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/masterdata/purchaseordermasterdata'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed PurchaseOrderMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_PO_TO_ROUTTYAP_03.

**************************************************************************************************
* Scenario: Purchase Order without Goods Receipt is transferred from SAP to Routty
*           Append is false, i.e. all other POs in Routty will be removed
* Version: 03

**************************************************************************************************

  DATA: lr_po_header              TYPE REF TO data,
        lr_po_items               TYPE REF TO data,
        lr_po_item_history        TYPE REF TO data,
        lr_po_item_history_totals TYPE REF TO data,

        lt_scenario               LIKE mst_scenario-scenario,
        lst_val                   LIKE LINE OF lt_scenario,
        ls_value                  LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_bapi_po_getdetail_data( IMPORTING er_po_header              = lr_po_header
                                           er_po_items               = lr_po_items
                                           er_po_item_history        = lr_po_item_history
                                           er_po_item_history_totals = lr_po_item_history_totals ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' '' ''.
  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' 'IC_PO_NUMBER'           '4500022685'.
  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' 'IB_ITEMS'               'X'.
  add_method     lt_scenario 2 'BAPI_PO_GETDETAIL' 'IB_HISTORY'             'X'.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ES_HEADER'              lr_po_header.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ET_ITEMS'               lr_po_items.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ET_ITEM_HISTORY'        lr_po_item_history.
  add_method_ref lt_scenario 2 'BAPI_PO_GETDETAIL' 'ET_ITEM_HISTORY_TOTALS' lr_po_item_history_totals.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/masterdata/purchaseordermasterdata'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/masterdata/purchaseordermasterdata'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<PurchaseOrderMasterDataList>#  <PurchaseOrderMasterData># <PurchaseOrderHeader>#      <DocumentReference>4500022685</DocumentReference>#      <ExtraReference/>#      <DocumentDate>2022-02-25</DocumentDate'
  '>#     <DocumentType>NB</DocumentType>#      <DocumentSubType/>#      <Currency>EUR</Currency>#      <TotalNetAmount>8000.00</TotalNetAmount>#      <TotalVatAmount>0</TotalVatAmount>#      <TotalGrossAmount>8000.00</TotalGrossAmount>#      <TotalDis'
  'countAmount>0</TotalDiscountAmount>#      <OrderReference/>#      <HeaderText1/>#      <HeaderText2/>#     <StartDate/>#      <EndDate/>#      <DocumentStatus>Open</DocumentStatus>#      <RequesterId/>#      <SupplierName>OMV AG</SupplierName'
  '>#      <SupplierNumber>43001</SupplierNumber>#      <SupplierRegistrationNumber/>#      <BuyerName/>#      <BuyerNumber>1043</BuyerNumber>#    </PurchaseOrderHeader>#    <PurchaseOrderLines>#      <PurchaseOrderLine>#        <LineId>10</LineId'
  '>#        <ExtraReference>4500022685</ExtraReference>#        <ArticleNumberSupplier/>#        <ArticleNumberBuyer>100-100</ArticleNumberBuyer>#        <ArticleDescription>Casings</ArticleDescription>#        <StandardArticleNumber/>#        <Quanti'
  'ty>100.000</Quantity>#        <UnitCode>ST</UnitCode>#        <Price>80.00</Price>#        <DiscountAmount>0</DiscountAmount>#        <DiscountRate/>#        <LineAmount>8000.00</LineAmount>#        <Status/>#<GlAccount/>#        <CostCenter/'
  '>#        <VatCode/>#        <Dimension1/>#        <Dimension2/>#      <Dimension3/>#        <Dimension4/>#<Dimension5/>#        <Dimension6/>#        <Dimension7/>#        <Dimension8/>#        <InvoicedQuantity>0</InvoicedQuantity>#        <Invoic'
  'edAmount>0</InvoicedAmount>#      </PurchaseOrderLine># </PurchaseOrderLines>#  </PurchaseOrderMasterData>#</PurchaseOrderMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/masterdata/purchaseordermasterdata'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed PurchaseOrderMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_ROUTTYAP_IV_TO_PD_01.

**************************************************************************************************
* Scenario: MM Invoice is transferred from Routty to PD
* Version: 01

**************************************************************************************************
  DATA: lr_rfc_extdata   TYPE REF TO data,
        lr_rfc_archiving TYPE REF TO data,
        lr_rfc_content   TYPE REF TO data,
        lr_rfc_bo_hdr    TYPE REF TO data,
        lr_rfc_status    TYPE REF TO data,
        lr_rfc_messages  TYPE REF TO data,

        lt_scenario      LIKE mst_scenario-scenario,
        lst_val          LIKE LINE OF lt_scenario,
        ls_value         LIKE lst_val-value,
        ls_date          TYPE string.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD

  create_rfc_data_submit_data_mm( IMPORTING er_rfc_extdata   = lr_rfc_extdata
                                            er_rfc_archiving = lr_rfc_archiving
                                            er_rfc_content   = lr_rfc_content
                                            er_rfc_bo_hdr    = lr_rfc_bo_hdr
                                            er_rfc_status    = lr_rfc_status
                                            er_rfc_messages  = lr_rfc_messages ).


**************************************************************************************************
**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 1 'CREATE_REL_URL' 'PATH'     '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'URL'      '/api/accounting/IdsReadyForExport'.

  add_method lt_scenario 2 'CALL_HTTP' '' ''.
  add_method lt_scenario 2 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 2 'CALL_HTTP' 'IS_URL'         '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 2 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_RESULT'      '{"Success":true,"Message":"Document Raw Ids","Data":[166]}'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/accounting/document/166'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/accounting/document/166'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/accounting/document/166'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.

  CONCATENATE
  '{"Success":true,"Message":"Accounting document","Data":"<PurchaseInvoice>\r\n  <PurchaseInvoiceData>\r\n    <DocumentSet>\r\n      <Id>66</Id>\r\n      <DocumentId>IV_4500022682_1</DocumentId>\r\n      <Guid>41babc06-9205-4ea7-ae84-3faf8860c70e</Guid'
  '>\r\n      <DocumentTypeId p4:nil=\"true\" xmlns:p4=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n    </DocumentSet>\r\n    <PurchaseInvoiceHeader>\r\n      <Supplier>\r\n        <Metadata>\r\n          <Number>43001</Number>\r\n          <Site'
  'Code />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>OMV AG</Name1>\r\n          <Name2 />\r\n          <Address1>Rennbahnstrasse 61</Address1>\r\n          <Address2 />\r\n'
  '          <PoBox />\r\n          <PostalCode>1020</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynat'
  'os.be</EmailAddress>\r\n          <PaymentTerms>0001</PaymentTerms>\r\n          <PaymentMethod>AKLOSU</PaymentMethod>\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimen'
  'sion5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\n              <Number>ATU99999993</Number>\r\n              <Scheme>VAT</'
  'Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n              <AccountNumber>98765454321<'
  '/AccountNumber>\r\n              <IBAN>AT421910098765454321</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Di'
  'mension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>   </Currency>\r\n      '
  '        <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n           '
  '   <AccountNumber>88877766655</AccountNumber>\r\n              <IBAN>AT981910088877766655</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dime'
  'nsion3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Partner</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </S'
  'upplier>\r\n      <Buyer>\r\n        <Metadata>\r\n          <Number>1043</Number>\r\n          <SiteCode />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>Dynatos Ãsterreich'
  ' GmbH</Name1>\r\n          <Name2 />\r\n          <Address1>Heugasse 1</Address1>\r\n          <Address2 />\r\n          <PoBox />\r\n          <PostalCode>1121</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location'
  ' />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynatos.be</EmailAddress>\r\n          <PaymentTerms />\r\n          <PaymentMethod />\r\n          <Dimension1 />\r\n          <Dimension2 />\r'
  '\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\'
  'n              <Number>ABC123</Number>\r\n              <Scheme>VAT</Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankN'
  'umber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              '
  '<Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Company</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </Buyer>\r\n      <DocumentRec'
  'eiver>\r\n        <Id>0</Id>\r\n        <Number>43001</Number>\r\n        <VatNumber>ATU99999993</VatNumber>\r\n        <Name>OMV AG</Name>\r\n        <Street>Rennbahnstrasse 61</Street>\r\n        <PostalCode>1020</PostalCode>\r\n        <City>Wien<'
  '/City>\r\n        <Country>AT</Country>\r\n        <ExternalUniqueId>1043</ExternalUniqueId>\r\n      </DocumentReceiver>\r\n      <DocumentSupplier>\r\n        <Id>0</Id>\r\n        <Number>1043</Number>\r\n        <Name>Dynatos Ãsterreich GmbH</Na'
  'me>\r\n        <RegistrationNumber1>ABC123</RegistrationNumber1>\r\n        <Street>Heugasse 1</Street>\r\n        <PostalCode>1121</PostalCode>\r\n        <City>Wien</City>\r\n        <Country>AT</Country>\r\n        <CorporateGroupID>1043</Corporat'
  'eGroupID>\r\n      </DocumentSupplier>\r\n      <Id>56</Id>\r\n      <DocumentReference>IV_4500022682_1</DocumentReference>\r\n      <OrderReference>4500022682</OrderReference>\r\n      <ReceiptReference />\r\n      <DocumentDate>2022-02-21T00:00:00<'
  '/DocumentDate>\r\n      <PaymentReference />\r\n      <PaymentTerms />\r\n      <DocumentType>Invoice</DocumentType>\r\n      <DocumentSubType>PO</DocumentSubType>\r\n      <Currency>EUR</Currency>\r\n      <CurrencyRate p4:nil=\"true\" xmlns:p4=\"ht'
  'tp://www.w3.org/2001/XMLSchema-instance\" />\r\n      <TotalNetAmount>8000.00</TotalNetAmount>\r\n      <TotalVatAmount>1520.00</TotalVatAmount>\r\n      <TotalGrossAmount>9520.00</TotalGrossAmount>\r\n      <TotalDiscountAmount>0.00</TotalDiscountAm'
  'ount>\r\n      <DocumentReceiversNumber>43001</DocumentReceiversNumber>\r\n      <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n      <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>\r\n      <Documen'
  'tReceiversIban>AT421910098765454321</DocumentReceiversIban>\r\n      <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n      <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>\r\n      <DocumentSuppliersRegistrationNumber'
  '1>ABC123</DocumentSuppliersRegistrationNumber1>\r\n      <VatRate1>NaN</VatRate1>\r\n      <VatRate2 />\r\n      <VatRate3 />\r\n      <VatRate4 />\r\n      <VatRate5 />\r\n      <HeaderText1 />\r\n      <HeaderText2 />\r\n      <ReceptionDate>2022-0'
  '2-21T00:00:00</ReceptionDate>\r\n      <BookingNumber>0</BookingNumber>\r\n      <BookingDate>2022-02-28T00:00:00</BookingDate>\r\n      <BookingYear>2022</BookingYear>\r\n      <BookingMonth>2</BookingMonth>\r\n      <DocumentSetId>66</DocumentSetId'
  '>\r\n      <DocumentRawId>166</DocumentRawId>\r\n      <Dimension1 />\r\n      <Dimension2 />\r\n      <Dimension3 />\r\n      <Dimension4 />\r\n      <Dimension5 />\r\n      <Dimension6 />\r\n      <Dimension7 />\r\n      <Dimension8 />\r\n      <Va'
  'tSystem>S</VatSystem>\r\n      <SupplierNumber>43001</SupplierNumber>\r\n      <SupplierName>OMV AG</SupplierName>\r\n      <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>\r\n      <SupplierIban>AT421910098765454321</SupplierIban'
  '>\r\n      <BuyerNumber>1043</BuyerNumber>\r\n      <BuyerName>Dynatos ?sterreich GmbH</BuyerName>\r\n      <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>\r\n    </PurchaseInvoiceHeader>\r\n    <PurchaseInvoiceLines>\r\n      <PurchaseInvo'
  'iceLine>\r\n        <LineId>1</LineId>\r\n        <ArticleNumberSupplier />\r\n        <ArticleNumberBuyer />\r\n        <ArticleDescription>Casings</ArticleDescription>\r\n        <StandardArticleNumber />\r\n        <Quantity>100.000000</Quantity>\'
  'r\n        <UnitCode>H87</UnitCode>\r\n        <Price>80.000000</Price>\r\n        <LineAmount>8000.000000</LineAmount>\r\n        <Status>Matched</Status>\r\n        <PurchaseInvoiceHeaderId>56</PurchaseInvoiceHeaderId>\r\n        <OrderReference>45'
  '00022682</OrderReference>\r\n        <OrderLineId>4500022682</OrderLineId>\r\n        <ReceiptReference />\r\n        <ReceiptLineId />\r\n        <Dimension1 />\r\n        <Dimension2 />\r\n        <Dimension3 />\r\n        <Dimension4 />\r\n       '
  ' <Dimension5 />\r\n        <Dimension6 />\r\n        <Dimension7 />\r\n        <Dimension8 />\r\n        <VatAmount>1520.000000</VatAmount>\r\n        <VatRate>19.0000</VatRate>\r\n        <PurchaseOrderLinesId>10784</PurchaseOrderLinesId>\r\n       '
  ' <EanCode />\r\n      </PurchaseInvoiceLine>\r\n    </PurchaseInvoiceLines>\r\n    <PurchaseInvoiceCodingLines>\r\n      <PurchaseInvoiceCodingLine>\r\n        <GlAccount>400000</GlAccount>\r\n        <CostCenter>1043</CostCenter>\r\n        <DebitAm'
  'ount>8000.00</DebitAmount>\r\n        <VatAmount>1520.00</VatAmount>\r\n        <VatRate>19.000000000000000000</VatRate>\r\n        <VatCode>VA</VatCode>\r\n        <VatSystem>S</VatSystem>\r\n        <Status>POLine</Status>\r\n        <HeaderId>56</'
  'HeaderId>\r\n        <PurchaseInvoiceLinesId>149</PurchaseInvoiceLinesId>\r\n      </PurchaseInvoiceCodingLine>\r\n    </PurchaseInvoiceCodingLines>\r\n    <PurchaseInvoiceIntrastatLines />\r\n    <PurchaseInvoicePaymentScheduleLines />\r\n    <Match'
  'ingExceptions />\r\n    <ArchiveLinks>\r\n      <Link>X2PaQk6QaOlqtJGsFTIt1g==</Link>\r\n      <Link>TooELfAdWi1JVO+OyCOzyg==</Link>\r\n    </ArchiveLinks>\r\n    <Attachments>\r\n      <Attachment>\r\n        <Filename>Base_41babc06-9205-4ea7-ae84-3'
  'faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Base Document</Type>\r\n      '
  '</Attachment>\r\n      <Attachment>\r\n        <Filename>41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf</Filename>\r\n        <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>application/pdf</MimeType>\r\n         <Type>'
  'Sales Invoice</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>Converted_41babc06-9205-4ea7-ae84-3faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeT'
  'ype>\r\n        <Type>Converted Document</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>AccountingDocument_41babc06-9205-4ea7-ae84-3faf8860c70e_2022-02-21_11-20-34-777.xml</Filename>\r\n        '
  '<Data>VGhpcyBpcyBBY2NvdW50aW5nRG9jdW1lbnQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Attachment</T'
  'ype>\r\n      </Attachment>\r\n    </Attachments>\r\n  </PurchaseInvoiceData>\r\n  <PurchaseOrderMasterDataList>\r\n    <PurchaseOrderMasterData>\r\n      <PurchaseOrderHeader>\r\n        <DocumentReference>4500022682</DocumentReference>\r\n        <'
  'ExtraReference />\r\n        <DocumentDate>2022-02-21T00:00:00</DocumentDate>\r\n        <DocumentType>NB</DocumentType>\r\n        <DocumentSubType />\r\n        <Currency>EUR</Currency>\r\n        <TotalNetAmount>8000.00</TotalNetAmount>\r\n       '
  ' <TotalVatAmount>0.00</TotalVatAmount>\r\n        <TotalGrossAmount>8000.00</TotalGrossAmount>\r\n        <TotalDiscountAmount>0.00</TotalDiscountAmount>\r\n        <OrderReference />\r\n        <DocumentReceiversNumber>43001</DocumentReceiversNumber'
  '>\r\n        <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n        <DocumentReceiversRegistrationNumber1 />\r\n        <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n        <DocumentSuppliersName />\r\n        <HeaderText1 />\'
  'r\n        <HeaderText2 />\r\n        <DocumentStatus>Open</DocumentStatus>\r\n        <RequesterId />\r\n        <SuppliersName>OMV AG</SuppliersName>\r\n        <SupplierName>OMV AG</SupplierName>\r\n        <SuppliersNumber>43001</SuppliersNumber>'
  '\r\n        <SupplierNumber>43001</SupplierNumber>\r\n        <SuppliersRegistrationNumber />\r\n        <SupplierRegistrationNumber />\r\n        <BuyerName />\r\n        <BuyerNumber>1043</BuyerNumber>\r\n        <ReceiversName />\r\n        <Recei'
  'verName />\r\n        <ReceiversNumber>1043</ReceiversNumber>\r\n        <ReceiverNumber>1043</ReceiverNumber>\r\n      </PurchaseOrderHeader>\r\n      <PurchaseOrderLines>\r\n        <PurchaseOrderLine>\r\n          <Id>10784</Id>\r\n          <Line'
  'Id>10</LineId>\r\n          <ExtraReference>4500022682</ExtraReference>\r\n          <ArticleNumberSupplier />\r\n          <ArticleNumberBuyer>100-100</ArticleNumberBuyer>\r\n          <ArticleDescription>Casings</ArticleDescription>\r\n          <S'
  'tandardArticleNumber />\r\n          <Quantity>100.000000</Quantity>\r\n          <UnitCode>ST</UnitCode>\r\n          <Price>80.000000</Price>\r\n          <DiscountAmount>0.000000</DiscountAmount>\r\n          <LineAmount>8000.000000</LineAmount>\r'
  '\n          <Status />\r\n          <GlAccount />\r\n          <CostCenter />\r\n          <VatCode />\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n    '
  '      <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <StartDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n          <EndDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XML'
  'Schema-instance\" />\r\n          <InvoicedQuantity>0.000000</InvoicedQuantity>\r\n          <InvoicedAmount>0.000000</InvoicedAmount>\r\n        </PurchaseOrderLine>\r\n      </PurchaseOrderLines>\r\n    </PurchaseOrderMasterData>\r\n  </PurchaseOrd'
  'erMasterDataList>\r\n</PurchaseInvoice>"}' INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT' ls_value.

  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' '' ''.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_OBJ'       'IV'.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_ENV'       'XB'.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_MAPID'     'ROUTTY'.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_EXTDATA'   lr_rfc_extdata.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_ARCHIVING' lr_rfc_archiving.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_CONTENT'   lr_rfc_content.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ES_BO_HDR'    lr_rfc_bo_hdr.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ES_STATUS'    lr_rfc_status.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ET_MESSAGES'  lr_rfc_messages.

  add_method lt_scenario 6 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 6 'CREATE_REL_URL' 'PATH'     '/api/document/accountingfeedback'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'URL'      '/api/document/accountingfeedback'.

  add_method lt_scenario 7 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 7 'SET_HEADER_FIELD' 'NAME'  'Accept'.
  add_method lt_scenario 7 'SET_HEADER_FIELD' 'VALUE' 'application/json'.

  add_method lt_scenario 8 'CALL_HTTP' '' ''.
  add_method lt_scenario 8 'CALL_HTTP' 'IC_METHOD' 'POST'.

  ls_date = sy-datum.
  CONCATENATE ls_date(4) '-' ls_date+4(2) '-' ls_date+6(2) INTO ls_date.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<RouttyFeedbackDocuments>#  <RouttyFeedbackDocument>#    <Status>Success</Status>#    <DocumentGuid>41babc06-9205-4ea7-ae84-3faf8860c70e</DocumentGuid>#    <ProcessDate>'
  ls_date
  '</ProcessDate>#    <Messages>#'
  '<Message>Document transferred from ROUTTY 41BABC0692054EA7AE843FAF8860C70E to PDAP 3010</Message>#    </Messages>#  </RouttyFeedbackDocument>#</RouttyFeedbackDocuments>'
    INTO ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_URL'         '/api/document/accountingfeedback'.
  add_method lt_scenario 8 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingFeedback","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_ROUTTYAP_IV_TO_PD_02.

**************************************************************************************************
* Scenario: FI Invoice is transferred from Routty to PD
* Version: 02

**************************************************************************************************
  DATA: lr_rfc_extdata   TYPE REF TO data,
        lr_rfc_archiving TYPE REF TO data,
        lr_rfc_content   TYPE REF TO data,
        lr_rfc_bo_hdr    TYPE REF TO data,
        lr_rfc_status    TYPE REF TO data,
        lr_rfc_messages  TYPE REF TO data,

        lt_scenario      LIKE mst_scenario-scenario,
        lst_val          LIKE LINE OF lt_scenario,
        ls_value         LIKE lst_val-value,
        ls_date          TYPE string.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD

  create_rfc_data_submit_data_fi( IMPORTING er_rfc_extdata   = lr_rfc_extdata
                                            er_rfc_archiving = lr_rfc_archiving
                                            er_rfc_content   = lr_rfc_content
                                            er_rfc_bo_hdr    = lr_rfc_bo_hdr
                                            er_rfc_status    = lr_rfc_status
                                            er_rfc_messages  = lr_rfc_messages ).


**************************************************************************************************
**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 1 'CREATE_REL_URL' 'PATH'     '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'URL'      '/api/accounting/IdsReadyForExport'.

  add_method lt_scenario 2 'CALL_HTTP' '' ''.
  add_method lt_scenario 2 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 2 'CALL_HTTP' 'IS_URL'         '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 2 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_RESULT'      '{"Success":true,"Message":"Document Raw Ids","Data":[166]}'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/accounting/document/166'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/accounting/document/166'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/accounting/document/166'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.

  CONCATENATE
  '{"Success":true,"Message":"Accounting document","Data":"<PurchaseInvoice>\r\n  <PurchaseInvoiceData>\r\n    <DocumentSet>\r\n      <Id>66</Id>\r\n      <DocumentId>IV_4500022682_1</DocumentId>\r\n      <Guid>41babc06-9205-4ea7-ae84-3faf8860c70e</Guid'
  '>\r\n      <DocumentTypeId p4:nil=\"true\" xmlns:p4=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n    </DocumentSet>\r\n    <PurchaseInvoiceHeader>\r\n      <Supplier>\r\n        <Metadata>\r\n          <Number>43001</Number>\r\n          <Site'
  'Code />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>OMV AG</Name1>\r\n          <Name2 />\r\n          <Address1>Rennbahnstrasse 61</Address1>\r\n          <Address2 />\r\n'
  '          <PoBox />\r\n          <PostalCode>1020</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynat'
  'os.be</EmailAddress>\r\n          <PaymentTerms>0001</PaymentTerms>\r\n          <PaymentMethod>AKLOSU</PaymentMethod>\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimen'
  'sion5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\n              <Number>ATU99999993</Number>\r\n              <Scheme>VAT</'
  'Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n              <AccountNumber>98765454321<'
  '/AccountNumber>\r\n              <IBAN>AT421910098765454321</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Di'
  'mension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>   </Currency>\r\n      '
  '        <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n           '
  '   <AccountNumber>88877766655</AccountNumber>\r\n              <IBAN>AT981910088877766655</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dime'
  'nsion3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Partner</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </S'
  'upplier>\r\n      <Buyer>\r\n        <Metadata>\r\n          <Number>1043</Number>\r\n          <SiteCode />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>Dynatos Ãsterreich'
  ' GmbH</Name1>\r\n          <Name2 />\r\n          <Address1>Heugasse 1</Address1>\r\n          <Address2 />\r\n          <PoBox />\r\n          <PostalCode>1121</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location'
  ' />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynatos.be</EmailAddress>\r\n          <PaymentTerms />\r\n          <PaymentMethod />\r\n          <Dimension1 />\r\n          <Dimension2 />\r'
  '\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\'
  'n              <Number>ABC123</Number>\r\n              <Scheme>VAT</Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankN'
  'umber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              '
  '<Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Company</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </Buyer>\r\n      <DocumentRec'
  'eiver>\r\n        <Id>0</Id>\r\n        <Number>43001</Number>\r\n        <VatNumber>ATU99999993</VatNumber>\r\n        <Name>OMV AG</Name>\r\n        <Street>Rennbahnstrasse 61</Street>\r\n        <PostalCode>1020</PostalCode>\r\n        <City>Wien<'
  '/City>\r\n        <Country>AT</Country>\r\n        <ExternalUniqueId>1043</ExternalUniqueId>\r\n      </DocumentReceiver>\r\n      <DocumentSupplier>\r\n        <Id>0</Id>\r\n        <Number>1043</Number>\r\n        <Name>Dynatos Ãsterreich GmbH</Na'
  'me>\r\n        <RegistrationNumber1>ABC123</RegistrationNumber1>\r\n        <Street>Heugasse 1</Street>\r\n        <PostalCode>1121</PostalCode>\r\n        <City>Wien</City>\r\n        <Country>AT</Country>\r\n        <CorporateGroupID>1043</Corporat'
  'eGroupID>\r\n      </DocumentSupplier>\r\n      <Id>56</Id>\r\n      <DocumentReference>IV_4500022682_1</DocumentReference>\r\n      <OrderReference>4500022682</OrderReference>\r\n      <ReceiptReference />\r\n      <DocumentDate>2022-02-21T00:00:00<'
  '/DocumentDate>\r\n      <PaymentReference />\r\n      <PaymentTerms />\r\n      <DocumentType>Invoice</DocumentType>\r\n      <DocumentSubType>GE</DocumentSubType>\r\n      <Currency>EUR</Currency>\r\n      <CurrencyRate p4:nil=\"true\" xmlns:p4=\"ht'
  'tp://www.w3.org/2001/XMLSchema-instance\" />\r\n      <TotalNetAmount>8000.00</TotalNetAmount>\r\n      <TotalVatAmount>1520.00</TotalVatAmount>\r\n      <TotalGrossAmount>9520.00</TotalGrossAmount>\r\n      <TotalDiscountAmount>0.00</TotalDiscountAm'
  'ount>\r\n      <DocumentReceiversNumber>43001</DocumentReceiversNumber>\r\n      <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n      <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>\r\n      <Documen'
  'tReceiversIban>AT421910098765454321</DocumentReceiversIban>\r\n      <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n      <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>\r\n      <DocumentSuppliersRegistrationNumber'
  '1>ABC123</DocumentSuppliersRegistrationNumber1>\r\n      <VatRate1>NaN</VatRate1>\r\n      <VatRate2 />\r\n      <VatRate3 />\r\n      <VatRate4 />\r\n      <VatRate5 />\r\n      <HeaderText1 />\r\n      <HeaderText2 />\r\n      <ReceptionDate>2022-0'
  '2-21T00:00:00</ReceptionDate>\r\n      <BookingNumber>0</BookingNumber>\r\n      <BookingDate>2022-02-28T00:00:00</BookingDate>\r\n      <BookingYear>2022</BookingYear>\r\n      <BookingMonth>2</BookingMonth>\r\n      <DocumentSetId>66</DocumentSetId'
  '>\r\n      <DocumentRawId>166</DocumentRawId>\r\n      <Dimension1 />\r\n      <Dimension2 />\r\n      <Dimension3 />\r\n      <Dimension4 />\r\n      <Dimension5 />\r\n      <Dimension6 />\r\n      <Dimension7 />\r\n      <Dimension8 />\r\n      <Va'
  'tSystem>S</VatSystem>\r\n      <SupplierNumber>43001</SupplierNumber>\r\n      <SupplierName>OMV AG</SupplierName>\r\n      <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>\r\n      <SupplierIban>AT421910098765454321</SupplierIban'
  '>\r\n      <BuyerNumber>1043</BuyerNumber>\r\n      <BuyerName>Dynatos ?sterreich GmbH</BuyerName>\r\n      <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>\r\n    </PurchaseInvoiceHeader>\r\n    <PurchaseInvoiceLines>\r\n      <PurchaseInvo'
  'iceLine>\r\n        <LineId>1</LineId>\r\n        <ArticleNumberSupplier />\r\n        <ArticleNumberBuyer />\r\n        <ArticleDescription>Casings</ArticleDescription>\r\n        <StandardArticleNumber />\r\n        <Quantity>100.000000</Quantity>\'
  'r\n        <UnitCode>H87</UnitCode>\r\n        <Price>80.000000</Price>\r\n        <LineAmount>8000.000000</LineAmount>\r\n        <Status>Matched</Status>\r\n        <PurchaseInvoiceHeaderId>56</PurchaseInvoiceHeaderId>\r\n        <OrderReference>45'
  '00022682</OrderReference>\r\n        <OrderLineId>4500022682</OrderLineId>\r\n        <ReceiptReference />\r\n        <ReceiptLineId />\r\n        <Dimension1 />\r\n        <Dimension2 />\r\n        <Dimension3 />\r\n        <Dimension4 />\r\n       '
  ' <Dimension5 />\r\n        <Dimension6 />\r\n        <Dimension7 />\r\n        <Dimension8 />\r\n        <VatAmount>1520.000000</VatAmount>\r\n        <VatRate>19.0000</VatRate>\r\n        <PurchaseOrderLinesId>10784</PurchaseOrderLinesId>\r\n       '
  ' <EanCode />\r\n      </PurchaseInvoiceLine>\r\n    </PurchaseInvoiceLines>\r\n    <PurchaseInvoiceCodingLines>\r\n      <PurchaseInvoiceCodingLine>\r\n        <GlAccount>400000</GlAccount>\r\n        <CostCenter>1043</CostCenter>\r\n        <DebitAm'
  'ount>8000.00</DebitAmount>\r\n        <VatAmount>1520.00</VatAmount>\r\n        <VatRate>19.000000000000000000</VatRate>\r\n        <VatCode>VA</VatCode>\r\n        <VatSystem>S</VatSystem>\r\n        <Status>POLine</Status>\r\n        <HeaderId>56</'
  'HeaderId>\r\n        <PurchaseInvoiceLinesId>149</PurchaseInvoiceLinesId>\r\n      </PurchaseInvoiceCodingLine>\r\n    </PurchaseInvoiceCodingLines>\r\n    <PurchaseInvoiceIntrastatLines />\r\n    <PurchaseInvoicePaymentScheduleLines />\r\n    <Match'
  'ingExceptions />\r\n    <ArchiveLinks>\r\n      <Link>X2PaQk6QaOlqtJGsFTIt1g==</Link>\r\n      <Link>TooELfAdWi1JVO+OyCOzyg==</Link>\r\n    </ArchiveLinks>\r\n    <Attachments>\r\n      <Attachment>\r\n        <Filename>Base_41babc06-9205-4ea7-ae84-3'
  'faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Base Document</Type>\r\n      '
  '</Attachment>\r\n      <Attachment>\r\n        <Filename>41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf</Filename>\r\n        <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>application/pdf</MimeType>\r\n         <Type>'
  'Sales Invoice</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>Converted_41babc06-9205-4ea7-ae84-3faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeT'
  'ype>\r\n        <Type>Converted Document</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>AccountingDocument_41babc06-9205-4ea7-ae84-3faf8860c70e_2022-02-21_11-20-34-777.xml</Filename>\r\n        '
  '<Data>VGhpcyBpcyBBY2NvdW50aW5nRG9jdW1lbnQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Attachment</T'
  'ype>\r\n      </Attachment>\r\n    </Attachments>\r\n  </PurchaseInvoiceData>\r\n  <PurchaseOrderMasterDataList>\r\n    <PurchaseOrderMasterData>\r\n      <PurchaseOrderHeader>\r\n        <DocumentReference>4500022682</DocumentReference>\r\n        <'
  'ExtraReference />\r\n        <DocumentDate>2022-02-21T00:00:00</DocumentDate>\r\n        <DocumentType>NB</DocumentType>\r\n        <DocumentSubType />\r\n        <Currency>EUR</Currency>\r\n        <TotalNetAmount>8000.00</TotalNetAmount>\r\n       '
  ' <TotalVatAmount>0.00</TotalVatAmount>\r\n        <TotalGrossAmount>8000.00</TotalGrossAmount>\r\n        <TotalDiscountAmount>0.00</TotalDiscountAmount>\r\n        <OrderReference />\r\n        <DocumentReceiversNumber>43001</DocumentReceiversNumber'
  '>\r\n        <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n        <DocumentReceiversRegistrationNumber1 />\r\n        <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n        <DocumentSuppliersName />\r\n        <HeaderText1 />\'
  'r\n        <HeaderText2 />\r\n        <DocumentStatus>Open</DocumentStatus>\r\n        <RequesterId />\r\n        <SuppliersName>OMV AG</SuppliersName>\r\n        <SupplierName>OMV AG</SupplierName>\r\n        <SuppliersNumber>43001</SuppliersNumber>'
  '\r\n        <SupplierNumber>43001</SupplierNumber>\r\n        <SuppliersRegistrationNumber />\r\n        <SupplierRegistrationNumber />\r\n        <BuyerName />\r\n        <BuyerNumber>1043</BuyerNumber>\r\n        <ReceiversName />\r\n        <Recei'
  'verName />\r\n        <ReceiversNumber>1043</ReceiversNumber>\r\n        <ReceiverNumber>1043</ReceiverNumber>\r\n      </PurchaseOrderHeader>\r\n      <PurchaseOrderLines>\r\n        <PurchaseOrderLine>\r\n          <Id>10784</Id>\r\n          <Line'
  'Id>10</LineId>\r\n          <ExtraReference>4500022682</ExtraReference>\r\n          <ArticleNumberSupplier />\r\n          <ArticleNumberBuyer>100-100</ArticleNumberBuyer>\r\n          <ArticleDescription>Casings</ArticleDescription>\r\n          <S'
  'tandardArticleNumber />\r\n          <Quantity>100.000000</Quantity>\r\n          <UnitCode>ST</UnitCode>\r\n          <Price>80.000000</Price>\r\n          <DiscountAmount>0.000000</DiscountAmount>\r\n          <LineAmount>8000.000000</LineAmount>\r'
  '\n          <Status />\r\n          <GlAccount />\r\n          <CostCenter />\r\n          <VatCode />\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n    '
  '      <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <StartDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n          <EndDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XML'
  'Schema-instance\" />\r\n          <InvoicedQuantity>0.000000</InvoicedQuantity>\r\n          <InvoicedAmount>0.000000</InvoicedAmount>\r\n        </PurchaseOrderLine>\r\n      </PurchaseOrderLines>\r\n    </PurchaseOrderMasterData>\r\n  </PurchaseOrd'
  'erMasterDataList>\r\n</PurchaseInvoice>"}' INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT' ls_value.

  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' '' ''.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_OBJ'       'IV'.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_ENV'       'XB'.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_MAPID'     'ROUTTY'.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_EXTDATA'   lr_rfc_extdata.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_ARCHIVING' lr_rfc_archiving.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_CONTENT'   lr_rfc_content.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ES_BO_HDR'    lr_rfc_bo_hdr.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ES_STATUS'    lr_rfc_status.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ET_MESSAGES'  lr_rfc_messages.

  add_method lt_scenario 6 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 6 'CREATE_REL_URL' 'PATH'     '/api/document/accountingfeedback'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'URL'      '/api/document/accountingfeedback'.

  add_method lt_scenario 7 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 7 'SET_HEADER_FIELD' 'NAME'  'Accept'.
  add_method lt_scenario 7 'SET_HEADER_FIELD' 'VALUE' 'application/json'.

  add_method lt_scenario 8 'CALL_HTTP' '' ''.
  add_method lt_scenario 8 'CALL_HTTP' 'IC_METHOD' 'POST'.

  ls_date = sy-datum.
  CONCATENATE ls_date(4) '-' ls_date+4(2) '-' ls_date+6(2) INTO ls_date.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<RouttyFeedbackDocuments>#  <RouttyFeedbackDocument>#    <Status>Success</Status>#    <DocumentGuid>41babc06-9205-4ea7-ae84-3faf8860c70e</DocumentGuid>#    <ProcessDate>'
  ls_date
  '</ProcessDate>#    <Messages>#'
  '<Message>Document transferred from ROUTTY 41BABC0692054EA7AE843FAF8860C70E to PDAP 3010</Message>#    </Messages>#  </RouttyFeedbackDocument>#</RouttyFeedbackDocuments>'
    INTO ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_URL'         '/api/document/accountingfeedback'.
  add_method lt_scenario 8 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingFeedback","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_routtyap_iv_to_pd_03.

**************************************************************************************************
* Scenario: MM Invoice is transferred from Routty to SAP as IDOC
* Version: 03

**************************************************************************************************
  DATA: lr_control_record TYPE REF TO data,
        lr_arc_11         TYPE REF TO data,
        lr_arc_12         TYPE REF TO data,
*        lr_arc_21         TYPE REF TO data,
*        lr_arc_22         TYPE REF TO data,
        lr_arc_link_01    TYPE REF TO data,
*        lr_arc_link_02    TYPE REF TO data,
        lr_arc_content_01 TYPE REF TO data,
*        lr_arc_content_02 TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value,
        ls_value2         LIKE lst_val-value,
        ls_date           TYPE string.


**************************************************************************************************
**************************************************************************************************
* IDOC specific data

  create_get_idoc_control_record( IMPORTING er_record = lr_control_record ).
  create_archive_prepare_01( IMPORTING er_arc_1 = lr_arc_11
                                       er_arc_2 = lr_arc_12 ).
*  create_archive_prepare_02( IMPORTING er_arc_1 = lr_arc_21
*                                       er_arc_2 = lr_arc_22 ).
  create_archive_external_data_1( IMPORTING er_arc_content = lr_arc_content_01 ).
*  create_archive_external_data_2( IMPORTING er_arc_content = lr_arc_content_02 ).
  create_archive_create_link_01( IMPORTING er_arc = lr_arc_link_01 ).
*  create_archive_create_link_02( IMPORTING er_arc = lr_arc_link_02 ).

**************************************************************************************************
**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 1 'CREATE_REL_URL' 'PATH'     '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'URL'      '/api/accounting/IdsReadyForExport'.

  add_method lt_scenario 2 'CALL_HTTP' '' ''.
  add_method lt_scenario 2 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 2 'CALL_HTTP' 'IS_URL'         '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 2 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_RESULT'      '{"Success":true,"Message":"Document Raw Ids","Data":[166]}'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/accounting/document/166'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/accounting/document/166'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/accounting/document/166'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.

  CONCATENATE
  '{"Success":true,"Message":"Accounting document","Data":"<PurchaseInvoice>\r\n  <PurchaseInvoiceData>\r\n    <DocumentSet>\r\n      <Id>66</Id>\r\n      <DocumentId>IV_4500022682_2</DocumentId>\r\n      <Guid>41babc06-9205-4ea7-ae84-3faf8860c70e</Guid'
  '>\r\n      <DocumentTypeId p4:nil=\"true\" xmlns:p4=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n    </DocumentSet>\r\n    <PurchaseInvoiceHeader>\r\n      <Supplier>\r\n        <Metadata>\r\n          <Number>43001</Number>\r\n          <Site'
  'Code />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>OMV AG</Name1>\r\n          <Name2 />\r\n          <Address1>Rennbahnstrasse 61</Address1>\r\n          <Address2 />\r\n'
  '          <PoBox />\r\n          <PostalCode>1020</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynat'
  'os.be</EmailAddress>\r\n          <PaymentTerms>0001</PaymentTerms>\r\n          <PaymentMethod>AKLOSU</PaymentMethod>\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimen'
  'sion5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\n              <Number>ATU99999993</Number>\r\n              <Scheme>VAT</'
  'Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n              <AccountNumber>98765454321<'
  '/AccountNumber>\r\n              <IBAN>AT421910098765454321</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Di'
  'mension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>   </Currency>\r\n      '
  '        <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n           '
  '   <AccountNumber>88877766655</AccountNumber>\r\n              <IBAN>AT981910088877766655</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dime'
  'nsion3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Partner</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </S'
  'upplier>\r\n      <Buyer>\r\n        <Metadata>\r\n          <Number>1043</Number>\r\n          <SiteCode />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>Dynatos Ãsterreich'
  ' GmbH</Name1>\r\n          <Name2 />\r\n          <Address1>Heugasse 1</Address1>\r\n          <Address2 />\r\n          <PoBox />\r\n          <PostalCode>1121</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location'
  ' />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynatos.be</EmailAddress>\r\n          <PaymentTerms />\r\n          <PaymentMethod />\r\n          <Dimension1 />\r\n          <Dimension2 />\r'
  '\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\'
  'n              <Number>ABC123</Number>\r\n              <Scheme>VAT</Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankN'
  'umber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              '
  '<Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Company</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </Buyer>\r\n      <DocumentRec'
  'eiver>\r\n        <Id>0</Id>\r\n        <Number>43001</Number>\r\n        <VatNumber>ATU99999993</VatNumber>\r\n        <Name>OMV AG</Name>\r\n        <Street>Rennbahnstrasse 61</Street>\r\n        <PostalCode>1020</PostalCode>\r\n        <City>Wien<'
  '/City>\r\n        <Country>AT</Country>\r\n        <ExternalUniqueId>1043</ExternalUniqueId>\r\n      </DocumentReceiver>\r\n      <DocumentSupplier>\r\n        <Id>0</Id>\r\n        <Number>1043</Number>\r\n        <Name>Dynatos Ãsterreich GmbH</Na'
  'me>\r\n        <RegistrationNumber1>ABC123</RegistrationNumber1>\r\n        <Street>Heugasse 1</Street>\r\n        <PostalCode>1121</PostalCode>\r\n        <City>Wien</City>\r\n        <Country>AT</Country>\r\n        <CorporateGroupID>1043</Corporat'
  'eGroupID>\r\n      </DocumentSupplier>\r\n      <Id>56</Id>\r\n      <DocumentReference>IV_4500022682_2</DocumentReference>\r\n      <OrderReference>4500022682</OrderReference>\r\n      <ReceiptReference />\r\n      <DocumentDate>2022-02-21T00:00:00<'
  '/DocumentDate>\r\n      <PaymentReference />\r\n      <PaymentTerms />\r\n      <DocumentType>Invoice</DocumentType>\r\n      <DocumentSubType>PO</DocumentSubType>\r\n      <Currency>EUR</Currency>\r\n      <CurrencyRate p4:nil=\"true\" xmlns:p4=\"ht'
  'tp://www.w3.org/2001/XMLSchema-instance\" />\r\n      <TotalNetAmount>8000.00</TotalNetAmount>\r\n      <TotalVatAmount>1520.00</TotalVatAmount>\r\n      <TotalGrossAmount>9520.00</TotalGrossAmount>\r\n      <TotalDiscountAmount>0.00</TotalDiscountAm'
  'ount>\r\n      <DocumentReceiversNumber>43001</DocumentReceiversNumber>\r\n      <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n      <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>\r\n      <Documen'
  'tReceiversIban>AT421910098765454321</DocumentReceiversIban>\r\n      <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n      <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>\r\n      <DocumentSuppliersRegistrationNumber'
  '1>ABC123</DocumentSuppliersRegistrationNumber1>\r\n      <VatRate1>NaN</VatRate1>\r\n      <VatRate2 />\r\n      <VatRate3 />\r\n      <VatRate4 />\r\n      <VatRate5 />\r\n      <HeaderText1 />\r\n      <HeaderText2 />\r\n      <ReceptionDate>2022-0'
  '2-21T00:00:00</ReceptionDate>\r\n      <BookingNumber>0</BookingNumber>\r\n      <BookingDate>2022-02-28T00:00:00</BookingDate>\r\n      <BookingYear>2022</BookingYear>\r\n      <BookingMonth>2</BookingMonth>\r\n      <DocumentSetId>66</DocumentSetId'
  '>\r\n      <DocumentRawId>166</DocumentRawId>\r\n      <Dimension1 />\r\n      <Dimension2 />\r\n      <Dimension3 />\r\n      <Dimension4 />\r\n      <Dimension5 />\r\n      <Dimension6 />\r\n      <Dimension7 />\r\n      <Dimension8 />\r\n      <Va'
  'tSystem>S</VatSystem>\r\n      <SupplierNumber>43001</SupplierNumber>\r\n      <SupplierName>OMV AG</SupplierName>\r\n      <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>\r\n      <SupplierIban>AT421910098765454321</SupplierIban'
  '>\r\n      <BuyerNumber>1043</BuyerNumber>\r\n      <BuyerName>Dynatos ?sterreich GmbH</BuyerName>\r\n      <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>\r\n    </PurchaseInvoiceHeader>\r\n    <PurchaseInvoiceLines>\r\n      <PurchaseInvo'
  'iceLine>\r\n        <LineId>1</LineId>\r\n        <ArticleNumberSupplier />\r\n        <ArticleNumberBuyer />\r\n        <ArticleDescription>Casings</ArticleDescription>\r\n        <StandardArticleNumber />\r\n        <Quantity>100.000000</Quantity>\'
  'r\n        <UnitCode>H87</UnitCode>\r\n        <Price>80.000000</Price>\r\n        <LineAmount>8000.000000</LineAmount>\r\n        <Status>Matched</Status>\r\n        <PurchaseInvoiceHeaderId>56</PurchaseInvoiceHeaderId>\r\n        <OrderReference>45'
  '00022682</OrderReference>\r\n        <OrderLineId>4500022682</OrderLineId>\r\n        <ReceiptReference />\r\n        <ReceiptLineId />\r\n        <Dimension1 />\r\n        <Dimension2 />\r\n        <Dimension3 />\r\n        <Dimension4 />\r\n       '
  ' <Dimension5 />\r\n        <Dimension6 />\r\n        <Dimension7 />\r\n        <Dimension8 />\r\n        <VatAmount>1520.000000</VatAmount>\r\n        <VatRate>19.0000</VatRate>\r\n        <PurchaseOrderLinesId>10784</PurchaseOrderLinesId>\r\n       '
  ' <EanCode />\r\n      </PurchaseInvoiceLine>\r\n    </PurchaseInvoiceLines>\r\n    <PurchaseInvoiceCodingLines>\r\n      <PurchaseInvoiceCodingLine>\r\n        <GlAccount>400000</GlAccount>\r\n        <CostCenter>1043</CostCenter>\r\n        <DebitAm'
  'ount>8000.00</DebitAmount>\r\n        <VatAmount>1520.00</VatAmount>\r\n        <VatRate>19.000000000000000000</VatRate>\r\n        <VatCode>VA</VatCode>\r\n        <VatSystem>S</VatSystem>\r\n        <Status>POLine</Status>\r\n        <HeaderId>56</'
  'HeaderId>\r\n        <PurchaseInvoiceLinesId>149</PurchaseInvoiceLinesId>\r\n      </PurchaseInvoiceCodingLine>\r\n    </PurchaseInvoiceCodingLines>\r\n    <PurchaseInvoiceIntrastatLines />\r\n    <PurchaseInvoicePaymentScheduleLines />\r\n    <Match'
  'ingExceptions />\r\n    <ArchiveLinks>\r\n      <Link>X2PaQk6QaOlqtJGsFTIt1g==</Link>\r\n      <Link>TooELfAdWi1JVO+OyCOzyg==</Link>\r\n    </ArchiveLinks>\r\n    <Attachments>\r\n      <Attachment>\r\n        <Filename>Base_41babc06-9205-4ea7-ae84-3'
  'faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Base Document</Type>\r\n      '
  '</Attachment>\r\n      <Attachment>\r\n        <Filename>41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf</Filename>\r\n        <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>application/pdf</MimeType>\r\n         <Type>'
  'Sales Invoice</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>Converted_41babc06-9205-4ea7-ae84-3faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeT'
  'ype>\r\n        <Type>Converted Document</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>AccountingDocument_41babc06-9205-4ea7-ae84-3faf8860c70e_2022-02-21_11-20-34-777.xml</Filename>\r\n        '
  '<Data>VGhpcyBpcyBBY2NvdW50aW5nRG9jdW1lbnQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Attachment</T'
  'ype>\r\n      </Attachment>\r\n    </Attachments>\r\n  </PurchaseInvoiceData>\r\n  <PurchaseOrderMasterDataList>\r\n    <PurchaseOrderMasterData>\r\n      <PurchaseOrderHeader>\r\n        <DocumentReference>4500022682</DocumentReference>\r\n        <'
  'ExtraReference />\r\n        <DocumentDate>2022-02-21T00:00:00</DocumentDate>\r\n        <DocumentType>NB</DocumentType>\r\n        <DocumentSubType />\r\n        <Currency>EUR</Currency>\r\n        <TotalNetAmount>8000.00</TotalNetAmount>\r\n       '
  ' <TotalVatAmount>0.00</TotalVatAmount>\r\n        <TotalGrossAmount>8000.00</TotalGrossAmount>\r\n        <TotalDiscountAmount>0.00</TotalDiscountAmount>\r\n        <OrderReference />\r\n        <DocumentReceiversNumber>43001</DocumentReceiversNumber'
  '>\r\n        <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n        <DocumentReceiversRegistrationNumber1 />\r\n        <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n        <DocumentSuppliersName />\r\n        <HeaderText1 />\'
  'r\n        <HeaderText2 />\r\n        <DocumentStatus>Open</DocumentStatus>\r\n        <RequesterId />\r\n        <SuppliersName>OMV AG</SuppliersName>\r\n        <SupplierName>OMV AG</SupplierName>\r\n        <SuppliersNumber>43001</SuppliersNumber>'
  '\r\n        <SupplierNumber>43001</SupplierNumber>\r\n        <SuppliersRegistrationNumber />\r\n        <SupplierRegistrationNumber />\r\n        <BuyerName />\r\n        <BuyerNumber>1043</BuyerNumber>\r\n        <ReceiversName />\r\n        <Recei'
  'verName />\r\n        <ReceiversNumber>1043</ReceiversNumber>\r\n        <ReceiverNumber>1043</ReceiverNumber>\r\n      </PurchaseOrderHeader>\r\n      <PurchaseOrderLines>\r\n        <PurchaseOrderLine>\r\n          <Id>10784</Id>\r\n          <Line'
  'Id>10</LineId>\r\n          <ExtraReference>4500022682</ExtraReference>\r\n          <ArticleNumberSupplier />\r\n          <ArticleNumberBuyer>100-100</ArticleNumberBuyer>\r\n          <ArticleDescription>Casings</ArticleDescription>\r\n          <S'
  'tandardArticleNumber />\r\n          <Quantity>100.000000</Quantity>\r\n          <UnitCode>ST</UnitCode>\r\n          <Price>80.000000</Price>\r\n          <DiscountAmount>0.000000</DiscountAmount>\r\n          <LineAmount>8000.000000</LineAmount>\r'
  '\n          <Status />\r\n          <GlAccount />\r\n          <CostCenter />\r\n          <VatCode />\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n    '
  '      <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <StartDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n          <EndDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XML'
  'Schema-instance\" />\r\n          <InvoicedQuantity>0.000000</InvoicedQuantity>\r\n          <InvoicedAmount>0.000000</InvoicedAmount>\r\n        </PurchaseOrderLine>\r\n      </PurchaseOrderLines>\r\n    </PurchaseOrderMasterData>\r\n  </PurchaseOrd'
  'erMasterDataList>\r\n</PurchaseInvoice>"}' INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT' ls_value.

  add_method     lt_scenario 5 'GET_CURRENT_TIMESTAMP' '' ''.
  add_method     lt_scenario 5 'GET_CURRENT_TIMESTAMP' 'RD_TIMESTAMP' '20220101101122.1234567'.

  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>###  #<INVOIC02 xmlns:asx="http://www.sap.com/abapxml">#  <IDOC BEGIN="1">#    <EDI_DC40 SEGMENT="1">#      <TABNAM>EDI_DC40</TABNAM>#      <DIRECT>1</DIRECT>#   <IDOCTYP>INVOIC02</IDOCTYP>#      <MESTYP>INVOI'
  'C</MESTYP>#      <SNDPOR>ROUTTY</SNDPOR>#      <SNDPRT>LS</SNDPRT>#      <SNDPRN>ROUTTY</SNDPRN>#   <RCVPOR>ROUTTY</RCVPOR>#      <RCVPRT>LS</RCVPRT>#      <RCVPRN>ROU_XML</RCVPRN>#      <DOCNUM>202201011011221234567</DOCNUM>    </EDI_DC40>#    <E'
  '1EDK01 SEGMENT="1">#      <CURCY>EUR</CURCY># <KUNDEUINR/>#      <BELNR>IV_4500022682_2</BELNR>#      <BSART>INVO</BSART>#     <EIGENUINR>ATU99999993</EIGENUINR>#    </E1EDK01>#    <E1EDKA1 SEGMENT="1">#      <PARVW>RS</PARVW>#      <LIFNR>4300'
  '1</LIFNR>#      <NAME1>OMV AG</NAME1>#    </E1EDKA1>#    <E1EDKA1 SEGMENT="1">#      <PARVW>RE</PARVW>#      <PARTN>1043</PARTN>#      <NAME1>DynatosÃsterreich GmbH</NAME1>#    </E1EDKA1>#    <E1EDK02 SEGMENT="1">#      <QUALF>009</QUALF>#      <BE'
  'LNR>IV_4500022682_2</BELNR>#      <DATUM>20220221</DATUM>#    </E1EDK02>#    <E1EDK02 SEGMENT="1">#     <QUALF>001</QUALF>#      <BELNR>4500022682</BELNR>#    </E1EDK02>#    <E1EDK02 SEGMENT="1">#   <QUALF>012</QUALF>#      <BELNR/>#    </E1EDK02'
  '>#    <E1EDK03 SEGMENT="1">#      <IDDAT>012</IDDAT>#      <DATUM>20220221</DATUM>#    </E1EDK03>#  <E1EDK04 SEGMENT="1">#      <MWSKZ/>#      <MSATZ>NaN</MSATZ>#      <MWSBT>1520.00</MWSBT>#    </E1EDK04>#    <E1EDK28 SEGMENT="1">#      <BCOUN>AT<'
  '/BCOUN>#      <BIBAN>AT421910098765454321</BIBAN>#    </E1EDK28>#    <E1EDK14 SEGMENT="1">#      <QUALF>011</QUALF>#      <ORGID>1043</ORGID>#    </E1EDK14>#    <E1EDP01 SEGMENT="1">#      <POSEX/>#    <MENGE>100.000000</MENGE>#      <MENEE>H87</ME'
  'NEE>#      <NETWR>8000.000000</NETWR>#      <E1EDP02 SEGMENT="1">#        <QUALF>001</QUALF># <BELNR>4500022682</BELNR>#        <ZEILE>1</ZEILE>#      </E1EDP02>#      <E1EDP26 SEGMENT="1">#     <QUALF>006</QUALF>#        <BETRG>80.000000</'
  'BETRG>#      </E1EDP26>#      <E1EDP26 SEGMENT="1">#        <QUALF>003</QUALF>#        <BETRG>8000.000000</BETRG>#      </E1EDP26>#      <E1EDP04 SEGMENT="1">#        <MWSATZ>19.0000</MWSATZ>#      </E1EDP04>#    </E1EDP01>#    <E1EDS01 SEGMENT="1">#'
  '    <SUMID>001</SUMID>#      <SUMME>1</SUMME>#  </E1EDS01>#    <E1EDS01 SEGMENT="1">#      <SUMID>010</SUMID>#      <SUMME>8000.00</SUMME>#      <WAERQ>EUR</WAERQ>#    </E1EDS01>#    <E1EDS01 SEGMENT="1">#      <SUMID>011</SUMID>#      <SUMME>952'
  '0.00</SUMME>#      <WAERQ>EUR</WAERQ>#    </E1EDS01>#    <E1EDS01 SEGMENT="1">#      <SUMID>005</SUMID>#      <SUMME>1520.00</SUMME>#      <WAERQ>EUR</WAERQ>#    </E1EDS01>#  </IDOC>#</INVOIC02>###  ##'
  INTO ls_value2.

  add_method     lt_scenario 6 'IDOC_INBOUND_XML_VIA_HTTP' '' ''.
  add_method     lt_scenario 6 'IDOC_INBOUND_XML_VIA_HTTP' 'IS_XML'         ls_value2.
  add_method     lt_scenario 6 'IDOC_INBOUND_XML_VIA_HTTP' 'IS_REMOTE_ADDR' '166'.

  add_method     lt_scenario 7 'GET_IDOC_CONTROL_RECORD' '' ''.
  add_method     lt_scenario 7 'GET_IDOC_CONTROL_RECORD' 'IS_EXTERNAL_DOC_ID' '166'.
  add_method_ref lt_scenario 7 'GET_IDOC_CONTROL_RECORD' 'ES_RECORD'          lr_control_record.

* PDF
  add_method     lt_scenario 8 'GET_ARCHIVE_OBJECT' '' ''.
  add_method     lt_scenario 8 'GET_ARCHIVE_OBJECT' 'IC_COMP_CODE' '1043'.
  add_method     lt_scenario 8 'GET_ARCHIVE_OBJECT' 'IC_USERNAME'  'TEST_USER'.
  add_method     lt_scenario 8 'GET_ARCHIVE_OBJECT' 'RC_AR_OBJECT' 'ZEIC_PDFIV'.

  add_method     lt_scenario 9 'ARCHIVE_PREPARE' '' ''.
  add_method_ref lt_scenario 9 'ARCHIVE_PREPARE' 'CST_ARC_1' lr_arc_11.
  add_method_ref lt_scenario 9 'ARCHIVE_PREPARE' 'CST_ARC_2' lr_arc_12.

  add_method     lt_scenario 10 'ARCHIVE_EXTERNAL_DATA' '' ''.
  add_method_ref lt_scenario 10 'ARCHIVE_EXTERNAL_DATA' 'IST_ARC'       lr_arc_12.
  add_method_ref lt_scenario 10 'ARCHIVE_EXTERNAL_DATA' 'IT_CONTENT'    lr_arc_content_01.
  add_method     lt_scenario 10 'ARCHIVE_EXTERNAL_DATA' 'EC_ARC_DOC_ID' '000C29FDBA9E1EDCAAD25447B5B8A0E2'.

  add_method     lt_scenario 11 'ARCHIVE_CREATE_LINK' '' ''.
  add_method_ref lt_scenario 11 'ARCHIVE_CREATE_LINK' 'IST_ARC' lr_arc_link_01.
  add_method     lt_scenario 11 'ARCHIVE_CREATE_LINK' 'RB_OK'   abap_true.

** XML
*  add_method     lt_scenario 12 'GET_ARCHIVE_OBJECT' '' ''.
*  add_method     lt_scenario 12 'GET_ARCHIVE_OBJECT' 'IC_COMP_CODE' '1043'.
*  add_method     lt_scenario 12 'GET_ARCHIVE_OBJECT' 'IC_USERNAME'  'TEST_USER'.
*  add_method     lt_scenario 12 'GET_ARCHIVE_OBJECT' 'RC_AR_OBJECT' 'ZEIC_PDFIV'.
*
*  add_method     lt_scenario 13 'ARCHIVE_PREPARE' '' ''.
*  add_method_ref lt_scenario 13 'ARCHIVE_PREPARE' 'CST_ARC_1' lr_arc_21.
*  add_method_ref lt_scenario 13 'ARCHIVE_PREPARE' 'CST_ARC_2' lr_arc_22.
*
*  add_method     lt_scenario 14 'ARCHIVE_EXTERNAL_DATA' '' ''.
*  add_method_ref lt_scenario 14 'ARCHIVE_EXTERNAL_DATA' 'IST_ARC'       lr_arc_22.
*  add_method_ref lt_scenario 14 'ARCHIVE_EXTERNAL_DATA' 'IT_CONTENT'    lr_arc_content_02.
*  add_method     lt_scenario 14 'ARCHIVE_EXTERNAL_DATA' 'EC_ARC_DOC_ID' '000C29FDBA9E1EDCAAD25447B5B8A0E3'.
*
*  add_method     lt_scenario 15 'ARCHIVE_CREATE_LINK' '' ''.
*  add_method_ref lt_scenario 15 'ARCHIVE_CREATE_LINK' 'IST_ARC' lr_arc_link_02.
*  add_method     lt_scenario 15 'ARCHIVE_CREATE_LINK' 'RB_OK'   abap_true.

  add_method lt_scenario 12 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 0  'CREATE_REL_URL' 'PATH'     '/api/document/accountingfeedback'.
  add_method lt_scenario 0  'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 0  'CREATE_REL_URL' 'URL'      '/api/document/accountingfeedback'.

  add_method lt_scenario 13 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 0  'SET_HEADER_FIELD' 'NAME'  'Accept'.
  add_method lt_scenario 0  'SET_HEADER_FIELD' 'VALUE' 'application/json'.

  add_method lt_scenario 14 'CALL_HTTP' '' ''.
  add_method lt_scenario 0  'CALL_HTTP' 'IC_METHOD' 'POST'.

  ls_date = sy-datum.
  CONCATENATE ls_date(4) '-' ls_date+4(2) '-' ls_date+6(2) INTO ls_date.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<RouttyFeedbackDocuments>#  <RouttyFeedbackDocument>#    <Status>Success</Status>#    <DocumentGuid>41babc06-9205-4ea7-ae84-3faf8860c70e</DocumentGuid>#    <ProcessDate>'
  ls_date
  '</ProcessDate>#    <Messages># <Message>Document 41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf archived IDOC 3230747 Created for ROU_XML with Key 166</Message>#    </Messages>#'
  '</RouttyFeedbackDocument>#</RouttyFeedbackDocuments>'
    INTO ls_value.
  add_method lt_scenario 0  'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 0  'CALL_HTTP' 'IS_URL'         '/api/document/accountingfeedback'.
  add_method lt_scenario 0  'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 0  'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 0  'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingFeedback","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_ROUTTYAP_IV_TO_PD_04.

**************************************************************************************************
* Scenario: MM Invoice is transferred from Routty to a local file
* Version: 04

**************************************************************************************************
  DATA: lt_scenario      LIKE mst_scenario-scenario,
        lst_val          LIKE LINE OF lt_scenario,
        ls_value         LIKE lst_val-value,
        ls_date          TYPE string.


**************************************************************************************************
**************************************************************************************************

**************************************************************************************************
**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 1 'CREATE_REL_URL' 'PATH'     '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'URL'      '/api/accounting/IdsReadyForExport'.

  add_method lt_scenario 2 'CALL_HTTP' '' ''.
  add_method lt_scenario 2 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 2 'CALL_HTTP' 'IS_URL'         '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 2 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_RESULT'      '{"Success":true,"Message":"Document Raw Ids","Data":[166]}'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/accounting/document/166'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/accounting/document/166'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/accounting/document/166'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.

  CONCATENATE
  '{"Success":true,"Message":"Accounting document","Data":"<PurchaseInvoice>\r\n  <PurchaseInvoiceData>\r\n    <DocumentSet>\r\n      <Id>66</Id>\r\n      <DocumentId>IV_4500022682_1</DocumentId>\r\n      <Guid>41babc06-9205-4ea7-ae84-3faf8860c70e</Guid'
  '>\r\n      <DocumentTypeId p4:nil=\"true\" xmlns:p4=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n    </DocumentSet>\r\n    <PurchaseInvoiceHeader>\r\n      <Supplier>\r\n        <Metadata>\r\n          <Number>43001</Number>\r\n          <Site'
  'Code />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>OMV AG</Name1>\r\n          <Name2 />\r\n          <Address1>Rennbahnstrasse 61</Address1>\r\n          <Address2 />\r\n'
  '          <PoBox />\r\n          <PostalCode>1020</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynat'
  'os.be</EmailAddress>\r\n          <PaymentTerms>0001</PaymentTerms>\r\n          <PaymentMethod>AKLOSU</PaymentMethod>\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimen'
  'sion5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\n              <Number>ATU99999993</Number>\r\n              <Scheme>VAT</'
  'Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n              <AccountNumber>98765454321<'
  '/AccountNumber>\r\n              <IBAN>AT421910098765454321</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Di'
  'mension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>   </Currency>\r\n      '
  '        <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n           '
  '   <AccountNumber>88877766655</AccountNumber>\r\n              <IBAN>AT981910088877766655</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dime'
  'nsion3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Partner</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </S'
  'upplier>\r\n      <Buyer>\r\n        <Metadata>\r\n          <Number>1043</Number>\r\n          <SiteCode />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>Dynatos Ãsterreich'
  ' GmbH</Name1>\r\n          <Name2 />\r\n          <Address1>Heugasse 1</Address1>\r\n          <Address2 />\r\n          <PoBox />\r\n          <PostalCode>1121</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location'
  ' />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynatos.be</EmailAddress>\r\n          <PaymentTerms />\r\n          <PaymentMethod />\r\n          <Dimension1 />\r\n          <Dimension2 />\r'
  '\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\'
  'n              <Number>ABC123</Number>\r\n              <Scheme>VAT</Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankN'
  'umber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              '
  '<Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Company</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </Buyer>\r\n      <DocumentRec'
  'eiver>\r\n        <Id>0</Id>\r\n        <Number>43001</Number>\r\n        <VatNumber>ATU99999993</VatNumber>\r\n        <Name>OMV AG</Name>\r\n        <Street>Rennbahnstrasse 61</Street>\r\n        <PostalCode>1020</PostalCode>\r\n        <City>Wien<'
  '/City>\r\n        <Country>AT</Country>\r\n        <ExternalUniqueId>1043</ExternalUniqueId>\r\n      </DocumentReceiver>\r\n      <DocumentSupplier>\r\n        <Id>0</Id>\r\n        <Number>1043</Number>\r\n        <Name>Dynatos Ãsterreich GmbH</Na'
  'me>\r\n        <RegistrationNumber1>ABC123</RegistrationNumber1>\r\n        <Street>Heugasse 1</Street>\r\n        <PostalCode>1121</PostalCode>\r\n        <City>Wien</City>\r\n        <Country>AT</Country>\r\n        <CorporateGroupID>1043</Corporat'
  'eGroupID>\r\n      </DocumentSupplier>\r\n      <Id>56</Id>\r\n      <DocumentReference>IV_4500022682_1</DocumentReference>\r\n      <OrderReference>4500022682</OrderReference>\r\n      <ReceiptReference />\r\n      <DocumentDate>2022-02-21T00:00:00<'
  '/DocumentDate>\r\n      <PaymentReference />\r\n      <PaymentTerms />\r\n      <DocumentType>Invoice</DocumentType>\r\n      <DocumentSubType>PO</DocumentSubType>\r\n      <Currency>EUR</Currency>\r\n      <CurrencyRate p4:nil=\"true\" xmlns:p4=\"ht'
  'tp://www.w3.org/2001/XMLSchema-instance\" />\r\n      <TotalNetAmount>8000.00</TotalNetAmount>\r\n      <TotalVatAmount>1520.00</TotalVatAmount>\r\n      <TotalGrossAmount>9520.00</TotalGrossAmount>\r\n      <TotalDiscountAmount>0.00</TotalDiscountAm'
  'ount>\r\n      <DocumentReceiversNumber>43001</DocumentReceiversNumber>\r\n      <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n      <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>\r\n      <Documen'
  'tReceiversIban>AT421910098765454321</DocumentReceiversIban>\r\n      <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n      <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>\r\n      <DocumentSuppliersRegistrationNumber'
  '1>ABC123</DocumentSuppliersRegistrationNumber1>\r\n      <VatRate1>NaN</VatRate1>\r\n      <VatRate2 />\r\n      <VatRate3 />\r\n      <VatRate4 />\r\n      <VatRate5 />\r\n      <HeaderText1 />\r\n      <HeaderText2 />\r\n      <ReceptionDate>2022-0'
  '2-21T00:00:00</ReceptionDate>\r\n      <BookingNumber>0</BookingNumber>\r\n      <BookingDate>2022-02-28T00:00:00</BookingDate>\r\n      <BookingYear>2022</BookingYear>\r\n      <BookingMonth>2</BookingMonth>\r\n      <DocumentSetId>66</DocumentSetId'
  '>\r\n      <DocumentRawId>166</DocumentRawId>\r\n      <Dimension1 />\r\n      <Dimension2 />\r\n      <Dimension3 />\r\n      <Dimension4 />\r\n      <Dimension5 />\r\n      <Dimension6 />\r\n      <Dimension7 />\r\n      <Dimension8 />\r\n      <Va'
  'tSystem>S</VatSystem>\r\n      <SupplierNumber>43001</SupplierNumber>\r\n      <SupplierName>OMV AG</SupplierName>\r\n      <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>\r\n      <SupplierIban>AT421910098765454321</SupplierIban'
  '>\r\n      <BuyerNumber>1043</BuyerNumber>\r\n      <BuyerName>Dynatos ?sterreich GmbH</BuyerName>\r\n      <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>\r\n    </PurchaseInvoiceHeader>\r\n    <PurchaseInvoiceLines>\r\n      <PurchaseInvo'
  'iceLine>\r\n        <LineId>1</LineId>\r\n        <ArticleNumberSupplier />\r\n        <ArticleNumberBuyer />\r\n        <ArticleDescription>Casings</ArticleDescription>\r\n        <StandardArticleNumber />\r\n        <Quantity>100.000000</Quantity>\'
  'r\n        <UnitCode>H87</UnitCode>\r\n        <Price>80.000000</Price>\r\n        <LineAmount>8000.000000</LineAmount>\r\n        <Status>Matched</Status>\r\n        <PurchaseInvoiceHeaderId>56</PurchaseInvoiceHeaderId>\r\n        <OrderReference>45'
  '00022682</OrderReference>\r\n        <OrderLineId>4500022682</OrderLineId>\r\n        <ReceiptReference />\r\n        <ReceiptLineId />\r\n        <Dimension1 />\r\n        <Dimension2 />\r\n        <Dimension3 />\r\n        <Dimension4 />\r\n       '
  ' <Dimension5 />\r\n        <Dimension6 />\r\n        <Dimension7 />\r\n        <Dimension8 />\r\n        <VatAmount>1520.000000</VatAmount>\r\n        <VatRate>19.0000</VatRate>\r\n        <PurchaseOrderLinesId>10784</PurchaseOrderLinesId>\r\n       '
  ' <EanCode />\r\n      </PurchaseInvoiceLine>\r\n    </PurchaseInvoiceLines>\r\n    <PurchaseInvoiceCodingLines>\r\n      <PurchaseInvoiceCodingLine>\r\n        <GlAccount>400000</GlAccount>\r\n        <CostCenter>1043</CostCenter>\r\n        <DebitAm'
  'ount>8000.00</DebitAmount>\r\n        <VatAmount>1520.00</VatAmount>\r\n        <VatRate>19.000000000000000000</VatRate>\r\n        <VatCode>VA</VatCode>\r\n        <VatSystem>S</VatSystem>\r\n        <Status>POLine</Status>\r\n        <HeaderId>56</'
  'HeaderId>\r\n        <PurchaseInvoiceLinesId>149</PurchaseInvoiceLinesId>\r\n      </PurchaseInvoiceCodingLine>\r\n    </PurchaseInvoiceCodingLines>\r\n    <PurchaseInvoiceIntrastatLines />\r\n    <PurchaseInvoicePaymentScheduleLines />\r\n    <Match'
  'ingExceptions />\r\n    <ArchiveLinks>\r\n      <Link>X2PaQk6QaOlqtJGsFTIt1g==</Link>\r\n      <Link>TooELfAdWi1JVO+OyCOzyg==</Link>\r\n    </ArchiveLinks>\r\n    <Attachments>\r\n      <Attachment>\r\n        <Filename>Base_41babc06-9205-4ea7-ae84-3'
  'faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Base Document</Type>\r\n      '
  '</Attachment>\r\n      <Attachment>\r\n        <Filename>41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf</Filename>\r\n        <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>application/pdf</MimeType>\r\n         <Type>'
  'Sales Invoice</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>Converted_41babc06-9205-4ea7-ae84-3faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeT'
  'ype>\r\n        <Type>Converted Document</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>AccountingDocument_41babc06-9205-4ea7-ae84-3faf8860c70e_2022-02-21_11-20-34-777.xml</Filename>\r\n        '
  '<Data>VGhpcyBpcyBBY2NvdW50aW5nRG9jdW1lbnQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Attachment</T'
  'ype>\r\n      </Attachment>\r\n    </Attachments>\r\n  </PurchaseInvoiceData>\r\n  <PurchaseOrderMasterDataList>\r\n    <PurchaseOrderMasterData>\r\n      <PurchaseOrderHeader>\r\n        <DocumentReference>4500022682</DocumentReference>\r\n        <'
  'ExtraReference />\r\n        <DocumentDate>2022-02-21T00:00:00</DocumentDate>\r\n        <DocumentType>NB</DocumentType>\r\n        <DocumentSubType />\r\n        <Currency>EUR</Currency>\r\n        <TotalNetAmount>8000.00</TotalNetAmount>\r\n       '
  ' <TotalVatAmount>0.00</TotalVatAmount>\r\n        <TotalGrossAmount>8000.00</TotalGrossAmount>\r\n        <TotalDiscountAmount>0.00</TotalDiscountAmount>\r\n        <OrderReference />\r\n        <DocumentReceiversNumber>43001</DocumentReceiversNumber'
  '>\r\n        <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n        <DocumentReceiversRegistrationNumber1 />\r\n        <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n        <DocumentSuppliersName />\r\n        <HeaderText1 />\'
  'r\n        <HeaderText2 />\r\n        <DocumentStatus>Open</DocumentStatus>\r\n        <RequesterId />\r\n        <SuppliersName>OMV AG</SuppliersName>\r\n        <SupplierName>OMV AG</SupplierName>\r\n        <SuppliersNumber>43001</SuppliersNumber>'
  '\r\n        <SupplierNumber>43001</SupplierNumber>\r\n        <SuppliersRegistrationNumber />\r\n        <SupplierRegistrationNumber />\r\n        <BuyerName />\r\n        <BuyerNumber>1043</BuyerNumber>\r\n        <ReceiversName />\r\n        <Recei'
  'verName />\r\n        <ReceiversNumber>1043</ReceiversNumber>\r\n        <ReceiverNumber>1043</ReceiverNumber>\r\n      </PurchaseOrderHeader>\r\n      <PurchaseOrderLines>\r\n        <PurchaseOrderLine>\r\n          <Id>10784</Id>\r\n          <Line'
  'Id>10</LineId>\r\n          <ExtraReference>4500022682</ExtraReference>\r\n          <ArticleNumberSupplier />\r\n          <ArticleNumberBuyer>100-100</ArticleNumberBuyer>\r\n          <ArticleDescription>Casings</ArticleDescription>\r\n          <S'
  'tandardArticleNumber />\r\n          <Quantity>100.000000</Quantity>\r\n          <UnitCode>ST</UnitCode>\r\n          <Price>80.000000</Price>\r\n          <DiscountAmount>0.000000</DiscountAmount>\r\n          <LineAmount>8000.000000</LineAmount>\r'
  '\n          <Status />\r\n          <GlAccount />\r\n          <CostCenter />\r\n          <VatCode />\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n    '
  '      <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <StartDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n          <EndDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XML'
  'Schema-instance\" />\r\n          <InvoicedQuantity>0.000000</InvoicedQuantity>\r\n          <InvoicedAmount>0.000000</InvoicedAmount>\r\n        </PurchaseOrderLine>\r\n      </PurchaseOrderLines>\r\n    </PurchaseOrderMasterData>\r\n  </PurchaseOrd'
  'erMasterDataList>\r\n</PurchaseInvoice>"}' INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT' ls_value.

* Storing files
  add_method lt_scenario 5 'GET_FILE_NAME_USING_PATH' '' ''.
  add_method lt_scenario 5 'GET_FILE_NAME_USING_PATH' 'IC_LOGICAL_PATH'   'ZDYN_RSO_IMPORT'.
  add_method lt_scenario 5 'GET_FILE_NAME_USING_PATH' 'IB_USE_BUFFER'     abap_true.
  add_method lt_scenario 5 'GET_FILE_NAME_USING_PATH' 'IS_FILE_NAME'      '166.xml'.
  add_method lt_scenario 5 'GET_FILE_NAME_USING_PATH' 'ES_FULL_FILE_NAME' 'D:\RSO\166.xml'.

  add_method lt_scenario 6 'STORE_FILE_ON_APPSERVER' '' ''.
  add_method lt_scenario 6 'STORE_FILE_ON_APPSERVER' 'IS_FILENAME' 'D:\RSO\166.xml'.
  add_method lt_scenario 6 'STORE_FILE_ON_APPSERVER' 'IT_DATA_LEN' '13'.
  add_method lt_scenario 6 'STORE_FILE_ON_APPSERVER' 'RB_OK'       abap_true.

  add_method lt_scenario 7 'GET_FILE_NAME_USING_PATH' '' ''.
  add_method lt_scenario 7 'GET_FILE_NAME_USING_PATH' 'IC_LOGICAL_PATH'   'ZDYN_RSO_IMPORT'.
  add_method lt_scenario 7 'GET_FILE_NAME_USING_PATH' 'IB_USE_BUFFER'     abap_true.
  add_method lt_scenario 7 'GET_FILE_NAME_USING_PATH' 'IS_FILE_NAME'      '41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf'.
  add_method lt_scenario 7 'GET_FILE_NAME_USING_PATH' 'ES_FULL_FILE_NAME' 'D:\RSO\41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf'.

  add_method lt_scenario 8 'STORE_FILE_ON_APPSERVER' '' ''.
  add_method lt_scenario 8 'STORE_FILE_ON_APPSERVER' 'IS_FILENAME' 'D:\RSO\41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf'.
  add_method lt_scenario 8 'STORE_FILE_ON_APPSERVER' 'IT_DATA_LEN' '1'.
  add_method lt_scenario 8 'STORE_FILE_ON_APPSERVER' 'RB_OK'       abap_true.

  add_method lt_scenario 9 'GET_FILE_NAME_USING_PATH' '' ''.
  add_method lt_scenario 9 'GET_FILE_NAME_USING_PATH' 'IC_LOGICAL_PATH'   'ZDYN_RSO_IMPORT'.
  add_method lt_scenario 9 'GET_FILE_NAME_USING_PATH' 'IB_USE_BUFFER'     abap_true.
  add_method lt_scenario 9 'GET_FILE_NAME_USING_PATH' 'IS_FILE_NAME'      'Base_41babc06-9205-4ea7-ae84-3faf8860c70e.xml'.
  add_method lt_scenario 9 'GET_FILE_NAME_USING_PATH' 'ES_FULL_FILE_NAME' 'D:\RSO\Base_41babc06-9205-4ea7-ae84-3faf8860c70e.xml'.

  add_method lt_scenario 10 'STORE_FILE_ON_APPSERVER' '' ''.
  add_method lt_scenario 10 'STORE_FILE_ON_APPSERVER' 'IS_FILENAME' 'D:\RSO\Base_41babc06-9205-4ea7-ae84-3faf8860c70e.xml'.
  add_method lt_scenario 10 'STORE_FILE_ON_APPSERVER' 'IT_DATA_LEN' '1'.
  add_method lt_scenario 10 'STORE_FILE_ON_APPSERVER' 'RB_OK'       abap_true.

* Acknowledgment
  add_method lt_scenario 11 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 11 'CREATE_REL_URL' 'PATH'     '/api/document/accountingfeedback'.
  add_method lt_scenario 11 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 11 'CREATE_REL_URL' 'URL'      '/api/document/accountingfeedback'.

  add_method lt_scenario 12 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 12 'SET_HEADER_FIELD' 'NAME'  'Accept'.
  add_method lt_scenario 12 'SET_HEADER_FIELD' 'VALUE' 'application/json'.

  add_method lt_scenario 13 'CALL_HTTP' '' ''.
  add_method lt_scenario 13 'CALL_HTTP' 'IC_METHOD' 'POST'.

  ls_date = sy-datum.
  CONCATENATE ls_date(4) '-' ls_date+4(2) '-' ls_date+6(2) INTO ls_date.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<RouttyFeedbackDocuments>#  <RouttyFeedbackDocument>#    <Status>Success</Status>#    <DocumentGuid>41babc06-9205-4ea7-ae84-3faf8860c70e</DocumentGuid>#    <ProcessDate>'
  ls_date
  '</ProcessDate>#    <Messages>#  <Message>File 166.xml created File 41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf copied to fileserver File Base_41babc06-9205-4ea7-ae84-3faf8860c70e.xml '
  'copied to fileserver Document 166 processed</Message>#    </Messages>#'
  '</RouttyFeedbackDocument>#</RouttyFeedbackDocuments>'
    INTO ls_value.
  add_method lt_scenario 13 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 13 'CALL_HTTP' 'IS_URL'         '/api/document/accountingfeedback'.
  add_method lt_scenario 13 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 13 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 13 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingFeedback","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_ROUTTYAP_IV_TO_PD_05.

**************************************************************************************************
* Scenario: MM Invoice is transferred from Routty to PD
* Version: 01

**************************************************************************************************
  DATA: lr_rfc_extdata   TYPE REF TO data,
        lr_rfc_archiving TYPE REF TO data,
        lr_rfc_content   TYPE REF TO data,
        lr_rfc_bo_hdr    TYPE REF TO data,
        lr_rfc_status    TYPE REF TO data,
        lr_rfc_messages  TYPE REF TO data,

        lt_scenario      LIKE mst_scenario-scenario,
        lst_val          LIKE LINE OF lt_scenario,
        ls_value         LIKE lst_val-value,
        ls_date          TYPE string.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD

  create_rfc_data_submit_data_mm( EXPORTING ib_with_custom   = abap_true
                                  IMPORTING er_rfc_extdata   = lr_rfc_extdata
                                            er_rfc_archiving = lr_rfc_archiving
                                            er_rfc_content   = lr_rfc_content
                                            er_rfc_bo_hdr    = lr_rfc_bo_hdr
                                            er_rfc_status    = lr_rfc_status
                                            er_rfc_messages  = lr_rfc_messages ).


**************************************************************************************************
**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 1 'CREATE_REL_URL' 'PATH'     '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'URL'      '/api/accounting/IdsReadyForExport'.

  add_method lt_scenario 2 'CALL_HTTP' '' ''.
  add_method lt_scenario 2 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 2 'CALL_HTTP' 'IS_URL'         '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 2 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_RESULT'      '{"Success":true,"Message":"Document Raw Ids","Data":[166]}'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/accounting/document/166'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/accounting/document/166'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/accounting/document/166'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.

  CONCATENATE
  '{"Success":true,"Message":"Accounting document","Data":"<PurchaseInvoice>\r\n  <PurchaseInvoiceData>\r\n    <DocumentSet>\r\n      <Id>66</Id>\r\n      <DocumentId>IV_4500022682_1</DocumentId>\r\n      <Guid>41babc06-9205-4ea7-ae84-3faf8860c70e</Guid'
  '>\r\n      <DocumentTypeId p4:nil=\"true\" xmlns:p4=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n    </DocumentSet>\r\n    <PurchaseInvoiceHeader>\r\n      <Supplier>\r\n        <Metadata>\r\n          <Number>43001</Number>\r\n          <Site'
  'Code />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>OMV AG</Name1>\r\n          <Name2 />\r\n          <Address1>Rennbahnstrasse 61</Address1>\r\n          <Address2 />\r\n'
  '          <PoBox />\r\n          <PostalCode>1020</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynat'
  'os.be</EmailAddress>\r\n          <PaymentTerms>0001</PaymentTerms>\r\n          <PaymentMethod>AKLOSU</PaymentMethod>\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimen'
  'sion5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\n              <Number>ATU99999993</Number>\r\n              <Scheme>VAT</'
  'Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n              <AccountNumber>98765454321<'
  '/AccountNumber>\r\n              <IBAN>AT421910098765454321</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Di'
  'mension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>   </Currency>\r\n      '
  '        <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n           '
  '   <AccountNumber>88877766655</AccountNumber>\r\n              <IBAN>AT981910088877766655</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dime'
  'nsion3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Partner</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </S'
  'upplier>\r\n      <Buyer>\r\n        <Metadata>\r\n          <Number>1043</Number>\r\n          <SiteCode />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>Dynatos Ãsterreich'
  ' GmbH</Name1>\r\n          <Name2 />\r\n          <Address1>Heugasse 1</Address1>\r\n          <Address2 />\r\n          <PoBox />\r\n          <PostalCode>1121</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location'
  ' />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynatos.be</EmailAddress>\r\n          <PaymentTerms />\r\n          <PaymentMethod />\r\n          <Dimension1 />\r\n          <Dimension2 />\r'
  '\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\'
  'n              <Number>ABC123</Number>\r\n              <Scheme>VAT</Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankN'
  'umber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              '
  '<Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Company</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </Buyer>\r\n      <DocumentRec'
  'eiver>\r\n        <Id>0</Id>\r\n        <Number>43001</Number>\r\n        <VatNumber>ATU99999993</VatNumber>\r\n        <Name>OMV AG</Name>\r\n        <Street>Rennbahnstrasse 61</Street>\r\n        <PostalCode>1020</PostalCode>\r\n        <City>Wien<'
  '/City>\r\n        <Country>AT</Country>\r\n        <ExternalUniqueId>1043</ExternalUniqueId>\r\n      </DocumentReceiver>\r\n      <DocumentSupplier>\r\n        <Id>0</Id>\r\n        <Number>1043</Number>\r\n        <Name>Dynatos Ãsterreich GmbH</Na'
  'me>\r\n        <RegistrationNumber1>ABC123</RegistrationNumber1>\r\n        <Street>Heugasse 1</Street>\r\n        <PostalCode>1121</PostalCode>\r\n        <City>Wien</City>\r\n        <Country>AT</Country>\r\n        <CorporateGroupID>1043</Corporat'
  'eGroupID>\r\n      </DocumentSupplier>\r\n      <Id>56</Id>\r\n      <DocumentReference>IV_4500022682_1</DocumentReference>\r\n      <OrderReference>4500022682</OrderReference>\r\n      <ReceiptReference />\r\n      <DocumentDate>2022-02-21T00:00:00<'
  '/DocumentDate>\r\n      <PaymentReference />\r\n      <PaymentTerms />\r\n      <DocumentType>Invoice</DocumentType>\r\n      <DocumentSubType>PO</DocumentSubType>\r\n      <Currency>EUR</Currency>\r\n      <CurrencyRate p4:nil=\"true\" xmlns:p4=\"ht'
  'tp://www.w3.org/2001/XMLSchema-instance\" />\r\n      <TotalNetAmount>8000.00</TotalNetAmount>\r\n      <TotalVatAmount>1520.00</TotalVatAmount>\r\n      <TotalGrossAmount>9520.00</TotalGrossAmount>\r\n      <TotalDiscountAmount>0.00</TotalDiscountAm'
  'ount>\r\n      <DocumentReceiversNumber>43001</DocumentReceiversNumber>\r\n      <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n      <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>\r\n      <Documen'
  'tReceiversIban>AT421910098765454321</DocumentReceiversIban>\r\n      <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n      <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>\r\n      <DocumentSuppliersRegistrationNumber'
  '1>ABC123</DocumentSuppliersRegistrationNumber1>\r\n      <VatRate1>NaN</VatRate1>\r\n      <VatRate2 />\r\n      <VatRate3 />\r\n      <VatRate4 />\r\n      <VatRate5 />\r\n      <HeaderText1 />\r\n      <HeaderText2 />\r\n      <ReceptionDate>2022-0'
  '2-21T00:00:00</ReceptionDate>\r\n      <BookingNumber>0</BookingNumber>\r\n      <BookingDate>2022-02-28T00:00:00</BookingDate>\r\n      <BookingYear>2022</BookingYear>\r\n      <BookingMonth>2</BookingMonth>\r\n      <DocumentSetId>66</DocumentSetId'
  '>\r\n      <DocumentRawId>166</DocumentRawId>\r\n      <Dimension1>HDR_CUST_VALUE_1</Dimension1>\r\n      <Dimension2>HDR_CUST_VALUE_2</Dimension2>\r\n      <Dimension3 />\r\n      <Dimension4 />\r\n      <Dimension5 />\r\n      <Dimension6 />\r\n   '
  '<Dimension7 />\r\n      <Dimension8 />\r\n      <Va'
  'tSystem>S</VatSystem>\r\n      <SupplierNumber>43001</SupplierNumber>\r\n      <SupplierName>OMV AG</SupplierName>\r\n      <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>\r\n      <SupplierIban>AT421910098765454321</SupplierIban'
  '>\r\n      <BuyerNumber>1043</BuyerNumber>\r\n      <BuyerName>Dynatos ?sterreich GmbH</BuyerName>\r\n      <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>\r\n    </PurchaseInvoiceHeader>\r\n    <PurchaseInvoiceLines>\r\n      <PurchaseInvo'
  'iceLine>\r\n        <LineId>1</LineId>\r\n        <ArticleNumberSupplier />\r\n        <ArticleNumberBuyer />\r\n        <ArticleDescription>Casings</ArticleDescription>\r\n        <StandardArticleNumber />\r\n        <Quantity>100.000000</Quantity>\'
  'r\n        <UnitCode>H87</UnitCode>\r\n        <Price>80.000000</Price>\r\n        <LineAmount>8000.000000</LineAmount>\r\n        <Status>Matched</Status>\r\n        <PurchaseInvoiceHeaderId>56</PurchaseInvoiceHeaderId>\r\n        <OrderReference>45'
  '00022682</OrderReference>\r\n        <OrderLineId>4500022682</OrderLineId>\r\n        <ReceiptReference />\r\n        <ReceiptLineId />\r\n        <Dimension1>ITEM_CUST_VALUE_1</Dimension1>\r\n        <Dimension2>ITEM_CUST_VALUE_2</Dimension2>\r\n   '
  '  <Dimension3 />\r\n        <Dimension4 />\r\n       '
  ' <Dimension5 />\r\n        <Dimension6 />\r\n        <Dimension7 />\r\n        <Dimension8 />\r\n        <VatAmount>1520.000000</VatAmount>\r\n        <VatRate>19.0000</VatRate>\r\n        <PurchaseOrderLinesId>10784</PurchaseOrderLinesId>\r\n       '
  ' <EanCode />\r\n      </PurchaseInvoiceLine>\r\n    </PurchaseInvoiceLines>\r\n    <PurchaseInvoiceCodingLines>\r\n      <PurchaseInvoiceCodingLine>\r\n        <GlAccount>400000</GlAccount>\r\n        <CostCenter>1043</CostCenter>\r\n        <DebitAm'
  'ount>8000.00</DebitAmount>\r\n        <VatAmount>1520.00</VatAmount>\r\n        <VatRate>19.000000000000000000</VatRate>\r\n        <VatCode>VA</VatCode>\r\n        <VatSystem>S</VatSystem>\r\n        <Status>POLine</Status>\r\n        <HeaderId>56</'
  'HeaderId>\r\n        <PurchaseInvoiceLinesId>149</PurchaseInvoiceLinesId>\r\n      </PurchaseInvoiceCodingLine>\r\n    </PurchaseInvoiceCodingLines>\r\n    <PurchaseInvoiceIntrastatLines />\r\n    <PurchaseInvoicePaymentScheduleLines />\r\n    <Match'
  'ingExceptions />\r\n    <ArchiveLinks>\r\n      <Link>X2PaQk6QaOlqtJGsFTIt1g==</Link>\r\n      <Link>TooELfAdWi1JVO+OyCOzyg==</Link>\r\n    </ArchiveLinks>\r\n    <Attachments>\r\n      <Attachment>\r\n        <Filename>Base_41babc06-9205-4ea7-ae84-3'
  'faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Base Document</Type>\r\n      '
  '</Attachment>\r\n      <Attachment>\r\n        <Filename>41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf</Filename>\r\n        <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>application/pdf</MimeType>\r\n         <Type>'
  'Sales Invoice</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>Converted_41babc06-9205-4ea7-ae84-3faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeT'
  'ype>\r\n        <Type>Converted Document</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>AccountingDocument_41babc06-9205-4ea7-ae84-3faf8860c70e_2022-02-21_11-20-34-777.xml</Filename>\r\n        '
  '<Data>VGhpcyBpcyBBY2NvdW50aW5nRG9jdW1lbnQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Attachment</T'
  'ype>\r\n      </Attachment>\r\n    </Attachments>\r\n  </PurchaseInvoiceData>\r\n  <PurchaseOrderMasterDataList>\r\n    <PurchaseOrderMasterData>\r\n      <PurchaseOrderHeader>\r\n        <DocumentReference>4500022682</DocumentReference>\r\n        <'
  'ExtraReference />\r\n        <DocumentDate>2022-02-21T00:00:00</DocumentDate>\r\n        <DocumentType>NB</DocumentType>\r\n        <DocumentSubType />\r\n        <Currency>EUR</Currency>\r\n        <TotalNetAmount>8000.00</TotalNetAmount>\r\n       '
  ' <TotalVatAmount>0.00</TotalVatAmount>\r\n        <TotalGrossAmount>8000.00</TotalGrossAmount>\r\n        <TotalDiscountAmount>0.00</TotalDiscountAmount>\r\n        <OrderReference />\r\n        <DocumentReceiversNumber>43001</DocumentReceiversNumber'
  '>\r\n        <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n        <DocumentReceiversRegistrationNumber1 />\r\n        <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n        <DocumentSuppliersName />\r\n        <HeaderText1 />\'
  'r\n        <HeaderText2 />\r\n        <DocumentStatus>Open</DocumentStatus>\r\n        <RequesterId />\r\n        <SuppliersName>OMV AG</SuppliersName>\r\n        <SupplierName>OMV AG</SupplierName>\r\n        <SuppliersNumber>43001</SuppliersNumber>'
  '\r\n        <SupplierNumber>43001</SupplierNumber>\r\n        <SuppliersRegistrationNumber />\r\n        <SupplierRegistrationNumber />\r\n        <BuyerName />\r\n        <BuyerNumber>1043</BuyerNumber>\r\n        <ReceiversName />\r\n        <Recei'
  'verName />\r\n        <ReceiversNumber>1043</ReceiversNumber>\r\n        <ReceiverNumber>1043</ReceiverNumber>\r\n      </PurchaseOrderHeader>\r\n      <PurchaseOrderLines>\r\n        <PurchaseOrderLine>\r\n          <Id>10784</Id>\r\n          <Line'
  'Id>10</LineId>\r\n          <ExtraReference>4500022682</ExtraReference>\r\n          <ArticleNumberSupplier />\r\n          <ArticleNumberBuyer>100-100</ArticleNumberBuyer>\r\n          <ArticleDescription>Casings</ArticleDescription>\r\n          <S'
  'tandardArticleNumber />\r\n          <Quantity>100.000000</Quantity>\r\n          <UnitCode>ST</UnitCode>\r\n          <Price>80.000000</Price>\r\n          <DiscountAmount>0.000000</DiscountAmount>\r\n          <LineAmount>8000.000000</LineAmount>\r'
  '\n          <Status />\r\n          <GlAccount />\r\n          <CostCenter />\r\n          <VatCode />\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n    '
  '      <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <StartDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n          <EndDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XML'
  'Schema-instance\" />\r\n          <InvoicedQuantity>0.000000</InvoicedQuantity>\r\n          <InvoicedAmount>0.000000</InvoicedAmount>\r\n        </PurchaseOrderLine>\r\n      </PurchaseOrderLines>\r\n    </PurchaseOrderMasterData>\r\n  </PurchaseOrd'
  'erMasterDataList>\r\n</PurchaseInvoice>"}' INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT' ls_value.

  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' '' ''.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_OBJ'       'IV'.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_ENV'       'XB'.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_MAPID'     'ROUTTY'.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_EXTDATA'   lr_rfc_extdata.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_ARCHIVING' lr_rfc_archiving.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_CONTENT'   lr_rfc_content.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ES_BO_HDR'    lr_rfc_bo_hdr.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ES_STATUS'    lr_rfc_status.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ET_MESSAGES'  lr_rfc_messages.

  add_method lt_scenario 6 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 6 'CREATE_REL_URL' 'PATH'     '/api/document/accountingfeedback'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'URL'      '/api/document/accountingfeedback'.

  add_method lt_scenario 7 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 7 'SET_HEADER_FIELD' 'NAME'  'Accept'.
  add_method lt_scenario 7 'SET_HEADER_FIELD' 'VALUE' 'application/json'.

  add_method lt_scenario 8 'CALL_HTTP' '' ''.
  add_method lt_scenario 8 'CALL_HTTP' 'IC_METHOD' 'POST'.

  ls_date = sy-datum.
  CONCATENATE ls_date(4) '-' ls_date+4(2) '-' ls_date+6(2) INTO ls_date.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<RouttyFeedbackDocuments>#  <RouttyFeedbackDocument>#    <Status>Success</Status>#    <DocumentGuid>41babc06-9205-4ea7-ae84-3faf8860c70e</DocumentGuid>#    <ProcessDate>'
  ls_date
  '</ProcessDate>#    <Messages>#'
  '<Message>Document transferred from ROUTTY 41BABC0692054EA7AE843FAF8860C70E to PDAP 3010</Message>#    </Messages>#  </RouttyFeedbackDocument>#</RouttyFeedbackDocuments>'
    INTO ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_URL'         '/api/document/accountingfeedback'.
  add_method lt_scenario 8 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingFeedback","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_routtyap_iv_to_pd_06.

**************************************************************************************************
* Scenario: MM Invoice is not transferred from Routty to PD. Error 500.
* Version: 01

**************************************************************************************************
  DATA: lt_scenario LIKE mst_scenario-scenario,
        lst_val     LIKE LINE OF lt_scenario.

**************************************************************************************************
**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 1 'CREATE_REL_URL' 'PATH'     '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'URL'      '/api/accounting/IdsReadyForExport'.

  add_method lt_scenario 2 'CALL_HTTP' '' ''.
  add_method lt_scenario 2 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 2 'CALL_HTTP' 'IS_URL'         '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 2 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_RESULT'      '{"Success":true,"Message":"Document Raw Ids","Data":[166]}'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/accounting/document/166'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/accounting/document/166'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/accounting/document/166'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '500'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_routtyap_iv_to_pd_07.

**************************************************************************************************
* Scenario: MM Invoice is transferred from Routty to PD, no attachment provided to RFC
* Version: 07

**************************************************************************************************
  DATA: lr_rfc_extdata   TYPE REF TO data,
        lr_rfc_archiving TYPE REF TO data,
        lr_rfc_content   TYPE REF TO data,
        lr_rfc_bo_hdr    TYPE REF TO data,
        lr_rfc_status    TYPE REF TO data,
        lr_rfc_messages  TYPE REF TO data,

        lt_scenario      LIKE mst_scenario-scenario,
        lst_val          LIKE LINE OF lt_scenario,
        ls_value         LIKE lst_val-value,
        ls_date          TYPE string.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD

  create_rfc_data_submit_data_mm( EXPORTING ib_skip_attach   = abap_true
                                  IMPORTING er_rfc_extdata   = lr_rfc_extdata
                                            er_rfc_archiving = lr_rfc_archiving
                                            er_rfc_content   = lr_rfc_content
                                            er_rfc_bo_hdr    = lr_rfc_bo_hdr
                                            er_rfc_status    = lr_rfc_status
                                            er_rfc_messages  = lr_rfc_messages ).


**************************************************************************************************
**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 1 'CREATE_REL_URL' 'PATH'     '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'URL'      '/api/accounting/IdsReadyForExport'.

  add_method lt_scenario 2 'CALL_HTTP' '' ''.
  add_method lt_scenario 2 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 2 'CALL_HTTP' 'IS_URL'         '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 2 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_RESULT'      '{"Success":true,"Message":"Document Raw Ids","Data":[166]}'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/accounting/document/166'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/accounting/document/166'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/accounting/document/166'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.

  CONCATENATE
  '{"Success":true,"Message":"Accounting document","Data":"<PurchaseInvoice>\r\n  <PurchaseInvoiceData>\r\n    <DocumentSet>\r\n      <Id>66</Id>\r\n      <DocumentId>IV_4500022682_1</DocumentId>\r\n      <Guid>41babc06-9205-4ea7-ae84-3faf8860c70e</Guid'
  '>\r\n      <DocumentTypeId p4:nil=\"true\" xmlns:p4=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n    </DocumentSet>\r\n    <PurchaseInvoiceHeader>\r\n      <Supplier>\r\n        <Metadata>\r\n          <Number>43001</Number>\r\n          <Site'
  'Code />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>OMV AG</Name1>\r\n          <Name2 />\r\n          <Address1>Rennbahnstrasse 61</Address1>\r\n          <Address2 />\r\n'
  '          <PoBox />\r\n          <PostalCode>1020</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynat'
  'os.be</EmailAddress>\r\n          <PaymentTerms>0001</PaymentTerms>\r\n          <PaymentMethod>AKLOSU</PaymentMethod>\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimen'
  'sion5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\n              <Number>ATU99999993</Number>\r\n              <Scheme>VAT</'
  'Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n              <AccountNumber>98765454321<'
  '/AccountNumber>\r\n              <IBAN>AT421910098765454321</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Di'
  'mension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>   </Currency>\r\n      '
  '        <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n           '
  '   <AccountNumber>88877766655</AccountNumber>\r\n              <IBAN>AT981910088877766655</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dime'
  'nsion3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Partner</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </S'
  'upplier>\r\n      <Buyer>\r\n        <Metadata>\r\n          <Number>1043</Number>\r\n          <SiteCode />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>Dynatos Ãsterreich'
  ' GmbH</Name1>\r\n          <Name2 />\r\n          <Address1>Heugasse 1</Address1>\r\n          <Address2 />\r\n          <PoBox />\r\n          <PostalCode>1121</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location'
  ' />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynatos.be</EmailAddress>\r\n          <PaymentTerms />\r\n          <PaymentMethod />\r\n          <Dimension1 />\r\n          <Dimension2 />\r'
  '\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\'
  'n              <Number>ABC123</Number>\r\n              <Scheme>VAT</Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankN'
  'umber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              '
  '<Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Company</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </Buyer>\r\n      <DocumentRec'
  'eiver>\r\n        <Id>0</Id>\r\n        <Number>43001</Number>\r\n        <VatNumber>ATU99999993</VatNumber>\r\n        <Name>OMV AG</Name>\r\n        <Street>Rennbahnstrasse 61</Street>\r\n        <PostalCode>1020</PostalCode>\r\n        <City>Wien<'
  '/City>\r\n        <Country>AT</Country>\r\n        <ExternalUniqueId>1043</ExternalUniqueId>\r\n      </DocumentReceiver>\r\n      <DocumentSupplier>\r\n        <Id>0</Id>\r\n        <Number>1043</Number>\r\n        <Name>Dynatos Ãsterreich GmbH</Na'
  'me>\r\n        <RegistrationNumber1>ABC123</RegistrationNumber1>\r\n        <Street>Heugasse 1</Street>\r\n        <PostalCode>1121</PostalCode>\r\n        <City>Wien</City>\r\n        <Country>AT</Country>\r\n        <CorporateGroupID>1043</Corporat'
  'eGroupID>\r\n      </DocumentSupplier>\r\n      <Id>56</Id>\r\n      <DocumentReference>IV_4500022682_1</DocumentReference>\r\n      <OrderReference>4500022682</OrderReference>\r\n      <ReceiptReference />\r\n      <DocumentDate>2022-02-21T00:00:00<'
  '/DocumentDate>\r\n      <PaymentReference />\r\n      <PaymentTerms />\r\n      <DocumentType>Invoice</DocumentType>\r\n      <DocumentSubType>PO</DocumentSubType>\r\n      <Currency>EUR</Currency>\r\n      <CurrencyRate p4:nil=\"true\" xmlns:p4=\"ht'
  'tp://www.w3.org/2001/XMLSchema-instance\" />\r\n      <TotalNetAmount>8000.00</TotalNetAmount>\r\n      <TotalVatAmount>1520.00</TotalVatAmount>\r\n      <TotalGrossAmount>9520.00</TotalGrossAmount>\r\n      <TotalDiscountAmount>0.00</TotalDiscountAm'
  'ount>\r\n      <DocumentReceiversNumber>43001</DocumentReceiversNumber>\r\n      <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n      <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>\r\n      <Documen'
  'tReceiversIban>AT421910098765454321</DocumentReceiversIban>\r\n      <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n      <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>\r\n      <DocumentSuppliersRegistrationNumber'
  '1>ABC123</DocumentSuppliersRegistrationNumber1>\r\n      <VatRate1>NaN</VatRate1>\r\n      <VatRate2 />\r\n      <VatRate3 />\r\n      <VatRate4 />\r\n      <VatRate5 />\r\n      <HeaderText1 />\r\n      <HeaderText2 />\r\n      <ReceptionDate>2022-0'
  '2-21T00:00:00</ReceptionDate>\r\n      <BookingNumber>0</BookingNumber>\r\n      <BookingDate>2022-02-28T00:00:00</BookingDate>\r\n      <BookingYear>2022</BookingYear>\r\n      <BookingMonth>2</BookingMonth>\r\n      <DocumentSetId>66</DocumentSetId'
  '>\r\n      <DocumentRawId>166</DocumentRawId>\r\n      <Dimension1 />\r\n      <Dimension2 />\r\n      <Dimension3 />\r\n      <Dimension4 />\r\n      <Dimension5 />\r\n      <Dimension6 />\r\n      <Dimension7 />\r\n      <Dimension8 />\r\n      <Va'
  'tSystem>S</VatSystem>\r\n      <SupplierNumber>43001</SupplierNumber>\r\n      <SupplierName>OMV AG</SupplierName>\r\n      <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>\r\n      <SupplierIban>AT421910098765454321</SupplierIban'
  '>\r\n      <BuyerNumber>1043</BuyerNumber>\r\n      <BuyerName>Dynatos ?sterreich GmbH</BuyerName>\r\n      <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>\r\n    </PurchaseInvoiceHeader>\r\n    <PurchaseInvoiceLines>\r\n      <PurchaseInvo'
  'iceLine>\r\n        <LineId>1</LineId>\r\n        <ArticleNumberSupplier />\r\n        <ArticleNumberBuyer />\r\n        <ArticleDescription>Casings</ArticleDescription>\r\n        <StandardArticleNumber />\r\n        <Quantity>100.000000</Quantity>\'
  'r\n        <UnitCode>H87</UnitCode>\r\n        <Price>80.000000</Price>\r\n        <LineAmount>8000.000000</LineAmount>\r\n        <Status>Matched</Status>\r\n        <PurchaseInvoiceHeaderId>56</PurchaseInvoiceHeaderId>\r\n        <OrderReference>45'
  '00022682</OrderReference>\r\n        <OrderLineId>4500022682</OrderLineId>\r\n        <ReceiptReference />\r\n        <ReceiptLineId />\r\n        <Dimension1 />\r\n        <Dimension2 />\r\n        <Dimension3 />\r\n        <Dimension4 />\r\n       '
  ' <Dimension5 />\r\n        <Dimension6 />\r\n        <Dimension7 />\r\n        <Dimension8 />\r\n        <VatAmount>1520.000000</VatAmount>\r\n        <VatRate>19.0000</VatRate>\r\n        <PurchaseOrderLinesId>10784</PurchaseOrderLinesId>\r\n       '
  ' <EanCode />\r\n      </PurchaseInvoiceLine>\r\n    </PurchaseInvoiceLines>\r\n    <PurchaseInvoiceCodingLines>\r\n      <PurchaseInvoiceCodingLine>\r\n        <GlAccount>400000</GlAccount>\r\n        <CostCenter>1043</CostCenter>\r\n        <DebitAm'
  'ount>8000.00</DebitAmount>\r\n        <VatAmount>1520.00</VatAmount>\r\n        <VatRate>19.000000000000000000</VatRate>\r\n        <VatCode>VA</VatCode>\r\n        <VatSystem>S</VatSystem>\r\n        <Status>POLine</Status>\r\n        <HeaderId>56</'
  'HeaderId>\r\n        <PurchaseInvoiceLinesId>149</PurchaseInvoiceLinesId>\r\n      </PurchaseInvoiceCodingLine>\r\n    </PurchaseInvoiceCodingLines>\r\n    <PurchaseInvoiceIntrastatLines />\r\n    <PurchaseInvoicePaymentScheduleLines />\r\n    <Match'
  'ingExceptions />\r\n    <ArchiveLinks>\r\n      <Link>X2PaQk6QaOlqtJGsFTIt1g==</Link>\r\n      <Link>TooELfAdWi1JVO+OyCOzyg==</Link>\r\n    </ArchiveLinks>\r\n    <Attachments>\r\n      <Attachment>\r\n        <Filename>Base_41babc06-9205-4ea7-ae84-3'
  'faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Base Document</Type>\r\n      '
  '</Attachment>\r\n      <Attachment>\r\n        <Filename>41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf</Filename>\r\n        <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>application/pdf</MimeType>\r\n         <Type>'
  'Sales Invoice</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>Converted_41babc06-9205-4ea7-ae84-3faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeT'
  'ype>\r\n        <Type>Converted Document</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>AccountingDocument_41babc06-9205-4ea7-ae84-3faf8860c70e_2022-02-21_11-20-34-777.xml</Filename>\r\n        '
  '<Data>VGhpcyBpcyBBY2NvdW50aW5nRG9jdW1lbnQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Attachment</T'
  'ype>\r\n      </Attachment>\r\n    </Attachments>\r\n  </PurchaseInvoiceData>\r\n  <PurchaseOrderMasterDataList>\r\n    <PurchaseOrderMasterData>\r\n      <PurchaseOrderHeader>\r\n        <DocumentReference>4500022682</DocumentReference>\r\n        <'
  'ExtraReference />\r\n        <DocumentDate>2022-02-21T00:00:00</DocumentDate>\r\n        <DocumentType>NB</DocumentType>\r\n        <DocumentSubType />\r\n        <Currency>EUR</Currency>\r\n        <TotalNetAmount>8000.00</TotalNetAmount>\r\n       '
  ' <TotalVatAmount>0.00</TotalVatAmount>\r\n        <TotalGrossAmount>8000.00</TotalGrossAmount>\r\n        <TotalDiscountAmount>0.00</TotalDiscountAmount>\r\n        <OrderReference />\r\n        <DocumentReceiversNumber>43001</DocumentReceiversNumber'
  '>\r\n        <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n        <DocumentReceiversRegistrationNumber1 />\r\n        <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n        <DocumentSuppliersName />\r\n        <HeaderText1 />\'
  'r\n        <HeaderText2 />\r\n        <DocumentStatus>Open</DocumentStatus>\r\n        <RequesterId />\r\n        <SuppliersName>OMV AG</SuppliersName>\r\n        <SupplierName>OMV AG</SupplierName>\r\n        <SuppliersNumber>43001</SuppliersNumber>'
  '\r\n        <SupplierNumber>43001</SupplierNumber>\r\n        <SuppliersRegistrationNumber />\r\n        <SupplierRegistrationNumber />\r\n        <BuyerName />\r\n        <BuyerNumber>1043</BuyerNumber>\r\n        <ReceiversName />\r\n        <Recei'
  'verName />\r\n        <ReceiversNumber>1043</ReceiversNumber>\r\n        <ReceiverNumber>1043</ReceiverNumber>\r\n      </PurchaseOrderHeader>\r\n      <PurchaseOrderLines>\r\n        <PurchaseOrderLine>\r\n          <Id>10784</Id>\r\n          <Line'
  'Id>10</LineId>\r\n          <ExtraReference>4500022682</ExtraReference>\r\n          <ArticleNumberSupplier />\r\n          <ArticleNumberBuyer>100-100</ArticleNumberBuyer>\r\n          <ArticleDescription>Casings</ArticleDescription>\r\n          <S'
  'tandardArticleNumber />\r\n          <Quantity>100.000000</Quantity>\r\n          <UnitCode>ST</UnitCode>\r\n          <Price>80.000000</Price>\r\n          <DiscountAmount>0.000000</DiscountAmount>\r\n          <LineAmount>8000.000000</LineAmount>\r'
  '\n          <Status />\r\n          <GlAccount />\r\n          <CostCenter />\r\n          <VatCode />\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n    '
  '      <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <StartDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n          <EndDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XML'
  'Schema-instance\" />\r\n          <InvoicedQuantity>0.000000</InvoicedQuantity>\r\n          <InvoicedAmount>0.000000</InvoicedAmount>\r\n        </PurchaseOrderLine>\r\n      </PurchaseOrderLines>\r\n    </PurchaseOrderMasterData>\r\n  </PurchaseOrd'
  'erMasterDataList>\r\n</PurchaseInvoice>"}' INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT' ls_value.

  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' '' ''.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_OBJ'       'IV'.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_ENV'       'XB'.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_MAPID'     'ROUTTY'.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_EXTDATA'   lr_rfc_extdata.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_ARCHIVING' lr_rfc_archiving.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_CONTENT'   lr_rfc_content.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ES_BO_HDR'    lr_rfc_bo_hdr.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ES_STATUS'    lr_rfc_status.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ET_MESSAGES'  lr_rfc_messages.

  add_method lt_scenario 6 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 6 'CREATE_REL_URL' 'PATH'     '/api/document/accountingfeedback'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'URL'      '/api/document/accountingfeedback'.

  add_method lt_scenario 7 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 7 'SET_HEADER_FIELD' 'NAME'  'Accept'.
  add_method lt_scenario 7 'SET_HEADER_FIELD' 'VALUE' 'application/json'.

  add_method lt_scenario 8 'CALL_HTTP' '' ''.
  add_method lt_scenario 8 'CALL_HTTP' 'IC_METHOD' 'POST'.

  ls_date = sy-datum.
  CONCATENATE ls_date(4) '-' ls_date+4(2) '-' ls_date+6(2) INTO ls_date.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<RouttyFeedbackDocuments>#  <RouttyFeedbackDocument>#    <Status>Success</Status>#    <DocumentGuid>41babc06-9205-4ea7-ae84-3faf8860c70e</DocumentGuid>#    <ProcessDate>'
  ls_date
  '</ProcessDate>#    <Messages>#'
  '<Message>Document transferred from ROUTTY 41BABC0692054EA7AE843FAF8860C70E to PDAP 3010</Message>#    </Messages>#  </RouttyFeedbackDocument>#</RouttyFeedbackDocuments>'
    INTO ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_URL'         '/api/document/accountingfeedback'.
  add_method lt_scenario 8 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingFeedback","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_routtyap_iv_to_pd_08.

**************************************************************************************************
* Scenario: MM Invoice is transferred from Routty to PD, with additinal PDAP field REVERSAL_DOC
*           on the header level and FINAL_INV on the item level
* Version: 08

**************************************************************************************************
  DATA: lr_rfc_extdata   TYPE REF TO data,
        lr_rfc_archiving TYPE REF TO data,
        lr_rfc_content   TYPE REF TO data,
        lr_rfc_bo_hdr    TYPE REF TO data,
        lr_rfc_status    TYPE REF TO data,
        lr_rfc_messages  TYPE REF TO data,

        lt_scenario      LIKE mst_scenario-scenario,
        lst_val          LIKE LINE OF lt_scenario,
        ls_value         LIKE lst_val-value,
        ls_date          TYPE string.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD

  create_rfc_data_submit_data_mm( EXPORTING ib_with_pdap     = abap_true
                                  IMPORTING er_rfc_extdata   = lr_rfc_extdata
                                            er_rfc_archiving = lr_rfc_archiving
                                            er_rfc_content   = lr_rfc_content
                                            er_rfc_bo_hdr    = lr_rfc_bo_hdr
                                            er_rfc_status    = lr_rfc_status
                                            er_rfc_messages  = lr_rfc_messages ).


**************************************************************************************************
**************************************************************************************************
* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 1 'CREATE_REL_URL' 'PATH'     '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'URL'      '/api/accounting/IdsReadyForExport'.

  add_method lt_scenario 2 'CALL_HTTP' '' ''.
  add_method lt_scenario 2 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 2 'CALL_HTTP' 'IS_URL'         '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 2 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_RESULT'      '{"Success":true,"Message":"Document Raw Ids","Data":[166]}'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/accounting/document/166'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/accounting/document/166'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/accounting/document/166'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.

  CONCATENATE
  '{"Success":true,"Message":"Accounting document","Data":"<PurchaseInvoice><PurchaseInvoiceData> <ReversalDoc>ABC</ReversalDoc> <DocumentSet><Id>66</Id><DocumentId>IV_4500022682_1</DocumentId>\r\n      <Guid>41babc06-9205-4ea7-ae84-3faf8860c70e</Guid'
  '>\r\n      <DocumentTypeId p4:nil=\"true\" xmlns:p4=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n    </DocumentSet>\r\n    <PurchaseInvoiceHeader> <ReversalDoc>ABC</ReversalDoc> <Supplier> <Metadata> <Number>43001</Number> <Site'
  'Code />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>OMV AG</Name1>\r\n          <Name2 />\r\n          <Address1>Rennbahnstrasse 61</Address1>\r\n          <Address2 />\r\n'
  '          <PoBox />\r\n          <PostalCode>1020</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynat'
  'os.be</EmailAddress>\r\n          <PaymentTerms>0001</PaymentTerms>\r\n          <PaymentMethod>AKLOSU</PaymentMethod>\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimen'
  'sion5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\n              <Number>ATU99999993</Number>\r\n              <Scheme>VAT</'
  'Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n              <AccountNumber>98765454321<'
  '/AccountNumber>\r\n              <IBAN>AT421910098765454321</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Di'
  'mension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>   </Currency>\r\n      '
  '        <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n           '
  '   <AccountNumber>88877766655</AccountNumber>\r\n              <IBAN>AT981910088877766655</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dime'
  'nsion3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Partner</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </S'
  'upplier>\r\n      <Buyer>\r\n        <Metadata>\r\n          <Number>1043</Number>\r\n          <SiteCode />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>Dynatos Ãsterreich'
  ' GmbH</Name1>\r\n          <Name2 />\r\n          <Address1>Heugasse 1</Address1>\r\n          <Address2 />\r\n          <PoBox />\r\n          <PostalCode>1121</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location'
  ' />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynatos.be</EmailAddress>\r\n          <PaymentTerms />\r\n          <PaymentMethod />\r\n          <Dimension1 />\r\n          <Dimension2 />\r'
  '\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\'
  'n              <Number>ABC123</Number>\r\n              <Scheme>VAT</Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankN'
  'umber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              '
  '<Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Company</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </Buyer>\r\n      <DocumentRec'
  'eiver>\r\n        <Id>0</Id>\r\n        <Number>43001</Number>\r\n        <VatNumber>ATU99999993</VatNumber>\r\n        <Name>OMV AG</Name>\r\n        <Street>Rennbahnstrasse 61</Street>\r\n        <PostalCode>1020</PostalCode>\r\n        <City>Wien<'
  '/City>\r\n        <Country>AT</Country>\r\n        <ExternalUniqueId>1043</ExternalUniqueId>\r\n      </DocumentReceiver>\r\n      <DocumentSupplier>\r\n        <Id>0</Id>\r\n        <Number>1043</Number>\r\n        <Name>Dynatos Ãsterreich GmbH</Na'
  'me>\r\n        <RegistrationNumber1>ABC123</RegistrationNumber1>\r\n        <Street>Heugasse 1</Street>\r\n        <PostalCode>1121</PostalCode>\r\n        <City>Wien</City>\r\n        <Country>AT</Country>\r\n        <CorporateGroupID>1043</Corporat'
  'eGroupID>\r\n      </DocumentSupplier>\r\n      <Id>56</Id>\r\n      <DocumentReference>IV_4500022682_1</DocumentReference>\r\n      <OrderReference>4500022682</OrderReference>\r\n      <ReceiptReference />\r\n      <DocumentDate>2022-02-21T00:00:00<'
  '/DocumentDate>\r\n      <PaymentReference />\r\n      <PaymentTerms />\r\n      <DocumentType>Invoice</DocumentType>\r\n      <DocumentSubType>PO</DocumentSubType>\r\n      <Currency>EUR</Currency>\r\n      <CurrencyRate p4:nil=\"true\" xmlns:p4=\"ht'
  'tp://www.w3.org/2001/XMLSchema-instance\" />\r\n      <TotalNetAmount>8000.00</TotalNetAmount>\r\n      <TotalVatAmount>1520.00</TotalVatAmount>\r\n      <TotalGrossAmount>9520.00</TotalGrossAmount>\r\n      <TotalDiscountAmount>0.00</TotalDiscountAm'
  'ount>\r\n      <DocumentReceiversNumber>43001</DocumentReceiversNumber>\r\n      <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n      <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>\r\n      <Documen'
  'tReceiversIban>AT421910098765454321</DocumentReceiversIban>\r\n      <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n      <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>\r\n      <DocumentSuppliersRegistrationNumber'
  '1>ABC123</DocumentSuppliersRegistrationNumber1>\r\n      <VatRate1>NaN</VatRate1>\r\n      <VatRate2 />\r\n      <VatRate3 />\r\n      <VatRate4 />\r\n      <VatRate5 />\r\n      <HeaderText1 />\r\n      <HeaderText2 />\r\n      <ReceptionDate>2022-0'
  '2-21T00:00:00</ReceptionDate>\r\n      <BookingNumber>0</BookingNumber>\r\n      <BookingDate>2022-02-28T00:00:00</BookingDate>\r\n      <BookingYear>2022</BookingYear>\r\n      <BookingMonth>2</BookingMonth>\r\n      <DocumentSetId>66</DocumentSetId'
  '>\r\n      <DocumentRawId>166</DocumentRawId>\r\n      <Dimension1 />\r\n      <Dimension2 />\r\n      <Dimension3 />\r\n      <Dimension4 />\r\n      <Dimension5 />\r\n      <Dimension6 />\r\n      <Dimension7 />\r\n      <Dimension8 />\r\n      <Va'
  'tSystem>S</VatSystem>\r\n      <SupplierNumber>43001</SupplierNumber>\r\n      <SupplierName>OMV AG</SupplierName>\r\n      <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>\r\n      <SupplierIban>AT421910098765454321</SupplierIban'
  '>\r\n      <BuyerNumber>1043</BuyerNumber>\r\n      <BuyerName>Dynatos ?sterreich GmbH</BuyerName>\r\n      <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>\r\n    </PurchaseInvoiceHeader>\r\n    <PurchaseInvoiceLines>\r\n      <PurchaseInvo'
  'iceLine> <LineId>1</LineId> <FinalInv>X</FinalInv> <ArticleNumberSupplier /> <ArticleNumberBuyer />\r\n        <ArticleDescription>Casings</ArticleDescription>\r\n        <StandardArticleNumber />\r\n        <Quantity>100.000000</Quantity>\'
  'r\n        <UnitCode>H87</UnitCode>\r\n        <Price>80.000000</Price>\r\n        <LineAmount>8000.000000</LineAmount>\r\n        <Status>Matched</Status>\r\n        <PurchaseInvoiceHeaderId>56</PurchaseInvoiceHeaderId>\r\n        <OrderReference>45'
  '00022682</OrderReference>\r\n        <OrderLineId>4500022682</OrderLineId>\r\n        <ReceiptReference />\r\n        <ReceiptLineId />\r\n        <Dimension1 />\r\n        <Dimension2 />\r\n        <Dimension3 />\r\n        <Dimension4 />\r\n       '
  ' <Dimension5 />\r\n        <Dimension6 />\r\n        <Dimension7 />\r\n        <Dimension8 />\r\n        <VatAmount>1520.000000</VatAmount>\r\n        <VatRate>19.0000</VatRate>\r\n        <PurchaseOrderLinesId>10784</PurchaseOrderLinesId>\r\n       '
  ' <EanCode />\r\n      </PurchaseInvoiceLine>\r\n    </PurchaseInvoiceLines>\r\n    <PurchaseInvoiceCodingLines>\r\n      <PurchaseInvoiceCodingLine>\r\n        <GlAccount>400000</GlAccount>\r\n        <CostCenter>1043</CostCenter>\r\n        <DebitAm'
  'ount>8000.00</DebitAmount>\r\n        <VatAmount>1520.00</VatAmount>\r\n        <VatRate>19.000000000000000000</VatRate>\r\n        <VatCode>VA</VatCode>\r\n        <VatSystem>S</VatSystem>\r\n        <Status>POLine</Status>\r\n        <HeaderId>56</'
  'HeaderId>\r\n        <PurchaseInvoiceLinesId>149</PurchaseInvoiceLinesId>\r\n      </PurchaseInvoiceCodingLine>\r\n    </PurchaseInvoiceCodingLines>\r\n    <PurchaseInvoiceIntrastatLines />\r\n    <PurchaseInvoicePaymentScheduleLines />\r\n    <Match'
  'ingExceptions />\r\n    <ArchiveLinks>\r\n      <Link>X2PaQk6QaOlqtJGsFTIt1g==</Link>\r\n      <Link>TooELfAdWi1JVO+OyCOzyg==</Link>\r\n    </ArchiveLinks>\r\n    <Attachments>\r\n      <Attachment>\r\n        <Filename>Base_41babc06-9205-4ea7-ae84-3'
  'faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Base Document</Type>\r\n      '
  '</Attachment>\r\n      <Attachment>\r\n        <Filename>41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf</Filename>\r\n        <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>application/pdf</MimeType>\r\n         <Type>'
  'Sales Invoice</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>Converted_41babc06-9205-4ea7-ae84-3faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeT'
  'ype>\r\n        <Type>Converted Document</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>AccountingDocument_41babc06-9205-4ea7-ae84-3faf8860c70e_2022-02-21_11-20-34-777.xml</Filename>\r\n        '
  '<Data>VGhpcyBpcyBBY2NvdW50aW5nRG9jdW1lbnQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Attachment</T'
  'ype>\r\n      </Attachment>\r\n    </Attachments>\r\n  </PurchaseInvoiceData>\r\n  <PurchaseOrderMasterDataList>\r\n    <PurchaseOrderMasterData>\r\n      <PurchaseOrderHeader>\r\n        <DocumentReference>4500022682</DocumentReference>\r\n        <'
  'ExtraReference />\r\n        <DocumentDate>2022-02-21T00:00:00</DocumentDate>\r\n        <DocumentType>NB</DocumentType>\r\n        <DocumentSubType />\r\n        <Currency>EUR</Currency>\r\n        <TotalNetAmount>8000.00</TotalNetAmount>\r\n       '
  ' <TotalVatAmount>0.00</TotalVatAmount>\r\n        <TotalGrossAmount>8000.00</TotalGrossAmount>\r\n        <TotalDiscountAmount>0.00</TotalDiscountAmount>\r\n        <OrderReference />\r\n        <DocumentReceiversNumber>43001</DocumentReceiversNumber'
  '>\r\n        <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n        <DocumentReceiversRegistrationNumber1 />\r\n        <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n        <DocumentSuppliersName />\r\n        <HeaderText1 />\'
  'r\n        <HeaderText2 />\r\n        <DocumentStatus>Open</DocumentStatus>\r\n        <RequesterId />\r\n        <SuppliersName>OMV AG</SuppliersName>\r\n        <SupplierName>OMV AG</SupplierName>\r\n        <SuppliersNumber>43001</SuppliersNumber>'
  '\r\n        <SupplierNumber>43001</SupplierNumber>\r\n        <SuppliersRegistrationNumber />\r\n        <SupplierRegistrationNumber />\r\n        <BuyerName />\r\n        <BuyerNumber>1043</BuyerNumber>\r\n        <ReceiversName />\r\n        <Recei'
  'verName />\r\n        <ReceiversNumber>1043</ReceiversNumber>\r\n        <ReceiverNumber>1043</ReceiverNumber>\r\n      </PurchaseOrderHeader>\r\n      <PurchaseOrderLines>\r\n        <PurchaseOrderLine>\r\n          <Id>10784</Id>\r\n          <Line'
  'Id>10</LineId>\r\n          <ExtraReference>4500022682</ExtraReference>\r\n          <ArticleNumberSupplier />\r\n          <ArticleNumberBuyer>100-100</ArticleNumberBuyer>\r\n          <ArticleDescription>Casings</ArticleDescription>\r\n          <S'
  'tandardArticleNumber />\r\n          <Quantity>100.000000</Quantity>\r\n          <UnitCode>ST</UnitCode>\r\n          <Price>80.000000</Price>\r\n          <DiscountAmount>0.000000</DiscountAmount>\r\n          <LineAmount>8000.000000</LineAmount>\r'
  '\n          <Status />\r\n          <GlAccount />\r\n          <CostCenter />\r\n          <VatCode />\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n    '
  '      <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <StartDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n          <EndDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XML'
  'Schema-instance\" />\r\n          <InvoicedQuantity>0.000000</InvoicedQuantity>\r\n          <InvoicedAmount>0.000000</InvoicedAmount>\r\n        </PurchaseOrderLine>\r\n      </PurchaseOrderLines>\r\n    </PurchaseOrderMasterData>\r\n  </PurchaseOrd'
  'erMasterDataList>\r\n</PurchaseInvoice>"}' INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT' ls_value.

  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' '' ''.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_OBJ'       'IV'.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_ENV'       'XB'.
  add_method     lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IC_MAPID'     'ROUTTY'.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_EXTDATA'   lr_rfc_extdata.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_ARCHIVING' lr_rfc_archiving.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'IT_CONTENT'   lr_rfc_content.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ES_BO_HDR'    lr_rfc_bo_hdr.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ES_STATUS'    lr_rfc_status.
  add_method_ref lt_scenario 5 'EBY_PDBO_RFC_DATA_RECEIVE' 'ET_MESSAGES'  lr_rfc_messages.

  add_method lt_scenario 6 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 6 'CREATE_REL_URL' 'PATH'     '/api/document/accountingfeedback'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 6 'CREATE_REL_URL' 'URL'      '/api/document/accountingfeedback'.

  add_method lt_scenario 7 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 7 'SET_HEADER_FIELD' 'NAME'  'Accept'.
  add_method lt_scenario 7 'SET_HEADER_FIELD' 'VALUE' 'application/json'.

  add_method lt_scenario 8 'CALL_HTTP' '' ''.
  add_method lt_scenario 8 'CALL_HTTP' 'IC_METHOD' 'POST'.

  ls_date = sy-datum.
  CONCATENATE ls_date(4) '-' ls_date+4(2) '-' ls_date+6(2) INTO ls_date.
  CONCATENATE
  '<?xml version="1.0" encoding="utf-8"?>#<RouttyFeedbackDocuments>#  <RouttyFeedbackDocument>#    <Status>Success</Status>#    <DocumentGuid>41babc06-9205-4ea7-ae84-3faf8860c70e</DocumentGuid>#    <ProcessDate>'
  ls_date
  '</ProcessDate>#    <Messages>#'
  '<Message>Document transferred from ROUTTY 41BABC0692054EA7AE843FAF8860C70E to PDAP 3010</Message>#    </Messages>#  </RouttyFeedbackDocument>#</RouttyFeedbackDocuments>'
    INTO ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 8 'CALL_HTTP' 'IS_URL'         '/api/document/accountingfeedback'.
  add_method lt_scenario 8 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 8 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingFeedback","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_ROUTTYAP_IV_TO_PD_NEG.

**************************************************************************************************
* Scenario: MM Invoice is transferred from Routty to PD with negative amounts
* Version: 01

**************************************************************************************************
  DATA: lt_scenario      LIKE mst_scenario-scenario,
        lst_val          LIKE LINE OF lt_scenario,
        ls_value         LIKE lst_val-value.

**************************************************************************************************
**************************************************************************************************
* Scenario definition
  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 1 'CREATE_REL_URL' 'PATH'     '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 1 'CREATE_REL_URL' 'URL'      '/api/accounting/IdsReadyForExport'.

  add_method lt_scenario 2 'CALL_HTTP' '' ''.
  add_method lt_scenario 2 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 2 'CALL_HTTP' 'IS_URL'         '/api/accounting/IdsReadyForExport'.
  add_method lt_scenario 2 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 2 'CALL_HTTP' 'ES_RESULT'      '{"Success":true,"Message":"Document Raw Ids","Data":[166]}'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/accounting/document/166'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/accounting/document/166'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD'      'GET'.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/accounting/document/166'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.

  CONCATENATE
  '{"Success":true,"Message":"Accounting document","Data":"<PurchaseInvoice>\r\n  <PurchaseInvoiceData>\r\n    <DocumentSet>\r\n      <Id>66</Id>\r\n      <DocumentId>IV_4500022682_1</DocumentId>\r\n      <Guid>41babc06-9205-4ea7-ae84-3faf8860c70e</Guid'
  '>\r\n      <DocumentTypeId p4:nil=\"true\" xmlns:p4=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n    </DocumentSet>\r\n    <PurchaseInvoiceHeader>\r\n      <Supplier>\r\n        <Metadata>\r\n          <Number>43001</Number>\r\n          <Site'
  'Code />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>OMV AG</Name1>\r\n          <Name2 />\r\n          <Address1>Rennbahnstrasse 61</Address1>\r\n          <Address2 />\r\n'
  '          <PoBox />\r\n          <PostalCode>1020</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynat'
  'os.be</EmailAddress>\r\n          <PaymentTerms>0001</PaymentTerms>\r\n          <PaymentMethod>AKLOSU</PaymentMethod>\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimen'
  'sion5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\n              <Number>ATU99999993</Number>\r\n              <Scheme>VAT</'
  'Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n              <AccountNumber>98765454321<'
  '/AccountNumber>\r\n              <IBAN>AT421910098765454321</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Di'
  'mension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>   </Currency>\r\n      '
  '        <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n            <PartyBankAccount>\r\n              <BankNumber>19100</BankNumber>\r\n           '
  '   <AccountNumber>88877766655</AccountNumber>\r\n              <IBAN>AT981910088877766655</IBAN>\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dime'
  'nsion3 />\r\n              <Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Partner</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </S'
  'upplier>\r\n      <Buyer>\r\n        <Metadata>\r\n          <Number>1043</Number>\r\n          <SiteCode />\r\n          <CorporateGroupID>1043</CorporateGroupID>\r\n          <IsMasterdata>true</IsMasterdata>\r\n          <Name1>Dynatos Ãsterreich'
  ' GmbH</Name1>\r\n          <Name2 />\r\n          <Address1>Heugasse 1</Address1>\r\n          <Address2 />\r\n          <PoBox />\r\n          <PostalCode>1121</PostalCode>\r\n          <City>Wien</City>\r\n          <State />\r\n          <Location'
  ' />\r\n          <CountryCode>AT</CountryCode>\r\n          <Telephone />\r\n          <EmailAddress>info@dynatos.be</EmailAddress>\r\n          <PaymentTerms />\r\n          <PaymentMethod />\r\n          <Dimension1 />\r\n          <Dimension2 />\r'
  '\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n          <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <PartyRegistrationNumbers>\r\n            <PartyRegistrationNumber>\r\'
  'n              <Number>ABC123</Number>\r\n              <Scheme>VAT</Scheme>\r\n            </PartyRegistrationNumber>\r\n          </PartyRegistrationNumbers>\r\n          <PartyBankAccounts>\r\n            <PartyBankAccount>\r\n              <BankN'
  'umber />\r\n              <AccountNumber />\r\n              <IBAN />\r\n              <BIC />\r\n              <Currency>EUR</Currency>\r\n              <Dimension1 />\r\n              <Dimension2 />\r\n              <Dimension3 />\r\n              '
  '<Dimension4 />\r\n            </PartyBankAccount>\r\n          </PartyBankAccounts>\r\n        </Metadata>\r\n        <Type>\r\n          <Name>Company</Name>\r\n        </Type>\r\n        <Active>true</Active>\r\n      </Buyer>\r\n      <DocumentRec'
  'eiver>\r\n        <Id>0</Id>\r\n        <Number>43001</Number>\r\n        <VatNumber>ATU99999993</VatNumber>\r\n        <Name>OMV AG</Name>\r\n        <Street>Rennbahnstrasse 61</Street>\r\n        <PostalCode>1020</PostalCode>\r\n        <City>Wien<'
  '/City>\r\n        <Country>AT</Country>\r\n        <ExternalUniqueId>1043</ExternalUniqueId>\r\n      </DocumentReceiver>\r\n      <DocumentSupplier>\r\n        <Id>0</Id>\r\n        <Number>1043</Number>\r\n        <Name>Dynatos Ãsterreich GmbH</Na'
  'me>\r\n        <RegistrationNumber1>ABC123</RegistrationNumber1>\r\n        <Street>Heugasse 1</Street>\r\n        <PostalCode>1121</PostalCode>\r\n        <City>Wien</City>\r\n        <Country>AT</Country>\r\n        <CorporateGroupID>1043</Corporat'
  'eGroupID>\r\n      </DocumentSupplier>\r\n      <Id>56</Id>\r\n      <DocumentReference>IV_4500022682_1</DocumentReference>\r\n      <OrderReference>4500022682</OrderReference>\r\n      <ReceiptReference />\r\n      <DocumentDate>2022-02-21T00:00:00<'
  '/DocumentDate>\r\n      <PaymentReference />\r\n      <PaymentTerms />\r\n      <DocumentType>Invoice</DocumentType>\r\n      <DocumentSubType>PO</DocumentSubType>\r\n      <Currency>EUR</Currency>\r\n      <CurrencyRate p4:nil=\"true\" xmlns:p4=\"ht'
  'tp://www.w3.org/2001/XMLSchema-instance\" />\r\n      <TotalNetAmount>-8000.00</TotalNetAmount>\r\n      <TotalVatAmount>-1520.00</TotalVatAmount>\r\n      <TotalGrossAmount>-9520.00</TotalGrossAmount>\r\n'
  '<TotalDiscountAmount>0.00</TotalDiscountAm'
  'ount>\r\n      <DocumentReceiversNumber>43001</DocumentReceiversNumber>\r\n      <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n      <DocumentReceiversRegistrationNumber1>ATU99999993</DocumentReceiversRegistrationNumber1>\r\n      <Documen'
  'tReceiversIban>AT421910098765454321</DocumentReceiversIban>\r\n      <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n      <DocumentSuppliersName>Dynatos ?sterreich GmbH</DocumentSuppliersName>\r\n      <DocumentSuppliersRegistrationNumber'
  '1>ABC123</DocumentSuppliersRegistrationNumber1>\r\n      <VatRate1>NaN</VatRate1>\r\n      <VatRate2 />\r\n      <VatRate3 />\r\n      <VatRate4 />\r\n      <VatRate5 />\r\n      <HeaderText1 />\r\n      <HeaderText2 />\r\n      <ReceptionDate>2022-0'
  '2-21T00:00:00</ReceptionDate>\r\n      <BookingNumber>0</BookingNumber>\r\n      <BookingDate>2022-02-28T00:00:00</BookingDate>\r\n      <BookingYear>2022</BookingYear>\r\n      <BookingMonth>2</BookingMonth>\r\n      <DocumentSetId>66</DocumentSetId'
  '>\r\n      <DocumentRawId>166</DocumentRawId>\r\n      <Dimension1 />\r\n      <Dimension2 />\r\n      <Dimension3 />\r\n      <Dimension4 />\r\n      <Dimension5 />\r\n      <Dimension6 />\r\n      <Dimension7 />\r\n      <Dimension8 />\r\n      <Va'
  'tSystem>S</VatSystem>\r\n      <SupplierNumber>43001</SupplierNumber>\r\n      <SupplierName>OMV AG</SupplierName>\r\n      <SupplierRegistrationNumber>ATU99999993</SupplierRegistrationNumber>\r\n      <SupplierIban>AT421910098765454321</SupplierIban'
  '>\r\n      <BuyerNumber>1043</BuyerNumber>\r\n      <BuyerName>Dynatos ?sterreich GmbH</BuyerName>\r\n      <BuyerRegistrationNumber>ABC123</BuyerRegistrationNumber>\r\n    </PurchaseInvoiceHeader>\r\n    <PurchaseInvoiceLines>\r\n      <PurchaseInvo'
  'iceLine>\r\n        <LineId>1</LineId>\r\n        <ArticleNumberSupplier />\r\n        <ArticleNumberBuyer />\r\n        <ArticleDescription>Casings</ArticleDescription>\r\n        <StandardArticleNumber />\r\n        <Quantity>100.000000</Quantity>\'
  'r\n        <UnitCode>H87</UnitCode>\r\n        <Price>80.000000</Price>\r\n        <LineAmount>8000.000000</LineAmount>\r\n        <Status>Matched</Status>\r\n        <PurchaseInvoiceHeaderId>56</PurchaseInvoiceHeaderId>\r\n        <OrderReference>45'
  '00022682</OrderReference>\r\n        <OrderLineId>4500022682</OrderLineId>\r\n        <ReceiptReference />\r\n        <ReceiptLineId />\r\n        <Dimension1 />\r\n        <Dimension2 />\r\n        <Dimension3 />\r\n        <Dimension4 />\r\n       '
  ' <Dimension5 />\r\n        <Dimension6 />\r\n        <Dimension7 />\r\n        <Dimension8 />\r\n        <VatAmount>1520.000000</VatAmount>\r\n        <VatRate>19.0000</VatRate>\r\n        <PurchaseOrderLinesId>10784</PurchaseOrderLinesId>\r\n       '
  ' <EanCode />\r\n      </PurchaseInvoiceLine>\r\n    </PurchaseInvoiceLines>\r\n    <PurchaseInvoiceCodingLines>\r\n      <PurchaseInvoiceCodingLine>\r\n        <GlAccount>400000</GlAccount>\r\n        <CostCenter>1043</CostCenter>\r\n        <DebitAm'
  'ount>8000.00</DebitAmount>\r\n        <VatAmount>1520.00</VatAmount>\r\n        <VatRate>19.000000000000000000</VatRate>\r\n        <VatCode>VA</VatCode>\r\n        <VatSystem>S</VatSystem>\r\n        <Status>POLine</Status>\r\n        <HeaderId>56</'
  'HeaderId>\r\n        <PurchaseInvoiceLinesId>149</PurchaseInvoiceLinesId>\r\n      </PurchaseInvoiceCodingLine>\r\n    </PurchaseInvoiceCodingLines>\r\n    <PurchaseInvoiceIntrastatLines />\r\n    <PurchaseInvoicePaymentScheduleLines />\r\n    <Match'
  'ingExceptions />\r\n    <ArchiveLinks>\r\n      <Link>X2PaQk6QaOlqtJGsFTIt1g==</Link>\r\n      <Link>TooELfAdWi1JVO+OyCOzyg==</Link>\r\n    </ArchiveLinks>\r\n    <Attachments>\r\n      <Attachment>\r\n        <Filename>Base_41babc06-9205-4ea7-ae84-3'
  'faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBCYXNlIGF0dGFjaG1lbnQ=</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Base Document</Type>\r\n      '
  '</Attachment>\r\n      <Attachment>\r\n        <Filename>41babc06-9205-4ea7-ae84-3faf8860c70e_generated.pdf</Filename>\r\n        <Data>VGhpcyBpcyBnZW5lcmF0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>application/pdf</MimeType>\r\n         <Type>'
  'Sales Invoice</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>Converted_41babc06-9205-4ea7-ae84-3faf8860c70e.xml</Filename>\r\n        <Data>VGhpcyBpcyBDb252ZXJ0ZWQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeT'
  'ype>\r\n        <Type>Converted Document</Type>\r\n      </Attachment>\r\n      <Attachment>\r\n        <Filename>AccountingDocument_41babc06-9205-4ea7-ae84-3faf8860c70e_2022-02-21_11-20-34-777.xml</Filename>\r\n        '
  '<Data>VGhpcyBpcyBBY2NvdW50aW5nRG9jdW1lbnQgYXR0YWNobWVudA==</Data>\r\n        <MimeType>text/xml</MimeType>\r\n        <Type>Attachment</T'
  'ype>\r\n      </Attachment>\r\n    </Attachments>\r\n  </PurchaseInvoiceData>\r\n  <PurchaseOrderMasterDataList>\r\n    <PurchaseOrderMasterData>\r\n      <PurchaseOrderHeader>\r\n        <DocumentReference>4500022682</DocumentReference>\r\n        <'
  'ExtraReference />\r\n        <DocumentDate>2022-02-21T00:00:00</DocumentDate>\r\n        <DocumentType>NB</DocumentType>\r\n        <DocumentSubType />\r\n        <Currency>EUR</Currency>\r\n        <TotalNetAmount>8000.00</TotalNetAmount>\r\n       '
  ' <TotalVatAmount>0.00</TotalVatAmount>\r\n        <TotalGrossAmount>8000.00</TotalGrossAmount>\r\n        <TotalDiscountAmount>0.00</TotalDiscountAmount>\r\n        <OrderReference />\r\n        <DocumentReceiversNumber>43001</DocumentReceiversNumber'
  '>\r\n        <DocumentReceiversName>OMV AG</DocumentReceiversName>\r\n        <DocumentReceiversRegistrationNumber1 />\r\n        <DocumentSuppliersNumber>1043</DocumentSuppliersNumber>\r\n        <DocumentSuppliersName />\r\n        <HeaderText1 />\'
  'r\n        <HeaderText2 />\r\n        <DocumentStatus>Open</DocumentStatus>\r\n        <RequesterId />\r\n        <SuppliersName>OMV AG</SuppliersName>\r\n        <SupplierName>OMV AG</SupplierName>\r\n        <SuppliersNumber>43001</SuppliersNumber>'
  '\r\n        <SupplierNumber>43001</SupplierNumber>\r\n        <SuppliersRegistrationNumber />\r\n        <SupplierRegistrationNumber />\r\n        <BuyerName />\r\n        <BuyerNumber>1043</BuyerNumber>\r\n        <ReceiversName />\r\n        <Recei'
  'verName />\r\n        <ReceiversNumber>1043</ReceiversNumber>\r\n        <ReceiverNumber>1043</ReceiverNumber>\r\n      </PurchaseOrderHeader>\r\n      <PurchaseOrderLines>\r\n        <PurchaseOrderLine>\r\n          <Id>10784</Id>\r\n          <Line'
  'Id>10</LineId>\r\n          <ExtraReference>4500022682</ExtraReference>\r\n          <ArticleNumberSupplier />\r\n          <ArticleNumberBuyer>100-100</ArticleNumberBuyer>\r\n          <ArticleDescription>Casings</ArticleDescription>\r\n          <S'
  'tandardArticleNumber />\r\n          <Quantity>100.000000</Quantity>\r\n          <UnitCode>ST</UnitCode>\r\n          <Price>80.000000</Price>\r\n          <DiscountAmount>0.000000</DiscountAmount>\r\n          <LineAmount>8000.000000</LineAmount>\r'
  '\n          <Status />\r\n          <GlAccount />\r\n          <CostCenter />\r\n          <VatCode />\r\n          <Dimension1 />\r\n          <Dimension2 />\r\n          <Dimension3 />\r\n          <Dimension4 />\r\n          <Dimension5 />\r\n    '
  '      <Dimension6 />\r\n          <Dimension7 />\r\n          <Dimension8 />\r\n          <StartDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XMLSchema-instance\" />\r\n          <EndDate p6:nil=\"true\" xmlns:p6=\"http://www.w3.org/2001/XML'
  'Schema-instance\" />\r\n          <InvoicedQuantity>0.000000</InvoicedQuantity>\r\n          <InvoicedAmount>0.000000</InvoicedAmount>\r\n        </PurchaseOrderLine>\r\n      </PurchaseOrderLines>\r\n    </PurchaseOrderMasterData>\r\n  </PurchaseOrd'
  'erMasterDataList>\r\n</PurchaseInvoice>"}' INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT' ls_value.

ENDMETHOD.
METHOD get_sc_supplier_to_routtyap_01.

**************************************************************************************************
* Scenario: Supplier is transferred from SAP to Routty
* Version: 01, one company code, one vendor

**************************************************************************************************

  DATA: lr_banks          TYPE REF TO data,
        lr_vendors        TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_vendors( IMPORTING er_sel_opt = lr_sel_opt
                                er_vendors = lr_vendors ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_vendor_banks_01( IMPORTING er_banks = lr_banks ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_VENDORS' '' ''.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'ET_VENDORS'         lr_vendors.

  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000043001'.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'ID_DATE'       '20220101'.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 3 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 3 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 3 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks.

  add_method lt_scenario 4 'GET_IBAN' '' ''.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 4 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 5 'GET_SWIFT' '' ''.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 5 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 6 'GET_IBAN' '' ''.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 6 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 7 'GET_SWIFT' '' ''.
  add_method lt_scenario 7 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 7 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 7 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

* Party
  add_method lt_scenario 9 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 9 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 9 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 10 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 10 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 10 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 10 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 11 'CALL_HTTP' '' ''.
  add_method lt_scenario 11 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#     <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers># </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 11 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 11 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 11 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 11 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 11 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.


* Party bank
  add_method lt_scenario 12 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 12 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 12 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 13 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 13 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 14 'CALL_HTTP' '' ''.
  add_method lt_scenario 14 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <PartyBankAccounts>#'
    '<PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <Currency>EUR</Currency>#'
    '</PartyBankAccount>#        <PartyBankAccount>#     <BankNumber>19100</BankNumber>#          <AccountNumber>98765454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#'
    '<Currency>EUR</Currency>#        </PartyBankAccount>#  </PartyBankAccounts>#    </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 14 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Party Banks","Success":true}'.


  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_supplier_to_routtyap_02.

**************************************************************************************************
* Scenario: Supplier is transferred from SAP to Routty
* Version: 02, two company codes, one vendor

**************************************************************************************************

  DATA: lr_banks          TYPE REF TO data,
        lr_vendors        TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_vendors( EXPORTING ii_num_of_comp_codes = 2
                                ii_num_of_vendors    = 1
                      IMPORTING er_sel_opt           = lr_sel_opt
                                er_vendors           = lr_vendors ).
  create_company_codes_02( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_vendor_banks_01( IMPORTING er_banks = lr_banks ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_VENDORS' '' ''.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'ET_VENDORS'         lr_vendors.

* vendor for CC 1043
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000043001'.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'ID_DATE'       '20220101'.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 3 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 3 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 3 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks.

  add_method lt_scenario 4 'GET_IBAN' '' ''.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 4 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 5 'GET_SWIFT' '' ''.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 5 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 6 'GET_IBAN' '' ''.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 6 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 7 'GET_SWIFT' '' ''.
  add_method lt_scenario 7 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 7 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 7 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

* vendor for CC 1049
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000043001'.
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' 'ID_DATE'       '20220101'.
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 10 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 10 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 10 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks.

  add_method lt_scenario 11 'GET_IBAN' '' ''.
  add_method lt_scenario 11 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 11 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 11 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 11 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 12 'GET_SWIFT' '' ''.
  add_method lt_scenario 12 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 12 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 12 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 13 'GET_IBAN' '' ''.
  add_method lt_scenario 13 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 13 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 13 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 13 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 14 'GET_SWIFT' '' ''.
  add_method lt_scenario 14 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 14 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 14 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 15 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 15 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 15 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

* Party
  add_method lt_scenario 16 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 16 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 16 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 17 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 17 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 17 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 17 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 18 'CALL_HTTP' '' ''.
  add_method lt_scenario 18 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
*    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <Location/>#      <CountryCod'
*    'e>AT</CountryCode>#      <Telephone/>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#
*<Dimension4/>#'
*    '<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <BIC/>#'
*    '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#   <Dimension2/>#          <Dimension3/># <Dimension4/>#        </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1049</CorporateGroupID>#      '
*    '<Name1>OMV AG 2</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <Location/>#      <CountryCod'
*    'e>AT</CountryCode>#      <Telephone/>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#
*<Dimension4/>#'
*    '<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <BIC/>#'
*    '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#   <Dimension2/>#          <Dimension3/># <Dimension4/>#        </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*    '</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#     <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#'
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#   </PartyRegistrationNumbers>#         </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'
    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1049</CorporateGroupID>#      '
    '<Name1>OMV AG 2</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#   <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers>#      </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'
    '</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 18 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 18 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 18 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 18 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 18 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.


* Party bank
  add_method lt_scenario 19 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 19 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 19 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 20 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 20 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 20 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 20 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 21 'CALL_HTTP' '' ''.
  add_method lt_scenario 21 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <PartyBankAccounts>#'
    '<PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
    '/PartyBankAccounts># </Metadata>#  </Party>'
    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1049</CorporateGroupID>#      '
 '<PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
    '/PartyBankAccounts>#    </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 21 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 21 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 21 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 21 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 21 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_supplier_to_routtyap_03.

**************************************************************************************************
* Scenario: Supplier is transferred from SAP to Routty
* Version: 03, one company code, two vendors

**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_vendors        TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_vendors( EXPORTING ii_num_of_comp_codes = 1
                                ii_num_of_vendors    = 2
                      IMPORTING er_sel_opt           = lr_sel_opt
                                er_vendors           = lr_vendors ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_vendor_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_vendor_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_VENDORS' '' ''.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'ET_VENDORS'         lr_vendors.

* vendor 43001
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000043001'.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'ID_DATE'       '20220101'.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 3 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 3 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 3 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_01.

  add_method lt_scenario 4 'GET_IBAN' '' ''.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 4 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 5 'GET_SWIFT' '' ''.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 5 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 6 'GET_IBAN' '' ''.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 6 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 7 'GET_SWIFT' '' ''.
  add_method lt_scenario 7 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 7 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 7 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

* vendor 44001
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000044001'.
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' 'ID_DATE'       '20220101'.
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 10 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 10 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000044001'.
  add_method_ref lt_scenario 10 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_02.

  add_method lt_scenario 11 'GET_IBAN' '' ''.
  add_method lt_scenario 11 'GET_IBAN' 'IC_BANKL' '55555'.
  add_method lt_scenario 11 'GET_IBAN' 'IC_BANKN' '12345678901'.
  add_method lt_scenario 11 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 11 'GET_IBAN' 'EC_IBAN'  'DE985555512345678901'.

  add_method lt_scenario 12 'GET_SWIFT' '' ''.
  add_method lt_scenario 12 'GET_SWIFT' 'IC_BANKL' '55555'.
  add_method lt_scenario 12 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 12 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 13 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 13 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730200'.
  add_method lt_scenario 13 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@deutsch.de'.


* Party
  add_method lt_scenario 14 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 14 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 14 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 15 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 15 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 15 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 15 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 16 'CALL_HTTP' '' ''.
  add_method lt_scenario 16 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*  CONCATENATE
*  '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
*  '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*  '<Name1>OMV AG</Name1>#     <Address1>Rennbahnstrasse 6</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <Location/>#      <CountryCod'
*  'e>AT</CountryCode>#      <Telephone/>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#'
*  '<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*  '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <BIC/>#'
*  '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*  '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#   <Dimension2/>#          <Dimension3/># <Dimension4/>#        </PartyBankAccount>#      <'
*  '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*
*  '<Party>#    <Metadata>#      <Number>44001</Number>#     <CorporateGroupID>1043</CorporateGroupID>#    '
*  '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <Location/>#<CountryCod'
*  'e>DE</CountryCode>#      <Telephone/>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#
*<Dimension4/'
*  '>#<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*  '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          <BIC/>#'
*  '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount><'
*  '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*  '</PartyList>'
*    INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
    '<Name1>OMV AG</Name1>#     <Address1>Rennbahnstrasse 6</Address1>#     <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers>#      </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'

    '<Party>#    <Metadata>#      <Number>44001</Number>#     <CorporateGroupID>1043</CorporateGroupID>#    '
    '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <CountryCod'
    'e>DE</CountryCode>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers>#       </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'
    '</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 16 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 16 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 16 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 16 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 16 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.


* Party bank
  add_method lt_scenario 17 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 17 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 17 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 18 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 18 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 18 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 18 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 19 'CALL_HTTP' '' ''.
  add_method lt_scenario 19 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#'
    '<PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
    '/PartyBankAccounts>#</Metadata>#  </Party>#  '
    '<Party>#    <Metadata>#      <Number>44001</Number>#     <CorporateGroupID>1043</CorporateGroupID># <PartyBankAccounts># '
    '<PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount></PartyBankAccounts>#       </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 19 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 19 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 19 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 19 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 19 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_supplier_to_routtyap_04.

**************************************************************************************************
* Scenario: Supplier is transferred from SAP to Routty
* Version: 04, one company code, two vendors
*             bulk size = 1, so each vendor will be sent in a separat API call
**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_vendors        TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.

**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_vendors( EXPORTING ii_num_of_comp_codes = 1
                                ii_num_of_vendors    = 2
                      IMPORTING er_sel_opt           = lr_sel_opt
                                er_vendors           = lr_vendors ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_vendor_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_vendor_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_VENDORS' '' ''.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'ET_VENDORS'         lr_vendors.

* vendor 43001
  add_method     lt_scenario 2 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 2 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 2 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_01.

  add_method lt_scenario 3 'GET_IBAN' '' ''.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 3 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 4 'GET_SWIFT' '' ''.
  add_method lt_scenario 4 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 4 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 4 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 5 'GET_IBAN' '' ''.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 5 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 6 'GET_SWIFT' '' ''.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 6 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

  add_method lt_scenario 8 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 8 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 8 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 9 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 9 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 9 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 9 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 10 'CALL_HTTP' '' ''.
  add_method lt_scenario 10 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
*    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    ' <Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <Location/>#      <CountryCod'
*    'e>AT</CountryCode>#      <Telephone/>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#
*<Dimension4/>#'
*    '<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <BIC/>#'
*    '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#   <Dimension2/>#          <Dimension3/># <Dimension4/>#        </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*    '</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
    ' <Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#     <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers>#      </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'
    '</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 10 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 10 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 10 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 10 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 10 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.


* Party bank
  add_method lt_scenario 11 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 11 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 11 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 12 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 12 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 12 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 12 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 13 'CALL_HTTP' '' ''.
  add_method lt_scenario 13 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <PartyBankAccounts>#'
    '<PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
    '/PartyBankAccounts>#        </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 13 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 13 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 13 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 13 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 13 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.



* vendor 44001
  add_method     lt_scenario 14 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 14 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000044001'.
  add_method_ref lt_scenario 14 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_02.

  add_method lt_scenario 15 'GET_IBAN' '' ''.
  add_method lt_scenario 15 'GET_IBAN' 'IC_BANKL' '55555'.
  add_method lt_scenario 15 'GET_IBAN' 'IC_BANKN' '12345678901'.
  add_method lt_scenario 15 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 15 'GET_IBAN' 'EC_IBAN'  'DE985555512345678901'.

  add_method lt_scenario 16 'GET_SWIFT' '' ''.
  add_method lt_scenario 16 'GET_SWIFT' 'IC_BANKL' '55555'.
  add_method lt_scenario 16 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 16 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 17 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 17 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730200'.
  add_method lt_scenario 17 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@deutsch.de'.

* Party
  add_method lt_scenario 18 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 18 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 18 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 19 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 19 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 19 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 19 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 20 'CALL_HTTP' '' ''.
  add_method lt_scenario 20 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
*    '<Party>#    <Metadata>#      <Number>44001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#    '
*    '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <Location/>#<CountryCod'
*  'e>DE</CountryCode>#      <Telephone/>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#
*<Dimension4/'
*  '>#<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*  '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          <BIC/>#'
*  '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount><'
*  '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*  '</PartyList>'
*    INTO ls_value.
  ELSE.
    CONCATENATE
     '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
     '<Party>#    <Metadata>#      <Number>44001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#    '
     '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <CountryCod'
     'e>DE</CountryCode>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
     '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
     '#      </PartyRegistrationNumbers>#        </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'
     '</PartyList>'
       INTO ls_value.
  ENDIF.
  add_method lt_scenario 20 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 20 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 20 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 20 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 20 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

* Party bank
  add_method lt_scenario 21 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 21 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 21 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 22 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 22 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 22 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 22 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 23 'CALL_HTTP' '' ''.
  add_method lt_scenario 23 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
     '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>44001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <PartyBankAccounts>#'
     '        <PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          '
     '<Currency>EUR</Currency>#          </PartyBankAccount><'
     '/PartyBankAccounts>#      </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 23 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 23 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 23 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 23 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 23 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_supplier_to_routtyap_05.

**************************************************************************************************
* Scenario: Supplier is transferred from SAP to Routty
* Version: 05, one company code, two vendors
*             bulk size = 1, so each vendor will be sent in a separat API call
*             the existing values are removed (delete = true)
**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_vendors        TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.

**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_vendors( EXPORTING ii_num_of_comp_codes = 1
                                ii_num_of_vendors    = 2
                      IMPORTING er_sel_opt           = lr_sel_opt
                                er_vendors           = lr_vendors ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_vendor_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_vendor_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_VENDORS' '' ''.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'ET_VENDORS'         lr_vendors.

* vendor 43001
  add_method     lt_scenario 2 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 2 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 2 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_01.

  add_method lt_scenario 3 'GET_IBAN' '' ''.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 3 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 4 'GET_SWIFT' '' ''.
  add_method lt_scenario 4 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 4 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 4 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 5 'GET_IBAN' '' ''.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 5 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 6 'GET_SWIFT' '' ''.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 6 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

  add_method lt_scenario 8 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 8 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 8 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 9 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 9 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 9 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 9 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 10 'CALL_HTTP' '' ''.
  add_method lt_scenario 10 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
*    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    ' <Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <Location/>#      <CountryCod'
*    'e>AT</CountryCode>#      <Telephone/>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#
*<Dimension4/>#'
*    '<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <BIC/>#'
*    '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#   <Dimension2/>#          <Dimension3/># <Dimension4/>#        </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*    '</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
    ' <Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#     <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers>#      </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'
    '</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 10 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 10 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 10 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 10 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 10 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.


* Party bank
  add_method lt_scenario 11 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 11 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 11 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 12 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 12 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 12 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 12 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 13 'CALL_HTTP' '' ''.
  add_method lt_scenario 13 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <PartyBankAccounts>#'
    '<PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
    '/PartyBankAccounts>#        </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 13 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 13 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 13 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 13 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 13 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.



* vendor 44001
  add_method     lt_scenario 14 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 14 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000044001'.
  add_method_ref lt_scenario 14 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_02.

  add_method lt_scenario 15 'GET_IBAN' '' ''.
  add_method lt_scenario 15 'GET_IBAN' 'IC_BANKL' '55555'.
  add_method lt_scenario 15 'GET_IBAN' 'IC_BANKN' '12345678901'.
  add_method lt_scenario 15 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 15 'GET_IBAN' 'EC_IBAN'  'DE985555512345678901'.

  add_method lt_scenario 16 'GET_SWIFT' '' ''.
  add_method lt_scenario 16 'GET_SWIFT' 'IC_BANKL' '55555'.
  add_method lt_scenario 16 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 16 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 17 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 17 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730200'.
  add_method lt_scenario 17 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@deutsch.de'.

* Party
* the existing entries are already removed, switch the mode to 'append'
  add_method lt_scenario 18 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 18 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 18 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 19 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 19 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 19 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 19 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 20 'CALL_HTTP' '' ''.
  add_method lt_scenario 20 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
*    '<Party>#    <Metadata>#      <Number>44001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#    '
*    '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <Location/>#<CountryCod'
*  'e>DE</CountryCode>#      <Telephone/>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#
*<Dimension4/'
*  '>#<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*  '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          <BIC/>#'
*  '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount><'
*  '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*  '</PartyList>'
*    INTO ls_value.
  ELSE.
    CONCATENATE
     '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
     '<Party>#    <Metadata>#      <Number>44001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#    '
     '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <CountryCod'
     'e>DE</CountryCode>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
     '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
     '#      </PartyRegistrationNumbers>#        </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'
     '</PartyList>'
       INTO ls_value.
  ENDIF.
  add_method lt_scenario 20 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 20 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 20 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 20 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 20 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

* Party bank
  add_method lt_scenario 21 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 21 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 21 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 22 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 22 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 22 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 22 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 23 'CALL_HTTP' '' ''.
  add_method lt_scenario 23 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
     '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>44001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <PartyBankAccounts>#'
     '        <PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          '
     '<Currency>EUR</Currency>#          </PartyBankAccount><'
     '/PartyBankAccounts>#      </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 23 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 23 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 23 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 23 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 23 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_supplier_to_routtyap_06.

**************************************************************************************************
* Scenario: Supplier is transferred from SAP to Routty
* Version: 06, one company code, two vendors
*             one vendor is blocked, full update with inactive vendors skipped
**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_vendors        TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.
  FIELD-SYMBOLS: <t_vendors> TYPE zdyn_lstr_vmd,
                 <st_vendor> LIKE LINE OF <t_vendors>.

**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_vendors( EXPORTING ii_num_of_comp_codes = 1
                                ii_num_of_vendors    = 2
                      IMPORTING er_sel_opt           = lr_sel_opt
                                er_vendors           = lr_vendors ).
  ASSIGN lr_vendors->* TO <t_vendors>.
* Let vendor 44001 be blocked for posting
  READ TABLE <t_vendors> WITH KEY lifnr = '0000044001' ASSIGNING <st_vendor>.
  <st_vendor>-sperr = abap_true.

  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_vendor_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_vendor_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_VENDORS' '' ''.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'ET_VENDORS'         lr_vendors.

* vendor 43001
  add_method     lt_scenario 2 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 2 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 2 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_01.

  add_method lt_scenario 3 'GET_IBAN' '' ''.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 3 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 4 'GET_SWIFT' '' ''.
  add_method lt_scenario 4 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 4 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 4 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 5 'GET_IBAN' '' ''.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 5 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 6 'GET_SWIFT' '' ''.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 6 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

* Party
  add_method lt_scenario 8 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 8 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 8 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 9 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 9 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 9 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 9 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 10 'CALL_HTTP' '' ''.
  add_method lt_scenario 10 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*  CONCATENATE
*  '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
*  '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*  '<Name1>OMV AG</Name1>#     <Address1>Rennbahnstrasse 6</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <Location/>#      <CountryCod'
*  'e>AT</CountryCode>#      <Telephone/>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#'
*  '<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*  '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <BIC/>#'
*  '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*  '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#   <Dimension2/>#          <Dimension3/># <Dimension4/>#        </PartyBankAccount>#      <'
*  '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*
*  '<Party>#    <Metadata>#      <Number>44001</Number>#     <CorporateGroupID>1043</CorporateGroupID>#    '
*  '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <Location/>#<CountryCod'
*  'e>DE</CountryCode>#      <Telephone/>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#
*<Dimension4/'
*  '>#<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*  '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          <BIC/>#'
*  '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount><'
*  '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*  '</PartyList>'
*    INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
    '<Name1>OMV AG</Name1>#     <Address1>Rennbahnstrasse 6</Address1>#     <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers>#      </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'
    '</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 10 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 10 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 10 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 10 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 10 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.


* Party bank
  add_method lt_scenario 11 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 11 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 11 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 12 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 12 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 12 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 12 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 13 'CALL_HTTP' '' ''.
  add_method lt_scenario 13 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#'
    '<PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
    '/PartyBankAccounts>#</Metadata>#  </Party>#  '
    '</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 13 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 13 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 13 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 13 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 13 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_SUPPLIER_TO_ROUTTYAP_07.

**************************************************************************************************
* Scenario: Supplier is transferred from SAP to Routty
* Version: 07, one company code, two vendors
*             one vendor is blocked, full update with inactive vendors taken
**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_vendors        TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.
  FIELD-SYMBOLS: <t_vendors> TYPE zdyn_lstr_vmd,
                 <st_vendor> LIKE LINE OF <t_vendors>.

**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_vendors( EXPORTING ii_num_of_comp_codes = 1
                                ii_num_of_vendors    = 2
                      IMPORTING er_sel_opt           = lr_sel_opt
                                er_vendors           = lr_vendors ).
  ASSIGN lr_vendors->* TO <t_vendors>.
* Let vendor 44001 be blocked for posting
  READ TABLE <t_vendors> WITH KEY lifnr = '0000044001' ASSIGNING <st_vendor>.
  <st_vendor>-sperr = abap_true.

  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_vendor_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_vendor_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_VENDORS' '' ''.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'ET_VENDORS'         lr_vendors.

* vendor 43001
  add_method     lt_scenario 2 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 2 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 2 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_01.

  add_method lt_scenario 3 'GET_IBAN' '' ''.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 3 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 4 'GET_SWIFT' '' ''.
  add_method lt_scenario 4 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 4 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 4 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 5 'GET_IBAN' '' ''.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 5 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 6 'GET_SWIFT' '' ''.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 6 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

* vendor 44001
  add_method     lt_scenario 8 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 8 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000044001'.
  add_method_ref lt_scenario 8 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_02.

  add_method lt_scenario 9 'GET_IBAN' '' ''.
  add_method lt_scenario 9 'GET_IBAN' 'IC_BANKL' '55555'.
  add_method lt_scenario 9 'GET_IBAN' 'IC_BANKN' '12345678901'.
  add_method lt_scenario 9 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 9 'GET_IBAN' 'EC_IBAN'  'DE985555512345678901'.

  add_method lt_scenario 10 'GET_SWIFT' '' ''.
  add_method lt_scenario 10 'GET_SWIFT' 'IC_BANKL' '55555'.
  add_method lt_scenario 10 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 10 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 11 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 11 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730200'.
  add_method lt_scenario 11 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@deutsch.de'.


* Party
  add_method lt_scenario 12 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 12 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 12 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 13 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 13 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 14 'CALL_HTTP' '' ''.
  add_method lt_scenario 14 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*  CONCATENATE
*  '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
*  '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*  '<Name1>OMV AG</Name1>#     <Address1>Rennbahnstrasse 6</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <Location/>#      <CountryCod'
*  'e>AT</CountryCode>#      <Telephone/>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#'
*  '<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*  '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <BIC/>#'
*  '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*  '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#   <Dimension2/>#          <Dimension3/># <Dimension4/>#        </PartyBankAccount>#      <'
*  '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*
*  '<Party>#    <Metadata>#      <Number>44001</Number>#     <CorporateGroupID>1043</CorporateGroupID>#    '
*  '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <Location/>#<CountryCod'
*  'e>DE</CountryCode>#      <Telephone/>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#
*<Dimension4/'
*  '>#<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*  '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          <BIC/>#'
*  '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount><'
*  '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*  '</PartyList>'
*    INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
    '<Name1>OMV AG</Name1>#     <Address1>Rennbahnstrasse 6</Address1>#     <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers>#      </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'

    '<Party>#    <Metadata>#      <Number>44001</Number>#     <CorporateGroupID>1043</CorporateGroupID>#    '
    '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <CountryCod'
    'e>DE</CountryCode>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers>#       </Metadata>#    <Type>#   <Name>Partner</Name># </Type># <Active>false</Active>  </Party>#'
    '</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 14 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.


* Party bank
  add_method lt_scenario 15 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 15 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 15 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 16 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 16 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 16 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 16 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 17 'CALL_HTTP' '' ''.
  add_method lt_scenario 17 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#'
    '<PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
    '/PartyBankAccounts>#</Metadata>#  </Party>#  '
    '<Party>#    <Metadata>#      <Number>44001</Number>#     <CorporateGroupID>1043</CorporateGroupID># <PartyBankAccounts># '
    '<PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount></PartyBankAccounts>#       </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 17 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 17 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 17 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 17 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 17 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_SUPPLIER_TO_ROUTTYAP_08.

**************************************************************************************************
* Scenario: Supplier is transferred from SAP to Routty
* Version: 08, one company code, two vendors
*             one vendor is blocked, incremental (modification date provided), with inactive vendors taken
**************************************************************************************************

  DATA: lr_banks_01       TYPE REF TO data,
        lr_banks_02       TYPE REF TO data,
        lr_vendors        TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.
  FIELD-SYMBOLS: <t_vendors> TYPE zdyn_lstr_vmd,
                 <st_vendor> LIKE LINE OF <t_vendors>.

**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_vendors( EXPORTING ii_num_of_comp_codes = 1
                                ii_num_of_vendors    = 2
                      IMPORTING er_sel_opt           = lr_sel_opt
                                er_vendors           = lr_vendors ).
  ASSIGN lr_vendors->* TO <t_vendors>.
* Let vendor 44001 be blocked for posting
  READ TABLE <t_vendors> WITH KEY lifnr = '0000044001' ASSIGNING <st_vendor>.
  <st_vendor>-sperr = abap_true.

  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_vendor_banks_01( IMPORTING er_banks = lr_banks_01 ).
  create_get_vendor_banks_02( IMPORTING er_banks = lr_banks_02 ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_VENDORS' '' ''.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'ET_VENDORS'         lr_vendors.

* vendor 43001
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000043001'.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'ID_DATE'       '20220101'.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 3 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 3 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 3 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_01.

  add_method lt_scenario 4 'GET_IBAN' '' ''.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 4 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 5 'GET_SWIFT' '' ''.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 5 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 6 'GET_IBAN' '' ''.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 6 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 7 'GET_SWIFT' '' ''.
  add_method lt_scenario 7 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 7 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 7 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

* vendor 44001
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000044001'.
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' 'ID_DATE'       '20220101'.
  add_method lt_scenario 9 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 10 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 10 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000044001'.
  add_method_ref lt_scenario 10 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks_02.

  add_method lt_scenario 11 'GET_IBAN' '' ''.
  add_method lt_scenario 11 'GET_IBAN' 'IC_BANKL' '55555'.
  add_method lt_scenario 11 'GET_IBAN' 'IC_BANKN' '12345678901'.
  add_method lt_scenario 11 'GET_IBAN' 'IC_BANKS' 'DE'.
  add_method lt_scenario 11 'GET_IBAN' 'EC_IBAN'  'DE985555512345678901'.

  add_method lt_scenario 12 'GET_SWIFT' '' ''.
  add_method lt_scenario 12 'GET_SWIFT' 'IC_BANKL' '55555'.
  add_method lt_scenario 12 'GET_SWIFT' 'IC_BANKS' 'DE'.
  add_method lt_scenario 12 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 13 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 13 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730200'.
  add_method lt_scenario 13 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@deutsch.de'.


* Party
  add_method lt_scenario 14 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 14 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 14 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 15 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 15 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 15 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 15 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 16 'CALL_HTTP' '' ''.
  add_method lt_scenario 16 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*  CONCATENATE
*  '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
*  '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*  '<Name1>OMV AG</Name1>#     <Address1>Rennbahnstrasse 6</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <Location/>#      <CountryCod'
*  'e>AT</CountryCode>#      <Telephone/>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#      <Dimension4/>#'
*  '<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*  '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <BIC/>#'
*  '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*  '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <BIC/>#          <Currency>EUR</Currency>#          <Dimension1/>#   <Dimension2/>#          <Dimension3/># <Dimension4/>#        </PartyBankAccount>#      <'
*  '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*
*  '<Party>#    <Metadata>#      <Number>44001</Number>#     <CorporateGroupID>1043</CorporateGroupID>#    '
*  '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <Address2/>#      <PoBox/>#      <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <Location/>#<CountryCod'
*  'e>DE</CountryCode>#      <Telephone/>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      <Dimension1/>#      <Dimension2/>#      <Dimension3/>#
*<Dimension4/'
*  '>#<Dimension5/>#      <Dimension6/>#      <Dimension7/>#      <Dimension8/>#      <PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*  '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          <BIC/>#'
*  '<Currency>EUR</Currency>#          <Dimension1/>#          <Dimension2/>#          <Dimension3/>#          <Dimension4/>#        </PartyBankAccount><'
*  '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># <Type/>  </Type>#    <Active>true</Active>#  </Party>#'
*  '</PartyList>'
*    INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#'
    '<Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
    '<Name1>OMV AG</Name1>#     <Address1>Rennbahnstrasse 6</Address1>#     <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers>#      </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#'

    '<Party>#    <Metadata>#      <Number>44001</Number>#     <CorporateGroupID>1043</CorporateGroupID>#    '
    '<Name1>Deutsch AG</Name1>#      <Address1>Warschauerstrasse 2</Address1>#     <PostalCode>1111</PostalCode>#      <City>Berlin</City>#      <State>W</State>#      <CountryCod'
    'e>DE</CountryCode>#      <EmailAddress>test@deutsch.de</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>DEU99999992</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers>#       </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#  <Active>false</Active>  </Party>#'
    '</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 16 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 16 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 16 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 16 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 16 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.


* Party bank
  add_method lt_scenario 17 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 17 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 17 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 18 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 18 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 18 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 18 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 19 'CALL_HTTP' '' ''.
  add_method lt_scenario 19 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#'
    '<PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
    '/PartyBankAccounts>#</Metadata>#  </Party>#  '
    '<Party>#    <Metadata>#      <Number>44001</Number>#     <CorporateGroupID>1043</CorporateGroupID># <PartyBankAccounts># '
    '<PartyBankAccount>#          <BankNumber>55555</BankNumber>#          <AccountNumber>12345678901</AccountNumber>#          <IBAN>DE985555512345678901</IBAN>#          '
    '<Currency>EUR</Currency>#          </PartyBankAccount></PartyBankAccounts>#       </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 19 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 19 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 19 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 19 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 19 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_SUPPLIER_TO_ROUTTYAP_20.

**************************************************************************************************
* Scenario: Supplier is transferred from SAP to Routty
* Version: 01, one company code, one vendor, error returned for supplier

**************************************************************************************************

  DATA: lr_banks          TYPE REF TO data,
        lr_vendors        TYPE REF TO data,
        lr_sel_opt        TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_vendors( IMPORTING er_sel_opt = lr_sel_opt
                                er_vendors = lr_vendors ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_get_vendor_banks_01( IMPORTING er_banks = lr_banks ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_VENDORS' '' ''.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_COMP_CODES'  lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'ET_VENDORS'         lr_vendors.

  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' '' ''.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'IC_OBJECT_ID'  '0000043001'.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'ID_DATE'       '20220101'.
  add_method lt_scenario 2 'IS_OBJECT_MODIFIED' 'RB_RESULT'     'X'.

  add_method     lt_scenario 3 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 3 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 3 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks.

  add_method lt_scenario 4 'GET_IBAN' '' ''.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 4 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 4 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 5 'GET_SWIFT' '' ''.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 5 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 5 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 6 'GET_IBAN' '' ''.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 6 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 6 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 7 'GET_SWIFT' '' ''.
  add_method lt_scenario 7 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 7 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 7 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 8 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

* Party
  add_method lt_scenario 9 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 9 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 9 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 10 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 10 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 10 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 10 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 11 'CALL_HTTP' '' ''.
  add_method lt_scenario 11 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#     <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers># </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 11 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 11 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 11 'CALL_HTTP' 'EI_RETURN_CODE' '400'.
  add_method lt_scenario 11 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 11 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Very bad","Success":false}'.


* Party bank
  add_method lt_scenario 12 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 12 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 12 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 13 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 13 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 13 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 14 'CALL_HTTP' '' ''.
  add_method lt_scenario 14 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <PartyBankAccounts>#'
    '<PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <Currency>EUR</Currency>#'
    '</PartyBankAccount>#        <PartyBankAccount>#     <BankNumber>19100</BankNumber>#          <AccountNumber>98765454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#'
    '<Currency>EUR</Currency>#        </PartyBankAccount>#  </PartyBankAccounts>#    </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 14 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 14 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 14 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Party Banks","Success":true}'.


  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_supplier_to_routtyap_nd.

**************************************************************************************************
* Scenario: Supplier is transferred from SAP to Routty, no change date
* Version: 01

**************************************************************************************************

  DATA: lr_banks    TYPE REF TO data,
        lr_vendors  TYPE REF TO data,
        lr_sel_opt  TYPE REF TO data,

        lt_scenario LIKE mst_scenario-scenario,
        lst_val     LIKE LINE OF lt_scenario,
        ls_value    LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_vendors( IMPORTING er_sel_opt = lr_sel_opt
                                er_vendors = lr_vendors ).

  create_get_vendor_banks_01( IMPORTING er_banks = lr_banks ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_VENDORS' '' ''.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'IT_SEL_OPT'         lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_VENDORS' 'ET_VENDORS'         lr_vendors.

  add_method     lt_scenario 2 'GET_VENDOR_BANKS' '' ''.
  add_method     lt_scenario 2 'GET_VENDOR_BANKS' 'IC_VENDOR' '0000043001'.
  add_method_ref lt_scenario 2 'GET_VENDOR_BANKS' 'ET_BANKS'  lr_banks.

  add_method lt_scenario 3 'GET_IBAN' '' ''.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKN' '88877766655'.
  add_method lt_scenario 3 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 3 'GET_IBAN' 'EC_IBAN'  'AT981910088877766655'.

  add_method lt_scenario 4 'GET_SWIFT' '' ''.
  add_method lt_scenario 4 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 4 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 4 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 5 'GET_IBAN' '' ''.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKL' '19100'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKN' '98765454321'.
  add_method lt_scenario 5 'GET_IBAN' 'IC_BANKS' 'AT'.
  add_method lt_scenario 5 'GET_IBAN' 'EC_IBAN'  'AT421910098765454321'.

  add_method lt_scenario 6 'GET_SWIFT' '' ''.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKL' '19100'.
  add_method lt_scenario 6 'GET_SWIFT' 'IC_BANKS' 'AT'.
  add_method lt_scenario 6 'GET_SWIFT' 'RC_SWIFT' ''.

  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' '' ''.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'IC_ADRNR' '0000730189'.
  add_method lt_scenario 7 'GET_EMAIL_FROM_ADR6' 'RS_EMAIL' 'test@omv.at'.

* Party
  add_method lt_scenario 8 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 8 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 8 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 9 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 9 'CREATE_REL_URL' 'PATH'     '/api/masterdata/parties'.
  add_method lt_scenario 9 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 9 'CREATE_REL_URL' 'URL'      '/api/masterdata/parties'.

  add_method lt_scenario 10 'CALL_HTTP' '' ''.
  add_method lt_scenario 10 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1>#     <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#      <CountryCod'
    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#      '
    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
    '#      </PartyRegistrationNumbers># </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 10 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 10 'CALL_HTTP' 'IS_URL'         '/api/masterdata/parties'.
  add_method lt_scenario 10 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 10 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 10 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.


* Party bank
  add_method lt_scenario 11 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 11 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 11 'SET_HEADER_FIELD' 'VALUE' 'false'.

  add_method lt_scenario 12 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 12 'CREATE_REL_URL' 'PATH'     '/api/masterdata/partybanks'.
  add_method lt_scenario 12 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 12 'CREATE_REL_URL' 'URL'      '/api/masterdata/partybanks'.

  add_method lt_scenario 13 'CALL_HTTP' '' ''.
  add_method lt_scenario 13 'CALL_HTTP' 'IC_METHOD' 'POST'.
  IF mb_xml_compressed = abap_false.
*    CONCATENATE
*    '<?xml version="1.0" encoding="utf-8"?>#<PartyList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      '
*    '<Name1>OMV AG</Name1>#      <Address1>Rennbahnstrasse 6</Address1># <PostalCode>1020</PostalCode>#      <City>Wien</City>#      <State>W</State>#   <CountryCod'
*    'e>AT</CountryCode>#      <EmailAddress>test@omv.at</EmailAddress>#      <PaymentTerms>0001</PaymentTerms>#      <PaymentMethod>AKLOSU</PaymentMethod>#  '
*    '<PartyRegistrationNumbers>#        <PartyRegistrationNumber>#      <Number>ATU99999993</Number>#          <Scheme>VAT</Scheme>#        </PartyRegistrationNumber>'
*    '#      </PartyRegistrationNumbers>#      <PartyBankAccounts>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#'
*    '<Currency>EUR</Currency>#</PartyBankAccount>#        <PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>98765'
*    '454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#          <Currency>EUR</Currency>#          </PartyBankAccount>#      <'
*    '/PartyBankAccounts>#    </Metadata>#    <Type>#   <Name>Partner</Name># </Type>#    <Active>true</Active>#  </Party>#</PartyList>'
*      INTO ls_value.
  ELSE.
    CONCATENATE
    '<?xml version="1.0" encoding="utf-8"?>#<PartyBankAccountList>#  <Party>#    <Metadata>#      <Number>43001</Number>#      <CorporateGroupID>1043</CorporateGroupID>#      <PartyBankAccounts>#'
    '<PartyBankAccount>#          <BankNumber>19100</BankNumber>#          <AccountNumber>88877766655</AccountNumber>#          <IBAN>AT981910088877766655</IBAN>#          <Currency>EUR</Currency>#'
    '</PartyBankAccount>#        <PartyBankAccount>#     <BankNumber>19100</BankNumber>#          <AccountNumber>98765454321</AccountNumber>#          <IBAN>AT421910098765454321</IBAN>#'
    '<Currency>EUR</Currency>#        </PartyBankAccount>#  </PartyBankAccounts>#    </Metadata>#  </Party>#</PartyBankAccountList>'
      INTO ls_value.
  ENDIF.
  add_method lt_scenario 13 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 13 'CALL_HTTP' 'IS_URL'         '/api/masterdata/partybanks'.
  add_method lt_scenario 13 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 13 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 13 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed Parties","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_tax_code_to_routtyap_01.

**************************************************************************************************
* Scenario: Tax Codes is transferred from SAP to Routty
* Version: 01, one company code, one tax code

**************************************************************************************************

  DATA: lr_sel_opt        TYPE REF TO data,
        lr_tax_codes      TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,
        lr_sel_langu      TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_tax_codes( IMPORTING er_sel_opt    = lr_sel_opt
                                  er_tax_codes  = lr_tax_codes ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_langu( IMPORTING er_sel_langu = lr_sel_langu ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_TAX_CODES' '' ''.
  add_method_ref lt_scenario 2 'GET_TAX_CODES' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_TAX_CODES' 'IT_SEL_COMP_CODES' lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_TAX_CODES' 'ET_TAX_CODES' lr_tax_codes.

  add_method lt_scenario     3 'GET_TAX_CODE_TEXT' '' ''.
  add_method lt_scenario     0 'GET_TAX_CODE_TEXT' 'IC_TAX_CODE' 'V0'.
  add_method lt_scenario     0 'GET_TAX_CODE_TEXT' 'IC_PROCEDURE' 'TAXAT'.
  add_method_ref lt_scenario 0 'GET_TAX_CODE_TEXT' 'IT_SEL_LANGU' lr_sel_langu.
  add_method lt_scenario     0 'GET_TAX_CODE_TEXT' 'EC_TEXT' 'Test tax code'.

  add_method lt_scenario 4 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 4 'CREATE_REL_URL' 'PATH' '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 4 'CREATE_REL_URL' 'URL' '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 5 'CALL_HTTP' '' ''.
  add_method lt_scenario 5 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="VatCode"><Value>V0</Value><Description>Test tax code</Description><CorporateGroupID>1043</CorporateGroupID></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 5 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 5 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 5 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 5 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 5 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD get_sc_tax_code_to_routtyap_02.

**************************************************************************************************
* Scenario: Tax Codes is transferred from SAP to Routty
* Version: 01, two company codes, two tax codes

**************************************************************************************************

  DATA: lr_sel_opt        TYPE REF TO data,
        lr_tax_codes      TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,
        lr_sel_langu      TYPE REF TO data,

        lt_scenario       LIKE mst_scenario-scenario,
        lst_val           LIKE LINE OF lt_scenario,
        ls_value          LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
* Data for the RFC in PD
  create_get_tax_codes( EXPORTING ii_num_of_comp_codes = 2
                        IMPORTING er_sel_opt           = lr_sel_opt
                                  er_tax_codes         = lr_tax_codes ).
  create_company_codes_02( IMPORTING er_sel_opt = lr_sel_comp_codes ).
  create_langu( IMPORTING er_sel_langu = lr_sel_langu ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method lt_scenario 1 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'NAME' 'Append'.
  add_method lt_scenario 1 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method     lt_scenario 2 'GET_TAX_CODES' '' ''.
  add_method_ref lt_scenario 2 'GET_TAX_CODES' 'IT_SEL_OPT'   lr_sel_opt.
  add_method_ref lt_scenario 2 'GET_TAX_CODES' 'IT_SEL_COMP_CODES' lr_sel_comp_codes.
  add_method_ref lt_scenario 2 'GET_TAX_CODES' 'ET_TAX_CODES' lr_tax_codes.

  add_method     lt_scenario 3 'GET_TAX_CODE_TEXT' '' ''.
  add_method     lt_scenario 0 'GET_TAX_CODE_TEXT' 'IC_TAX_CODE' 'V0'.
  add_method     lt_scenario 0 'GET_TAX_CODE_TEXT' 'IC_PROCEDURE' 'TAXAT'.
  add_method_ref lt_scenario 0 'GET_TAX_CODE_TEXT' 'IT_SEL_LANGU' lr_sel_langu.
  add_method     lt_scenario 0 'GET_TAX_CODE_TEXT' 'EC_TEXT' 'Test tax code'.

  add_method     lt_scenario 4 'GET_TAX_CODE_TEXT' '' ''.
  add_method     lt_scenario 0 'GET_TAX_CODE_TEXT' 'IC_TAX_CODE' 'V1'.
  add_method     lt_scenario 0 'GET_TAX_CODE_TEXT' 'IC_PROCEDURE' 'TAXD'.
  add_method_ref lt_scenario 0 'GET_TAX_CODE_TEXT' 'IT_SEL_LANGU' lr_sel_langu.
  add_method lt_scenario     0 'GET_TAX_CODE_TEXT' 'EC_TEXT' 'Test tax code 2'.

  add_method lt_scenario 5 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 5 'CREATE_REL_URL' 'PATH' '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 5 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 5 'CREATE_REL_URL' 'URL' '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 6 'CALL_HTTP' '' ''.
  add_method lt_scenario 6 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="VatCode"><Value>V0</Value><Description>Test tax code</Description><CorporateGroupID>1043</CorporateGroupID></AccountingMasterData>'
  '<AccountingMasterData type="VatCode"><Value>V1</Value><Description>Test tax code 2</Description><CorporateGroupID>1049</CorporateGroupID></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 6 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 6 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 6 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 6 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 6 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_WBS_ELEM_TO_ROUTTYAP_01.

**************************************************************************************************
* Scenario: WBS element is transferred from SAP to Routty
* Version: 01, one company code, one WBS element

**************************************************************************************************

  DATA: lr_sel_opt        TYPE REF TO data,
        lr_wbs_elements   TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario     LIKE mst_scenario-scenario,
        lst_val         LIKE LINE OF lt_scenario,
        ls_value        LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
  create_get_wbs_elements( IMPORTING er_sel_opt       = lr_sel_opt
                                     er_wbs_elements  = lr_wbs_elements ).
  create_company_codes_01( IMPORTING er_sel_opt = lr_sel_comp_codes ).

  CLEAR mst_scenario-scenario.

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_WBS_ELEMENTS' '' ''.
  add_method_ref lt_scenario 1 'GET_WBS_ELEMENTS' 'IT_SEL_COMP_CODES' lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_WBS_ELEMENTS' 'IT_SEL_OPT'        lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_WBS_ELEMENTS' 'ET_WBS_ELEMENTS'   lr_wbs_elements.

  add_method lt_scenario 2 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 2 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 2 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="Dimension2"><Value>E4040131</Value><Description>WBS Element E-4040-1-3-1</Description><CorporateGroupID>1043</CorporateGroupID><Field1>00007552</Field1></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
METHOD GET_SC_WBS_ELEM_TO_ROUTTYAP_02.

**************************************************************************************************
* Scenario: WBS element is transferred from SAP to Routty
* Version: 01, one company code, one WBS element

**************************************************************************************************

  DATA: lr_sel_opt        TYPE REF TO data,
        lr_wbs_elements   TYPE REF TO data,
        lr_sel_comp_codes TYPE REF TO data,

        lt_scenario     LIKE mst_scenario-scenario,
        lst_val         LIKE LINE OF lt_scenario,
        ls_value        LIKE lst_val-value.


**************************************************************************************************
**************************************************************************************************
  create_get_wbs_elements( EXPORTING ii_num_of_comp_codes = 2
                           IMPORTING er_sel_opt           = lr_sel_opt
                                     er_wbs_elements      = lr_wbs_elements ).
  create_company_codes_02( IMPORTING er_sel_opt = lr_sel_comp_codes ).

**************************************************************************************************
**************************************************************************************************

* Scenario definition

  mst_scenario-current_id = 1.

  add_method     lt_scenario 1 'GET_WBS_ELEMENTS' '' ''.
  add_method_ref lt_scenario 1 'GET_WBS_ELEMENTS' 'IT_SEL_COMP_CODES' lr_sel_comp_codes.
  add_method_ref lt_scenario 1 'GET_WBS_ELEMENTS' 'IT_SEL_OPT'        lr_sel_opt.
  add_method_ref lt_scenario 1 'GET_WBS_ELEMENTS' 'ET_WBS_ELEMENTS'   lr_wbs_elements.

  add_method lt_scenario 2 'SET_HEADER_FIELD' '' ''.
  add_method lt_scenario 2 'SET_HEADER_FIELD' 'NAME'  'Append'.
  add_method lt_scenario 2 'SET_HEADER_FIELD' 'VALUE' 'true'.

  add_method lt_scenario 3 'CREATE_REL_URL' '' ''.
  add_method lt_scenario 3 'CREATE_REL_URL' 'PATH'     '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'STATEFUL' '1-'.
  add_method lt_scenario 3 'CREATE_REL_URL' 'URL'      '/api/masterdata/accountingmasterdata'.

  add_method lt_scenario 4 'CALL_HTTP' '' ''.
  add_method lt_scenario 4 'CALL_HTTP' 'IC_METHOD' 'POST'.
  CONCATENATE
  '<?xml version="1.0" encoding="UTF-8"?><AccountingMasterDataList>'
  '<AccountingMasterData type="Dimension2"><Value>E4040131</Value><Description>WBS Element E-4040-1-3-1</Description><CorporateGroupID>1043</CorporateGroupID><Field1>00007552</Field1></AccountingMasterData>'
  '<AccountingMasterData type="Dimension2"><Value>E4040133</Value><Description>WBS Element E-4040-1-3-3</Description><CorporateGroupID>1049</CorporateGroupID><Field1>00007553</Field1></AccountingMasterData>'
  '</AccountingMasterDataList>'
    INTO ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_INPUT'       ls_value.
  add_method lt_scenario 4 'CALL_HTTP' 'IS_URL'         '/api/masterdata/accountingmasterdata'.
  add_method lt_scenario 4 'CALL_HTTP' 'EI_RETURN_CODE' '200'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_MEDIA_TYPE'  'application/json'.
  add_method lt_scenario 4 'CALL_HTTP' 'ES_RESULT'      '{"Message":"Processed AccountingMasterdata","Success":true}'.

  mst_scenario-scenario = lt_scenario.
  GET REFERENCE OF mst_scenario INTO er_scenario.

ENDMETHOD.
